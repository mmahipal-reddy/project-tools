{"ast":null,"code":"/**\n * Utility functions for filter operations\n */\n\nexport const getOperatorsForFieldType = fieldType => {\n  const type = (fieldType || '').toLowerCase();\n  if (type === 'date' || type === 'datetime') {\n    return [{\n      value: 'equals',\n      label: 'Equals'\n    }, {\n      value: 'not equals',\n      label: 'Not Equals'\n    }, {\n      value: 'greater than',\n      label: 'Greater Than'\n    }, {\n      value: 'less than',\n      label: 'Less Than'\n    }, {\n      value: 'greater or equal',\n      label: 'Greater or Equal'\n    }, {\n      value: 'less or equal',\n      label: 'Less or Equal'\n    }, {\n      value: 'between',\n      label: 'Between'\n    }];\n  }\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') {\n    return [{\n      value: 'equals',\n      label: 'Equals'\n    }, {\n      value: 'not equals',\n      label: 'Not Equals'\n    }, {\n      value: 'greater than',\n      label: 'Greater Than'\n    }, {\n      value: 'less than',\n      label: 'Less Than'\n    }, {\n      value: 'greater or equal',\n      label: 'Greater or Equal'\n    }, {\n      value: 'less or equal',\n      label: 'Less or Equal'\n    }, {\n      value: 'between',\n      label: 'Between'\n    }];\n  }\n  if (type === 'picklist') {\n    return [{\n      value: 'equals',\n      label: 'Equals'\n    }, {\n      value: 'not equals',\n      label: 'Not Equals'\n    }, {\n      value: 'in',\n      label: 'In (Multiple)'\n    }, {\n      value: 'not in',\n      label: 'Not In (Multiple)'\n    }];\n  }\n  if (type === 'boolean') {\n    return [{\n      value: 'equals',\n      label: 'Equals'\n    }, {\n      value: 'not equals',\n      label: 'Not Equals'\n    }];\n  }\n\n  // Default for text/string fields\n  return [{\n    value: 'equals',\n    label: 'Equals'\n  }, {\n    value: 'not equals',\n    label: 'Not Equals'\n  }, {\n    value: 'contains',\n    label: 'Contains'\n  }, {\n    value: 'not contains',\n    label: 'Not Contains'\n  }, {\n    value: 'starts with',\n    label: 'Starts With'\n  }, {\n    value: 'ends with',\n    label: 'Ends With'\n  }];\n};\nexport const getValueInputType = fieldType => {\n  const type = (fieldType || '').toLowerCase();\n  if (type === 'date' || type === 'datetime') return 'date';\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') return 'number';\n  if (type === 'picklist') return 'picklist';\n  if (type === 'boolean') return 'boolean';\n  return 'text';\n};\nexport const buildSOQLWhereClause = filterStructure => {\n  if (!filterStructure || !filterStructure.groups || filterStructure.groups.length === 0) {\n    return '';\n  }\n  const conditions = filterStructure.groups.map(group => {\n    if (!group.conditions || group.conditions.length === 0) {\n      return null;\n    }\n    const groupConditions = group.conditions.filter(c => c.field && c.operator && c.value !== '' && c.value !== null).map(condition => buildConditionClause(condition)).filter(c => c !== null);\n    if (groupConditions.length === 0) {\n      return null;\n    }\n    const logic = group.logic || 'AND';\n    return `(${groupConditions.join(` ${logic} `)})`;\n  }).filter(c => c !== null);\n  if (conditions.length === 0) {\n    return '';\n  }\n  const groupLogic = filterStructure.groupLogic || 'AND';\n  return conditions.join(` ${groupLogic} `);\n};\nconst buildConditionClause = condition => {\n  const {\n    field,\n    operator,\n    value\n  } = condition;\n  if (!field || !operator || value === '' || value === null) {\n    return null;\n  }\n  const escapedValue = val => {\n    if (typeof val === 'string') {\n      return `'${val.replace(/'/g, \"''\")}'`;\n    }\n    return val;\n  };\n  switch (operator) {\n    case 'equals':\n      return `${field} = ${escapedValue(value)}`;\n    case 'not equals':\n      return `${field} != ${escapedValue(value)}`;\n    case 'contains':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}%'`;\n    case 'not contains':\n      return `NOT (${field} LIKE '%${String(value).replace(/'/g, \"''\")}%')`;\n    case 'starts with':\n      return `${field} LIKE '${String(value).replace(/'/g, \"''\")}%'`;\n    case 'ends with':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}'`;\n    case 'greater than':\n      return `${field} > ${escapedValue(value)}`;\n    case 'less than':\n      return `${field} < ${escapedValue(value)}`;\n    case 'greater or equal':\n      return `${field} >= ${escapedValue(value)}`;\n    case 'less or equal':\n      return `${field} <= ${escapedValue(value)}`;\n    case 'between':\n      if (value && typeof value === 'object' && value.from && value.to) {\n        return `${field} >= ${escapedValue(value.from)} AND ${field} <= ${escapedValue(value.to)}`;\n      }\n      return null;\n    case 'in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} IN (${values})`;\n      }\n      return null;\n    case 'not in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} NOT IN (${values})`;\n      }\n      return null;\n    default:\n      return null;\n  }\n};","map":{"version":3,"names":["getOperatorsForFieldType","fieldType","type","toLowerCase","value","label","getValueInputType","buildSOQLWhereClause","filterStructure","groups","length","conditions","map","group","groupConditions","filter","c","field","operator","condition","buildConditionClause","logic","join","groupLogic","escapedValue","val","replace","String","from","to","Array","isArray","values","v"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/FilterBuilder/filterUtils.js"],"sourcesContent":["/**\n * Utility functions for filter operations\n */\n\nexport const getOperatorsForFieldType = (fieldType) => {\n  const type = (fieldType || '').toLowerCase();\n  \n  if (type === 'date' || type === 'datetime') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'greater than', label: 'Greater Than' },\n      { value: 'less than', label: 'Less Than' },\n      { value: 'greater or equal', label: 'Greater or Equal' },\n      { value: 'less or equal', label: 'Less or Equal' },\n      { value: 'between', label: 'Between' }\n    ];\n  }\n\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'greater than', label: 'Greater Than' },\n      { value: 'less than', label: 'Less Than' },\n      { value: 'greater or equal', label: 'Greater or Equal' },\n      { value: 'less or equal', label: 'Less or Equal' },\n      { value: 'between', label: 'Between' }\n    ];\n  }\n\n  if (type === 'picklist') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'in', label: 'In (Multiple)' },\n      { value: 'not in', label: 'Not In (Multiple)' }\n    ];\n  }\n\n  if (type === 'boolean') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' }\n    ];\n  }\n\n  // Default for text/string fields\n  return [\n    { value: 'equals', label: 'Equals' },\n    { value: 'not equals', label: 'Not Equals' },\n    { value: 'contains', label: 'Contains' },\n    { value: 'not contains', label: 'Not Contains' },\n    { value: 'starts with', label: 'Starts With' },\n    { value: 'ends with', label: 'Ends With' }\n  ];\n};\n\nexport const getValueInputType = (fieldType) => {\n  const type = (fieldType || '').toLowerCase();\n  \n  if (type === 'date' || type === 'datetime') return 'date';\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') return 'number';\n  if (type === 'picklist') return 'picklist';\n  if (type === 'boolean') return 'boolean';\n  return 'text';\n};\n\nexport const buildSOQLWhereClause = (filterStructure) => {\n  if (!filterStructure || !filterStructure.groups || filterStructure.groups.length === 0) {\n    return '';\n  }\n\n  const conditions = filterStructure.groups.map(group => {\n    if (!group.conditions || group.conditions.length === 0) {\n      return null;\n    }\n\n    const groupConditions = group.conditions\n      .filter(c => c.field && c.operator && c.value !== '' && c.value !== null)\n      .map(condition => buildConditionClause(condition))\n      .filter(c => c !== null);\n\n    if (groupConditions.length === 0) {\n      return null;\n    }\n\n    const logic = group.logic || 'AND';\n    return `(${groupConditions.join(` ${logic} `)})`;\n  }).filter(c => c !== null);\n\n  if (conditions.length === 0) {\n    return '';\n  }\n\n  const groupLogic = filterStructure.groupLogic || 'AND';\n  return conditions.join(` ${groupLogic} `);\n};\n\nconst buildConditionClause = (condition) => {\n  const { field, operator, value } = condition;\n  \n  if (!field || !operator || value === '' || value === null) {\n    return null;\n  }\n\n  const escapedValue = (val) => {\n    if (typeof val === 'string') {\n      return `'${val.replace(/'/g, \"''\")}'`;\n    }\n    return val;\n  };\n\n  switch (operator) {\n    case 'equals':\n      return `${field} = ${escapedValue(value)}`;\n    \n    case 'not equals':\n      return `${field} != ${escapedValue(value)}`;\n    \n    case 'contains':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}%'`;\n    \n    case 'not contains':\n      return `NOT (${field} LIKE '%${String(value).replace(/'/g, \"''\")}%')`;\n    \n    case 'starts with':\n      return `${field} LIKE '${String(value).replace(/'/g, \"''\")}%'`;\n    \n    case 'ends with':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}'`;\n    \n    case 'greater than':\n      return `${field} > ${escapedValue(value)}`;\n    \n    case 'less than':\n      return `${field} < ${escapedValue(value)}`;\n    \n    case 'greater or equal':\n      return `${field} >= ${escapedValue(value)}`;\n    \n    case 'less or equal':\n      return `${field} <= ${escapedValue(value)}`;\n    \n    case 'between':\n      if (value && typeof value === 'object' && value.from && value.to) {\n        return `${field} >= ${escapedValue(value.from)} AND ${field} <= ${escapedValue(value.to)}`;\n      }\n      return null;\n    \n    case 'in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} IN (${values})`;\n      }\n      return null;\n    \n    case 'not in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} NOT IN (${values})`;\n      }\n      return null;\n    \n    default:\n      return null;\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}