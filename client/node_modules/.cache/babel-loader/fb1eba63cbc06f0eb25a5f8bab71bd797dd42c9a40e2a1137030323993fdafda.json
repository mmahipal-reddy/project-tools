{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// DemographicSegmentationTab component for CrowdDashboard\n// Extracted from CrowdDashboard.js\nimport React,{useState,useEffect,useCallback}from'react';import{BarChart3,Filter,RefreshCw}from'lucide-react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,Cell,PieChart,Pie}from'recharts';import apiClient from'../../../config/api';import toast from'react-hot-toast';import{loadBaselineData,saveBaselineData}from'../utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DemographicSegmentationTab=_ref=>{var _widgetStates$byAge,_widgetStates$byGende,_widgetStates$byEduca,_widgetStates$demogra,_widgetStates$demogra2,_widgetStates$ageByCo,_widgetStates$ageByCo2,_widgetStates$genderB,_widgetStates$genderB2,_widgetStates$educati,_widgetStates$educati2,_widgetStates$ageVsGe,_widgetStates$ageVsGe2,_widgetStates$educati3,_widgetStates$educati4;let{formatNumber,formatDate,handleChartClick,metrics,onRefreshAll,autoSaveBaseline}=_ref;// State for demographic data\nconst[byAge,setByAge]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byAge)||[];});const[byGender,setByGender]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byGender)||[];});const[byEducation,setByEducation]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byEducation)||[];});const[ageByCountry,setAgeByCountry]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.ageByCountry)||[];});const[genderByCountry,setGenderByCountry]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.genderByCountry)||[];});const[educationByCountry,setEducationByCountry]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.educationByCountry)||[];});const[ageVsGender,setAgeVsGender]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.ageVsGender)||[];});const[educationVsAge,setEducationVsAge]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.educationVsAge)||[];});const[demographicsSummary,setDemographicsSummary]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.demographicsSummary)||null;});// Widget states for demographic widgets\nconst[widgetStates,setWidgetStates]=useState({byAge:{loading:false,error:null},byGender:{loading:false,error:null},byEducation:{loading:false,error:null},ageByCountry:{loading:false,error:null},genderByCountry:{loading:false,error:null},educationByCountry:{loading:false,error:null},ageVsGender:{loading:false,error:null},educationVsAge:{loading:false,error:null},demographicsSummary:{loading:false,error:null}});// Filter state for demographic widgets\nconst[filterText,setFilterText]=useState({});const[showFilters,setShowFilters]=useState({});// Fetch demographic data - full dataset (no sample size limits)\nconst fetchDemographicData=useCallback(async function(){let silent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;setWidgetStates(prev=>({byAge:{loading:true,error:null},byGender:{loading:true,error:null},byEducation:{loading:true,error:null}}));try{var _ageData$data,_genderData$data,_educationData$data;// Fetch ALL data (no sample size limits - backend processes all active contributors)\nconst timeout=600000;// 10 minutes for full data processing\nconst[ageData,genderData,educationData]=await Promise.all([apiClient.get('/crowd-dashboard/by-age',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:{byAge:[]}})),apiClient.get('/crowd-dashboard/by-gender',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:{byGender:[]}})),apiClient.get('/crowd-dashboard/by-education',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:{byEducation:[]}}))]);// Extract data from response objects - API returns { byAge: [...] }, { byGender: [...] }, etc.\n// Also transform age data to use 'ageRange' instead of 'age' to match chart expectations\nconst ageDataArray=Array.isArray((_ageData$data=ageData.data)===null||_ageData$data===void 0?void 0:_ageData$data.byAge)?ageData.data.byAge.map(item=>({ageRange:item.age||item.ageRange,count:item.count})):Array.isArray(ageData.data)?ageData.data.map(item=>({ageRange:item.age||item.ageRange,count:item.count})):[];const genderDataArray=Array.isArray((_genderData$data=genderData.data)===null||_genderData$data===void 0?void 0:_genderData$data.byGender)?genderData.data.byGender:Array.isArray(genderData.data)?genderData.data:[];const educationDataArray=Array.isArray((_educationData$data=educationData.data)===null||_educationData$data===void 0?void 0:_educationData$data.byEducation)?educationData.data.byEducation:Array.isArray(educationData.data)?educationData.data:[];setByAge(ageDataArray);setByGender(genderDataArray);setByEducation(educationDataArray);// Save to baseline (merge with existing)\nconst existingBaseline=loadBaselineData()||{};const updatedBaseline=_objectSpread(_objectSpread({},existingBaseline),{},{byAge:ageDataArray,byGender:genderDataArray,byEducation:educationDataArray,savedAt:new Date().toISOString()});saveBaselineData(updatedBaseline);setWidgetStates({byAge:{loading:false,error:null},byGender:{loading:false,error:null},byEducation:{loading:false,error:null}});if(!silent){toast.success('Demographic data refreshed with full dataset');}}catch(error){setWidgetStates({byAge:{loading:false,error:error.message},byGender:{loading:false,error:error.message},byEducation:{loading:false,error:error.message}});if(!silent){toast.error('Error loading demographic data');}}},[]);// Fetch additional demographic widgets\nconst fetchAdditionalDemographics=useCallback(async function(){let silent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{var _ageByCountryResponse,_genderByCountryRespo,_educationByCountryRe,_ageVsGenderResponse$,_educationVsAgeRespon;// Fetch ALL data (no sample size limits - backend processes all active contributors)\nconst timeout=600000;// 10 minutes for full data processing\nsetWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{ageByCountry:{loading:true,error:null},genderByCountry:{loading:true,error:null},educationByCountry:{loading:true,error:null},ageVsGender:{loading:true,error:null},educationVsAge:{loading:true,error:null},demographicsSummary:{loading:true,error:null}}));const[ageByCountryResponse,genderByCountryResponse,educationByCountryResponse,ageVsGenderResponse,educationVsAgeResponse,summaryResponse]=await Promise.all([apiClient.get('/crowd-dashboard/demographics/age-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:[]})),apiClient.get('/crowd-dashboard/demographics/gender-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:[]})),apiClient.get('/crowd-dashboard/demographics/education-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:[]})),apiClient.get('/crowd-dashboard/demographics/age-vs-gender',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:[]})),apiClient.get('/crowd-dashboard/demographics/education-vs-age',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:[]})),apiClient.get('/crowd-dashboard/demographics/summary',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}}).catch(()=>({data:null}))]);// Extract data from responses - handle both array and object responses\nconst ageByCountryData=Array.isArray(ageByCountryResponse.data)?ageByCountryResponse.data:((_ageByCountryResponse=ageByCountryResponse.data)===null||_ageByCountryResponse===void 0?void 0:_ageByCountryResponse.data)||[];const genderByCountryData=Array.isArray(genderByCountryResponse.data)?genderByCountryResponse.data:((_genderByCountryRespo=genderByCountryResponse.data)===null||_genderByCountryRespo===void 0?void 0:_genderByCountryRespo.data)||[];const educationByCountryData=Array.isArray(educationByCountryResponse.data)?educationByCountryResponse.data:((_educationByCountryRe=educationByCountryResponse.data)===null||_educationByCountryRe===void 0?void 0:_educationByCountryRe.data)||[];const ageVsGenderData=Array.isArray(ageVsGenderResponse.data)?ageVsGenderResponse.data:((_ageVsGenderResponse$=ageVsGenderResponse.data)===null||_ageVsGenderResponse$===void 0?void 0:_ageVsGenderResponse$.data)||[];const educationVsAgeData=Array.isArray(educationVsAgeResponse.data)?educationVsAgeResponse.data:((_educationVsAgeRespon=educationVsAgeResponse.data)===null||_educationVsAgeRespon===void 0?void 0:_educationVsAgeRespon.data)||[];const summaryData=summaryResponse.data;setAgeByCountry(ageByCountryData||[]);setGenderByCountry(genderByCountryData||[]);setEducationByCountry(educationByCountryData||[]);setAgeVsGender(ageVsGenderData||[]);setEducationVsAge(educationVsAgeData||[]);setDemographicsSummary(summaryData);// Save all demographic data to baseline (merge with existing)\nconst existingBaseline=loadBaselineData()||{};const updatedBaseline=_objectSpread(_objectSpread({},existingBaseline),{},{ageByCountry:ageByCountryData||[],genderByCountry:genderByCountryData||[],educationByCountry:educationByCountryData||[],ageVsGender:ageVsGenderData||[],educationVsAge:educationVsAgeData||[],demographicsSummary:summaryData,savedAt:new Date().toISOString()});saveBaselineData(updatedBaseline);// Also trigger auto-save to ensure overview data is preserved\nif(autoSaveBaseline){autoSaveBaseline();}setWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{ageByCountry:{loading:false,error:null},genderByCountry:{loading:false,error:null},educationByCountry:{loading:false,error:null},ageVsGender:{loading:false,error:null},educationVsAge:{loading:false,error:null},demographicsSummary:{loading:false,error:null}}));if(!silent){toast.success('Additional demographics loaded');}}catch(error){setWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{ageByCountry:{loading:false,error:error.message},genderByCountry:{loading:false,error:error.message},educationByCountry:{loading:false,error:error.message},ageVsGender:{loading:false,error:error.message},educationVsAge:{loading:false,error:error.message},demographicsSummary:{loading:false,error:error.message}}));if(!silent){toast.error('Failed to load additional demographics');}}},[autoSaveBaseline]);// Refresh all demographic widgets\nconst refreshAllDemographicWidgets=useCallback(async function(){let silent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;// Refresh all demographic widgets in parallel\nsetWidgetStates(prev=>_objectSpread({byAge:{loading:true,error:null},byGender:{loading:true,error:null},byEducation:{loading:true,error:null},ageByCountry:{loading:true,error:null},genderByCountry:{loading:true,error:null},educationByCountry:{loading:true,error:null},ageVsGender:{loading:true,error:null},educationVsAge:{loading:true,error:null},demographicsSummary:{loading:true,error:null}},prev));try{// Fetch all demographic data in parallel (full dataset)\nawait Promise.all([fetchDemographicData(silent),// Full dataset\nfetchAdditionalDemographics(silent)// Full dataset\n]);if(!silent){toast.success('All demographic widgets refreshed with full dataset');}}catch(error){if(!silent){toast.error('Error refreshing some demographic widgets');}}},[fetchDemographicData,fetchAdditionalDemographics]);// Expose refresh function to parent\nuseEffect(()=>{if(onRefreshAll){onRefreshAll.current=refreshAllDemographicWidgets;}},[onRefreshAll,refreshAllDemographicWidgets]);// Fetch on mount only if baseline data doesn't exist\nuseEffect(()=>{const baseline=loadBaselineData();const hasBaselineData=baseline&&(baseline.byAge&&baseline.byAge.length>0||baseline.byGender&&baseline.byGender.length>0||baseline.byEducation&&baseline.byEducation.length>0||baseline.ageByCountry&&baseline.ageByCountry.length>0||baseline.genderByCountry&&baseline.genderByCountry.length>0||baseline.educationByCountry&&baseline.educationByCountry.length>0);// Only fetch if we don't have baseline data\nif(!hasBaselineData){const hasNoData=(!byAge||byAge.length===0)&&(!byGender||byGender.length===0)&&(!byEducation||byEducation.length===0);if(hasNoData){fetchDemographicData(true);}// Also fetch additional demographics if not in baseline\nif(!(baseline!==null&&baseline!==void 0&&baseline.ageByCountry)||baseline.ageByCountry.length===0){fetchAdditionalDemographics(true);}}},[fetchDemographicData,fetchAdditionalDemographics]);// Only run on mount\n// Widget refresh handler for demographic widgets - fetches full dataset\nconst handleDemographicWidgetRefresh=useCallback(widgetKey=>{setWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:{loading:true,error:null}}));const fetchWidgetData=async()=>{var _response$data,_response$data2,_response$data3;try{let response;let widgetData=null;const timeout=600000;// 10 minutes for full data processing\n// Fetch full dataset (no sample size - backend processes all active contributors)\nswitch(widgetKey){case'byAge':response=await apiClient.get('/crowd-dashboard/by-age',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});// Extract byAge array and transform 'age' to 'ageRange'\nconst byAgeResponse=Array.isArray((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.byAge)?response.data.byAge.map(item=>({ageRange:item.age||item.ageRange,count:item.count})):Array.isArray(response.data)?response.data.map(item=>({ageRange:item.age||item.ageRange,count:item.count})):[];widgetData=byAgeResponse;setByAge(widgetData);break;case'byGender':response=await apiClient.get('/crowd-dashboard/by-gender',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});// Extract byGender array\nwidgetData=Array.isArray((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.byGender)?response.data.byGender:Array.isArray(response.data)?response.data:[];setByGender(widgetData);break;case'byEducation':response=await apiClient.get('/crowd-dashboard/by-education',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});// Extract byEducation array\nwidgetData=Array.isArray((_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.byEducation)?response.data.byEducation:Array.isArray(response.data)?response.data:[];setByEducation(widgetData);break;case'ageByCountry':response=await apiClient.get('/crowd-dashboard/demographics/age-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=Array.isArray(response.data)?response.data:[];setAgeByCountry(widgetData);break;case'genderByCountry':response=await apiClient.get('/crowd-dashboard/demographics/gender-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=Array.isArray(response.data)?response.data:[];setGenderByCountry(widgetData);break;case'educationByCountry':response=await apiClient.get('/crowd-dashboard/demographics/education-by-country',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=Array.isArray(response.data)?response.data:[];setEducationByCountry(widgetData);break;case'ageVsGender':response=await apiClient.get('/crowd-dashboard/demographics/age-vs-gender',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=Array.isArray(response.data)?response.data:[];setAgeVsGender(widgetData);break;case'educationVsAge':response=await apiClient.get('/crowd-dashboard/demographics/education-vs-age',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=Array.isArray(response.data)?response.data:[];setEducationVsAge(widgetData);break;case'demographicsSummary':response=await apiClient.get('/crowd-dashboard/demographics/summary',{timeout,params:{_t:Date.now()},headers:{'Cache-Control':'no-cache'}});widgetData=response.data;setDemographicsSummary(widgetData);break;default:return;}// Save to baseline for all demographic widgets (merge with existing)\nconst existingBaseline=loadBaselineData()||{};const baselineUpdate=_objectSpread({},existingBaseline);// Update baseline with the data we just set\nif(['byAge','byGender','byEducation','ageByCountry','genderByCountry','educationByCountry','ageVsGender','educationVsAge'].includes(widgetKey)){baselineUpdate[widgetKey]=widgetData;}else if(widgetKey==='demographicsSummary'){baselineUpdate.demographicsSummary=widgetData;}saveBaselineData(_objectSpread(_objectSpread({},baselineUpdate),{},{savedAt:new Date().toISOString()}));// Also trigger auto-save to ensure overview data is preserved\nif(autoSaveBaseline){autoSaveBaseline();}setWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:{loading:false,error:null}}));toast.success(\"\".concat(widgetKey,\" refreshed with full dataset\"));}catch(error){setWidgetStates(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:{loading:false,error:error.message}}));toast.error(\"Failed to refresh \".concat(widgetKey));}};fetchWidgetData();},[autoSaveBaseline]);// Render widget status for demographic widgets\nconst renderDemographicWidgetStatus=useCallback(widgetKey=>{const state=widgetStates[widgetKey];if(state!==null&&state!==void 0&&state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading full dataset from Salesforce...\"});}if(state!==null&&state!==void 0&&state.error){return/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[/*#__PURE__*/_jsx(\"span\",{children:state.error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDemographicWidgetRefresh(widgetKey),className:\"retry-btn\",children:\"Retry\"})]});}return null;},[widgetStates,handleDemographicWidgetRefresh]);// Render widget actions for demographic widgets\nconst renderDemographicWidgetActions=useCallback(function(widgetKey,widgetName){let hasData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const state=widgetStates[widgetKey];const isLoadingFull=state===null||state===void 0?void 0:state.loadingFull;return/*#__PURE__*/_jsxs(\"div\",{className:\"widget-actions\",children:[hasData&&/*#__PURE__*/_jsx(\"button\",{className:\"widget-action-btn\",onClick:()=>setShowFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:!prev[widgetKey]})),title:\"Filter \".concat(widgetName),children:/*#__PURE__*/_jsx(Filter,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"widget-refresh-btn\",onClick:()=>handleDemographicWidgetRefresh(widgetKey),disabled:state===null||state===void 0?void 0:state.loading,title:state!==null&&state!==void 0&&state.loading?'Refreshing...':state!==null&&state!==void 0&&state.error?'Retry':'Refresh this widget',children:/*#__PURE__*/_jsx(RefreshCw,{size:14,className:state!==null&&state!==void 0&&state.loading?'spinning':''})})]});},[widgetStates,handleDemographicWidgetRefresh]);// Apply filters to demographic data\nconst applyDemographicFilters=useCallback((data,widgetKey)=>{// Ensure data is an array before processing\nif(!data||!Array.isArray(data)){return[];}let filtered=[...data];const filter=filterText[widgetKey];if(filter&&filter.trim()){const searchTerm=filter.toLowerCase();if(widgetKey==='byAge'){filtered=filtered.filter(item=>{var _item$ageRange;return(_item$ageRange=item.ageRange)===null||_item$ageRange===void 0?void 0:_item$ageRange.toLowerCase().includes(searchTerm);});}else if(widgetKey==='byGender'){filtered=filtered.filter(item=>{var _item$gender;return(_item$gender=item.gender)===null||_item$gender===void 0?void 0:_item$gender.toLowerCase().includes(searchTerm);});}else if(widgetKey==='byEducation'){filtered=filtered.filter(item=>{var _item$education;return(_item$education=item.education)===null||_item$education===void 0?void 0:_item$education.toLowerCase().includes(searchTerm);});}}return filtered;},[filterText]);// Render filter UI for demographic widgets\nconst renderDemographicFilterUI=useCallback(widgetKey=>{if(!showFilters[widgetKey])return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"widget-filter-panel\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"filter-input\",placeholder:\"Filter \".concat(widgetKey,\"...\"),value:filterText[widgetKey]||'',onChange:e=>setFilterText(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-clear-btn\",onClick:()=>{setFilterText(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:''}));setShowFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[widgetKey]:false}));},children:\"Clear\"})]});},[showFilters,filterText]);return/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Contributors by Age\"}),((_widgetStates$byAge=widgetStates.byAge)===null||_widgetStates$byAge===void 0?void 0:_widgetStates$byAge.loadingFull)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:'#6b7280',fontStyle:'italic'},children:\"(Refining with larger sample...)\"})]}),renderDemographicWidgetActions('byAge','By Age',byAge&&byAge.length>0)]}),renderDemographicFilterUI('byAge'),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:renderDemographicWidgetStatus('byAge')||(()=>{const filteredData=applyDemographicFilters(byAge||[],'byAge');return filteredData.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,filteredData.length*30),children:/*#__PURE__*/_jsxs(BarChart,{data:filteredData,layout:\"vertical\",margin:{top:0,right:30,left:20,bottom:20},onClick:data=>handleChartClick(data,'byAge'),throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"ageRange\",type:\"category\",width:100,tick:{fontSize:11},interval:0}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#3b82f6\"})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No age data available\"});})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-footer\",children:[\"As of \",formatDate(metrics.lastRefreshed)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Contributors by Gender\"}),((_widgetStates$byGende=widgetStates.byGender)===null||_widgetStates$byGende===void 0?void 0:_widgetStates$byGende.loadingFull)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:'#6b7280',fontStyle:'italic'},children:\"(Refining with larger sample...)\"})]}),renderDemographicWidgetActions('byGender','By Gender',byGender&&byGender.length>0)]}),renderDemographicFilterUI('byGender'),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:renderDemographicWidgetStatus('byGender')||(()=>{const filteredData=applyDemographicFilters(byGender||[],'byGender');return filteredData.length>0?/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:filteredData,dataKey:\"count\",nameKey:\"gender\",cx:\"50%\",cy:\"50%\",outerRadius:120,label:true,children:filteredData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6'][index%5]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No gender data available\"});})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-footer\",children:[\"As of \",formatDate(metrics.lastRefreshed)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Contributors by Education\"}),((_widgetStates$byEduca=widgetStates.byEducation)===null||_widgetStates$byEduca===void 0?void 0:_widgetStates$byEduca.loadingFull)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:'#6b7280',fontStyle:'italic'},children:\"(Refining with larger sample...)\"})]}),renderDemographicWidgetActions('byEducation','By Education',byEducation&&byEducation.length>0)]}),renderDemographicFilterUI('byEducation'),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:renderDemographicWidgetStatus('byEducation')||(()=>{const filteredData=applyDemographicFilters(byEducation||[],'byEducation');return filteredData.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,filteredData.length*30),children:/*#__PURE__*/_jsxs(BarChart,{data:filteredData,layout:\"vertical\",margin:{top:0,right:30,left:20,bottom:20},onClick:data=>handleChartClick(data,'byEducation'),throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"education\",type:\"category\",width:150,tick:{fontSize:11},interval:0}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#10b981\"})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No education data available\"});})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-footer\",children:[\"As of \",formatDate(metrics.lastRefreshed)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Demographics Data Coverage\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('demographicsSummary','Demographics Summary',demographicsSummary)})]}),(_widgetStates$demogra=widgetStates.demographicsSummary)!==null&&_widgetStates$demogra!==void 0&&_widgetStates$demogra.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading coverage statistics...\"}):(_widgetStates$demogra2=widgetStates.demographicsSummary)!==null&&_widgetStates$demogra2!==void 0&&_widgetStates$demogra2.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.demographicsSummary.error]}):demographicsSummary?/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'16px',padding:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'12px',backgroundColor:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#111827'},children:formatNumber(demographicsSummary.totalContributors)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'4px'},children:\"Total Contributors\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'12px',backgroundColor:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#111827'},children:[demographicsSummary.ageCoverage,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'4px'},children:[\"Age Coverage (\",formatNumber(demographicsSummary.withAge),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'12px',backgroundColor:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#111827'},children:[demographicsSummary.genderCoverage,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'4px'},children:[\"Gender Coverage (\",formatNumber(demographicsSummary.withGender),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'12px',backgroundColor:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#111827'},children:[demographicsSummary.educationCoverage,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'4px'},children:[\"Education Coverage (\",formatNumber(demographicsSummary.withEducation),\")\"]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No coverage data available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Age Distribution by Country\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('ageByCountry','Age by Country',ageByCountry&&ageByCountry.length>0)})]}),(_widgetStates$ageByCo=widgetStates.ageByCountry)!==null&&_widgetStates$ageByCo!==void 0&&_widgetStates$ageByCo.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading age by country data...\"}):(_widgetStates$ageByCo2=widgetStates.ageByCountry)!==null&&_widgetStates$ageByCo2!==void 0&&_widgetStates$ageByCo2.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.ageByCountry.error]}):ageByCountry.length>0?(()=>{// Backend returns { country, \"0-18\": 10, \"19-25\": 20, ... } format\n// Extract all unique age range keys (excluding 'country')\nconst allAgeRanges=[...new Set(ageByCountry.flatMap(item=>Object.keys(item).filter(key=>key!=='country')))].sort((a,b)=>{// Sort age ranges numerically\nconst aStart=parseInt(a.split('-')[0]||a.replace('+',''));const bStart=parseInt(b.split('-')[0]||b.replace('+',''));return aStart-bStart;});const chartData=ageByCountry.map(item=>{const dataPoint={country:item.country};allAgeRanges.forEach(ageRange=>{dataPoint[ageRange]=item[ageRange]||0;});return dataPoint;});return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,ageByCountry.length*80),children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,layout:\"vertical\",margin:{top:10,right:30,left:10,bottom:20},throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"country\",type:\"category\",width:150,tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref2=>{let{active,payload,label}=_ref2;if(active&&payload&&payload.length){const total=payload.reduce((sum,entry)=>sum+(entry.value||0),0);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'8px'},children:[\"Total: \",formatNumber(total)]}),payload.map((entry,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:entry.color,marginRight:'6px'},children:\"\\u25CF\"}),entry.name,\": \",formatNumber(entry.value||0)]},idx))]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),allAgeRanges.map((ageRange,idx)=>/*#__PURE__*/_jsx(Bar,{dataKey:ageRange,stackId:\"a\",fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#ec4899','#06b6d4'][idx%7],name:ageRange},ageRange))]})})})});})():/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No age by country data available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Gender Distribution by Country\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('genderByCountry','Gender by Country',genderByCountry&&genderByCountry.length>0)})]}),(_widgetStates$genderB=widgetStates.genderByCountry)!==null&&_widgetStates$genderB!==void 0&&_widgetStates$genderB.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading gender by country data...\"}):(_widgetStates$genderB2=widgetStates.genderByCountry)!==null&&_widgetStates$genderB2!==void 0&&_widgetStates$genderB2.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.genderByCountry.error]}):genderByCountry.length>0?(()=>{// Backend returns { country, Male: 10, Female: 20, ... } format\n// Extract all unique gender keys (excluding 'country')\nconst allGenders=[...new Set(genderByCountry.flatMap(item=>Object.keys(item).filter(key=>key!=='country')))].sort();const chartData=genderByCountry.map(item=>{const dataPoint={country:item.country};allGenders.forEach(gender=>{dataPoint[gender]=item[gender]||0;});return dataPoint;});return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,genderByCountry.length*60),children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,layout:\"vertical\",margin:{top:10,right:30,left:10,bottom:20},throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"country\",type:\"category\",width:150,tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref3=>{let{active,payload,label}=_ref3;if(active&&payload&&payload.length){const total=payload.reduce((sum,entry)=>sum+(entry.value||0),0);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'8px'},children:[\"Total: \",formatNumber(total)]}),payload.map((entry,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:entry.color,marginRight:'6px'},children:\"\\u25CF\"}),entry.name,\": \",formatNumber(entry.value||0)]},idx))]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),allGenders.map((gender,idx)=>/*#__PURE__*/_jsx(Bar,{dataKey:gender,stackId:\"a\",fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6'][idx%5],name:gender},gender))]})})})});})():/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No gender by country data available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Education Distribution by Country\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('educationByCountry','Education by Country',educationByCountry&&educationByCountry.length>0)})]}),(_widgetStates$educati=widgetStates.educationByCountry)!==null&&_widgetStates$educati!==void 0&&_widgetStates$educati.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading education by country data...\"}):(_widgetStates$educati2=widgetStates.educationByCountry)!==null&&_widgetStates$educati2!==void 0&&_widgetStates$educati2.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.educationByCountry.error]}):educationByCountry.length>0?(()=>{// Backend returns { country, \"Bachelor's\": 10, \"Master's\": 20, ... } format\n// Extract all unique education keys (excluding 'country')\nconst allEducations=[...new Set(educationByCountry.flatMap(item=>Object.keys(item).filter(key=>key!=='country')))].sort();const chartData=educationByCountry.map(item=>{const dataPoint={country:item.country};allEducations.forEach(education=>{dataPoint[education]=item[education]||0;});return dataPoint;});return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,educationByCountry.length*60),children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,layout:\"vertical\",margin:{top:10,right:30,left:10,bottom:20},throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"country\",type:\"category\",width:150,tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref4=>{let{active,payload,label}=_ref4;if(active&&payload&&payload.length){const total=payload.reduce((sum,entry)=>sum+(entry.value||0),0);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'8px'},children:[\"Total: \",formatNumber(total)]}),payload.map((entry,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:entry.color,marginRight:'6px'},children:\"\\u25CF\"}),entry.name,\": \",formatNumber(entry.value||0)]},idx))]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),allEducations.map((education,idx)=>/*#__PURE__*/_jsx(Bar,{dataKey:education,stackId:\"a\",fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#ec4899','#06b6d4'][idx%7],name:education},education))]})})})});})():/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No education by country data available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Age vs Gender Distribution\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('ageVsGender','Age vs Gender',ageVsGender&&ageVsGender.length>0)})]}),(_widgetStates$ageVsGe=widgetStates.ageVsGender)!==null&&_widgetStates$ageVsGe!==void 0&&_widgetStates$ageVsGe.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading age vs gender data...\"}):(_widgetStates$ageVsGe2=widgetStates.ageVsGender)!==null&&_widgetStates$ageVsGe2!==void 0&&_widgetStates$ageVsGe2.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.ageVsGender.error]}):ageVsGender.length>0?(()=>{// Backend returns { ageRange, Male: 10, Female: 20, ... } format\n// Extract all unique gender keys (excluding 'ageRange')\nconst allGenders=[...new Set(ageVsGender.flatMap(item=>Object.keys(item).filter(key=>key!=='ageRange')))].sort();const chartData=ageVsGender.map(item=>{const dataPoint={ageRange:item.ageRange};allGenders.forEach(gender=>{dataPoint[gender]=item[gender]||0;});return dataPoint;});return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,margin:{top:10,right:30,left:0,bottom:20},throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"ageRange\",tick:{fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{content:_ref5=>{let{active,payload,label}=_ref5;if(active&&payload&&payload.length){const total=payload.reduce((sum,entry)=>sum+(entry.value||0),0);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'8px'},children:[\"Total: \",formatNumber(total)]}),payload.map((entry,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:entry.color,marginRight:'6px'},children:\"\\u25CF\"}),entry.name,\": \",formatNumber(entry.value||0)]},idx))]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),allGenders.map((gender,idx)=>/*#__PURE__*/_jsx(Bar,{dataKey:gender,stackId:\"a\",fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6'][idx%5],name:gender},gender))]})})});})():/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No age vs gender data available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Education vs Age Distribution\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-actions\",children:renderDemographicWidgetActions('educationVsAge','Education vs Age',educationVsAge&&educationVsAge.length>0)})]}),(_widgetStates$educati3=widgetStates.educationVsAge)!==null&&_widgetStates$educati3!==void 0&&_widgetStates$educati3.loading?/*#__PURE__*/_jsx(\"div\",{className:\"widget-loading\",children:\"Loading education vs age data...\"}):(_widgetStates$educati4=widgetStates.educationVsAge)!==null&&_widgetStates$educati4!==void 0&&_widgetStates$educati4.error?/*#__PURE__*/_jsxs(\"div\",{className:\"widget-error\",children:[\"Error: \",widgetStates.educationVsAge.error]}):educationVsAge.length>0?(()=>{// Backend returns { education, \"0-18\": 10, \"19-25\": 20, ... } format\n// Extract all unique age range keys (excluding 'education')\nconst allAgeRanges=[...new Set(educationVsAge.flatMap(item=>Object.keys(item).filter(key=>key!=='education')))].sort((a,b)=>{// Sort age ranges numerically\nconst aStart=parseInt(a.split('-')[0]||a.replace('+',''));const bStart=parseInt(b.split('-')[0]||b.replace('+',''));return aStart-bStart;});const chartData=educationVsAge.map(item=>{const dataPoint={education:item.education};allAgeRanges.forEach(ageRange=>{dataPoint[ageRange]=item[ageRange]||0;});return dataPoint;});return/*#__PURE__*/_jsx(\"div\",{className:\"chart-container scrollable-chart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-scroll-wrapper\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(400,educationVsAge.length*60),children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,layout:\"vertical\",margin:{top:10,right:30,left:0,bottom:20},throttleDelay:100,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"education\",type:\"category\",width:200,tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref6=>{let{active,payload,label}=_ref6;if(active&&payload&&payload.length){const total=payload.reduce((sum,entry)=>sum+(entry.value||0),0);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'8px'},children:[\"Total: \",formatNumber(total)]}),payload.map((entry,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:entry.color,marginRight:'6px'},children:\"\\u25CF\"}),entry.name,\": \",formatNumber(entry.value||0)]},idx))]});}return null;}}),/*#__PURE__*/_jsx(Legend,{}),allAgeRanges.map((ageRange,idx)=>/*#__PURE__*/_jsx(Bar,{dataKey:ageRange,stackId:\"a\",fill:['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#ec4899','#06b6d4'][idx%7],name:ageRange},ageRange))]})})})});})():/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No education vs age data available\"})]})]})});};export default DemographicSegmentationTab;","map":{"version":3,"names":["React","useState","useEffect","useCallback","BarChart3","Filter","RefreshCw","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Cell","PieChart","Pie","apiClient","toast","loadBaselineData","saveBaselineData","jsx","_jsx","jsxs","_jsxs","DemographicSegmentationTab","_ref","_widgetStates$byAge","_widgetStates$byGende","_widgetStates$byEduca","_widgetStates$demogra","_widgetStates$demogra2","_widgetStates$ageByCo","_widgetStates$ageByCo2","_widgetStates$genderB","_widgetStates$genderB2","_widgetStates$educati","_widgetStates$educati2","_widgetStates$ageVsGe","_widgetStates$ageVsGe2","_widgetStates$educati3","_widgetStates$educati4","formatNumber","formatDate","handleChartClick","metrics","onRefreshAll","autoSaveBaseline","byAge","setByAge","baseline","byGender","setByGender","byEducation","setByEducation","ageByCountry","setAgeByCountry","genderByCountry","setGenderByCountry","educationByCountry","setEducationByCountry","ageVsGender","setAgeVsGender","educationVsAge","setEducationVsAge","demographicsSummary","setDemographicsSummary","widgetStates","setWidgetStates","loading","error","filterText","setFilterText","showFilters","setShowFilters","fetchDemographicData","silent","arguments","length","undefined","prev","_ageData$data","_genderData$data","_educationData$data","timeout","ageData","genderData","educationData","Promise","all","get","params","_t","Date","now","headers","catch","data","ageDataArray","Array","isArray","map","item","ageRange","age","count","genderDataArray","educationDataArray","existingBaseline","updatedBaseline","_objectSpread","savedAt","toISOString","success","message","fetchAdditionalDemographics","_ageByCountryResponse","_genderByCountryRespo","_educationByCountryRe","_ageVsGenderResponse$","_educationVsAgeRespon","ageByCountryResponse","genderByCountryResponse","educationByCountryResponse","ageVsGenderResponse","educationVsAgeResponse","summaryResponse","ageByCountryData","genderByCountryData","educationByCountryData","ageVsGenderData","educationVsAgeData","summaryData","refreshAllDemographicWidgets","current","hasBaselineData","hasNoData","handleDemographicWidgetRefresh","widgetKey","fetchWidgetData","_response$data","_response$data2","_response$data3","response","widgetData","byAgeResponse","baselineUpdate","includes","concat","renderDemographicWidgetStatus","state","className","children","onClick","renderDemographicWidgetActions","widgetName","hasData","isLoadingFull","loadingFull","title","size","disabled","applyDemographicFilters","filtered","filter","trim","searchTerm","toLowerCase","_item$ageRange","_item$gender","gender","_item$education","education","renderDemographicFilterUI","type","placeholder","value","onChange","e","target","style","display","alignItems","gap","color","fontSize","fontStyle","filteredData","width","height","Math","max","layout","margin","top","right","left","bottom","throttleDelay","strokeDasharray","dataKey","tick","interval","fill","lastRefreshed","nameKey","cx","cy","outerRadius","label","entry","index","gridColumn","gridTemplateColumns","padding","textAlign","backgroundColor","borderRadius","fontWeight","totalContributors","marginTop","ageCoverage","withAge","genderCoverage","withGender","educationCoverage","withEducation","allAgeRanges","Set","flatMap","Object","keys","key","sort","a","b","aStart","parseInt","split","replace","bStart","chartData","dataPoint","country","forEach","content","_ref2","active","payload","total","reduce","sum","border","marginBottom","idx","marginRight","name","stackId","allGenders","_ref3","allEducations","_ref4","_ref5","_ref6"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/CrowdDashboard/components/DemographicSegmentationTab.js"],"sourcesContent":["// DemographicSegmentationTab component for CrowdDashboard\n// Extracted from CrowdDashboard.js\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart3, Filter, RefreshCw } from 'lucide-react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell, PieChart, Pie } from 'recharts';\nimport apiClient from '../../../config/api';\nimport toast from 'react-hot-toast';\nimport { loadBaselineData, saveBaselineData } from '../utils';\n\nconst DemographicSegmentationTab = ({\n  formatNumber,\n  formatDate,\n  handleChartClick,\n  metrics,\n  onRefreshAll,\n  autoSaveBaseline\n}) => {\n  // State for demographic data\n  const [byAge, setByAge] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byAge || [];\n  });\n  const [byGender, setByGender] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byGender || [];\n  });\n  const [byEducation, setByEducation] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byEducation || [];\n  });\n  const [ageByCountry, setAgeByCountry] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.ageByCountry || [];\n  });\n  const [genderByCountry, setGenderByCountry] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.genderByCountry || [];\n  });\n  const [educationByCountry, setEducationByCountry] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.educationByCountry || [];\n  });\n  const [ageVsGender, setAgeVsGender] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.ageVsGender || [];\n  });\n  const [educationVsAge, setEducationVsAge] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.educationVsAge || [];\n  });\n  const [demographicsSummary, setDemographicsSummary] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.demographicsSummary || null;\n  });\n\n  // Widget states for demographic widgets\n  const [widgetStates, setWidgetStates] = useState({\n    byAge: { loading: false, error: null },\n    byGender: { loading: false, error: null },\n    byEducation: { loading: false, error: null },\n    ageByCountry: { loading: false, error: null },\n    genderByCountry: { loading: false, error: null },\n    educationByCountry: { loading: false, error: null },\n    ageVsGender: { loading: false, error: null },\n    educationVsAge: { loading: false, error: null },\n    demographicsSummary: { loading: false, error: null }\n  });\n\n  // Filter state for demographic widgets\n  const [filterText, setFilterText] = useState({});\n  const [showFilters, setShowFilters] = useState({});\n\n  // Fetch demographic data - full dataset (no sample size limits)\n  const fetchDemographicData = useCallback(async (silent = false) => {\n    setWidgetStates(prev => ({\n      byAge: { loading: true, error: null },\n      byGender: { loading: true, error: null },\n      byEducation: { loading: true, error: null }\n    }));\n\n    try {\n      // Fetch ALL data (no sample size limits - backend processes all active contributors)\n      const timeout = 600000; // 10 minutes for full data processing\n      \n      const [ageData, genderData, educationData] = await Promise.all([\n        apiClient.get('/crowd-dashboard/by-age', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: { byAge: [] } })),\n        apiClient.get('/crowd-dashboard/by-gender', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: { byGender: [] } })),\n        apiClient.get('/crowd-dashboard/by-education', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: { byEducation: [] } }))\n      ]);\n      \n      // Extract data from response objects - API returns { byAge: [...] }, { byGender: [...] }, etc.\n      // Also transform age data to use 'ageRange' instead of 'age' to match chart expectations\n      const ageDataArray = Array.isArray(ageData.data?.byAge) \n        ? ageData.data.byAge.map(item => ({ ageRange: item.age || item.ageRange, count: item.count }))\n        : (Array.isArray(ageData.data) ? ageData.data.map(item => ({ ageRange: item.age || item.ageRange, count: item.count })) : []);\n      const genderDataArray = Array.isArray(genderData.data?.byGender) \n        ? genderData.data.byGender \n        : (Array.isArray(genderData.data) ? genderData.data : []);\n      const educationDataArray = Array.isArray(educationData.data?.byEducation) \n        ? educationData.data.byEducation \n        : (Array.isArray(educationData.data) ? educationData.data : []);\n      \n      setByAge(ageDataArray);\n      setByGender(genderDataArray);\n      setByEducation(educationDataArray);\n\n      // Save to baseline (merge with existing)\n      const existingBaseline = loadBaselineData() || {};\n      const updatedBaseline = {\n        ...existingBaseline,\n        byAge: ageDataArray,\n        byGender: genderDataArray,\n        byEducation: educationDataArray,\n        savedAt: new Date().toISOString()\n      };\n      saveBaselineData(updatedBaseline);\n\n      setWidgetStates({\n        byAge: { loading: false, error: null },\n        byGender: { loading: false, error: null },\n        byEducation: { loading: false, error: null }\n      });\n\n      if (!silent) {\n        toast.success('Demographic data refreshed with full dataset');\n      }\n    } catch (error) {\n      setWidgetStates({\n        byAge: { loading: false, error: error.message },\n        byGender: { loading: false, error: error.message },\n        byEducation: { loading: false, error: error.message }\n      });\n      if (!silent) {\n        toast.error('Error loading demographic data');\n      }\n    }\n  }, []);\n\n  // Fetch additional demographic widgets\n  const fetchAdditionalDemographics = useCallback(async (silent = false) => {\n    try {\n      // Fetch ALL data (no sample size limits - backend processes all active contributors)\n      const timeout = 600000; // 10 minutes for full data processing\n      \n      setWidgetStates(prev => ({\n        ...prev,\n        ageByCountry: { loading: true, error: null },\n        genderByCountry: { loading: true, error: null },\n        educationByCountry: { loading: true, error: null },\n        ageVsGender: { loading: true, error: null },\n        educationVsAge: { loading: true, error: null },\n        demographicsSummary: { loading: true, error: null }\n      }));\n\n      const [ageByCountryResponse, genderByCountryResponse, educationByCountryResponse, ageVsGenderResponse, educationVsAgeResponse, summaryResponse] = await Promise.all([\n        apiClient.get('/crowd-dashboard/demographics/age-by-country', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: [] })),\n        apiClient.get('/crowd-dashboard/demographics/gender-by-country', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: [] })),\n        apiClient.get('/crowd-dashboard/demographics/education-by-country', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: [] })),\n        apiClient.get('/crowd-dashboard/demographics/age-vs-gender', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: [] })),\n        apiClient.get('/crowd-dashboard/demographics/education-vs-age', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: [] })),\n        apiClient.get('/crowd-dashboard/demographics/summary', { \n          timeout,\n          params: { _t: Date.now() },\n          headers: { 'Cache-Control': 'no-cache' }\n        }).catch(() => ({ data: null }))\n      ]);\n      \n      // Extract data from responses - handle both array and object responses\n      const ageByCountryData = Array.isArray(ageByCountryResponse.data) ? ageByCountryResponse.data : (ageByCountryResponse.data?.data || []);\n      const genderByCountryData = Array.isArray(genderByCountryResponse.data) ? genderByCountryResponse.data : (genderByCountryResponse.data?.data || []);\n      const educationByCountryData = Array.isArray(educationByCountryResponse.data) ? educationByCountryResponse.data : (educationByCountryResponse.data?.data || []);\n      const ageVsGenderData = Array.isArray(ageVsGenderResponse.data) ? ageVsGenderResponse.data : (ageVsGenderResponse.data?.data || []);\n      const educationVsAgeData = Array.isArray(educationVsAgeResponse.data) ? educationVsAgeResponse.data : (educationVsAgeResponse.data?.data || []);\n      const summaryData = summaryResponse.data;\n      \n      setAgeByCountry(ageByCountryData || []);\n      setGenderByCountry(genderByCountryData || []);\n      setEducationByCountry(educationByCountryData || []);\n      setAgeVsGender(ageVsGenderData || []);\n      setEducationVsAge(educationVsAgeData || []);\n      setDemographicsSummary(summaryData);\n      \n      // Save all demographic data to baseline (merge with existing)\n      const existingBaseline = loadBaselineData() || {};\n      const updatedBaseline = {\n        ...existingBaseline,\n        ageByCountry: ageByCountryData || [],\n        genderByCountry: genderByCountryData || [],\n        educationByCountry: educationByCountryData || [],\n        ageVsGender: ageVsGenderData || [],\n        educationVsAge: educationVsAgeData || [],\n        demographicsSummary: summaryData,\n        savedAt: new Date().toISOString()\n      };\n      saveBaselineData(updatedBaseline);\n      \n      // Also trigger auto-save to ensure overview data is preserved\n      if (autoSaveBaseline) {\n        autoSaveBaseline();\n      }\n      \n      setWidgetStates(prev => ({\n        ...prev,\n        ageByCountry: { loading: false, error: null },\n        genderByCountry: { loading: false, error: null },\n        educationByCountry: { loading: false, error: null },\n        ageVsGender: { loading: false, error: null },\n        educationVsAge: { loading: false, error: null },\n        demographicsSummary: { loading: false, error: null }\n      }));\n      \n      if (!silent) {\n        toast.success('Additional demographics loaded');\n      }\n    } catch (error) {\n      setWidgetStates(prev => ({\n        ...prev,\n        ageByCountry: { loading: false, error: error.message },\n        genderByCountry: { loading: false, error: error.message },\n        educationByCountry: { loading: false, error: error.message },\n        ageVsGender: { loading: false, error: error.message },\n        educationVsAge: { loading: false, error: error.message },\n        demographicsSummary: { loading: false, error: error.message }\n      }));\n      if (!silent) {\n        toast.error('Failed to load additional demographics');\n      }\n    }\n  }, [autoSaveBaseline]);\n\n  // Refresh all demographic widgets\n  const refreshAllDemographicWidgets = useCallback(async (silent = false) => {\n    // Refresh all demographic widgets in parallel\n    setWidgetStates(prev => ({\n      byAge: { loading: true, error: null },\n      byGender: { loading: true, error: null },\n      byEducation: { loading: true, error: null },\n      ageByCountry: { loading: true, error: null },\n      genderByCountry: { loading: true, error: null },\n      educationByCountry: { loading: true, error: null },\n      ageVsGender: { loading: true, error: null },\n      educationVsAge: { loading: true, error: null },\n      demographicsSummary: { loading: true, error: null },\n      ...prev\n    }));\n\n    try {\n      // Fetch all demographic data in parallel (full dataset)\n      await Promise.all([\n        fetchDemographicData(silent), // Full dataset\n        fetchAdditionalDemographics(silent) // Full dataset\n      ]);\n      \n      if (!silent) {\n        toast.success('All demographic widgets refreshed with full dataset');\n      }\n    } catch (error) {\n      if (!silent) {\n        toast.error('Error refreshing some demographic widgets');\n      }\n    }\n  }, [fetchDemographicData, fetchAdditionalDemographics]);\n\n  // Expose refresh function to parent\n  useEffect(() => {\n    if (onRefreshAll) {\n      onRefreshAll.current = refreshAllDemographicWidgets;\n    }\n  }, [onRefreshAll, refreshAllDemographicWidgets]);\n\n  // Fetch on mount only if baseline data doesn't exist\n  useEffect(() => {\n    const baseline = loadBaselineData();\n    const hasBaselineData = baseline && (\n      (baseline.byAge && baseline.byAge.length > 0) ||\n      (baseline.byGender && baseline.byGender.length > 0) ||\n      (baseline.byEducation && baseline.byEducation.length > 0) ||\n      (baseline.ageByCountry && baseline.ageByCountry.length > 0) ||\n      (baseline.genderByCountry && baseline.genderByCountry.length > 0) ||\n      (baseline.educationByCountry && baseline.educationByCountry.length > 0)\n    );\n    \n    // Only fetch if we don't have baseline data\n    if (!hasBaselineData) {\n      const hasNoData = (!byAge || byAge.length === 0) && \n                        (!byGender || byGender.length === 0) && \n                        (!byEducation || byEducation.length === 0);\n      if (hasNoData) {\n        fetchDemographicData(true);\n      }\n      // Also fetch additional demographics if not in baseline\n      if (!baseline?.ageByCountry || baseline.ageByCountry.length === 0) {\n        fetchAdditionalDemographics(true);\n      }\n    }\n  }, [fetchDemographicData, fetchAdditionalDemographics]); // Only run on mount\n\n  // Widget refresh handler for demographic widgets - fetches full dataset\n  const handleDemographicWidgetRefresh = useCallback((widgetKey) => {\n    setWidgetStates(prev => ({ ...prev, [widgetKey]: { loading: true, error: null } }));\n    \n    const fetchWidgetData = async () => {\n      try {\n        let response;\n        let widgetData = null;\n        const timeout = 600000; // 10 minutes for full data processing\n        // Fetch full dataset (no sample size - backend processes all active contributors)\n        switch(widgetKey) {\n          case 'byAge':\n            response = await apiClient.get('/crowd-dashboard/by-age', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            // Extract byAge array and transform 'age' to 'ageRange'\n            const byAgeResponse = Array.isArray(response.data?.byAge) \n              ? response.data.byAge.map(item => ({ ageRange: item.age || item.ageRange, count: item.count }))\n              : (Array.isArray(response.data) ? response.data.map(item => ({ ageRange: item.age || item.ageRange, count: item.count })) : []);\n            widgetData = byAgeResponse;\n            setByAge(widgetData);\n            break;\n          case 'byGender':\n            response = await apiClient.get('/crowd-dashboard/by-gender', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            // Extract byGender array\n            widgetData = Array.isArray(response.data?.byGender) \n              ? response.data.byGender \n              : (Array.isArray(response.data) ? response.data : []);\n            setByGender(widgetData);\n            break;\n          case 'byEducation':\n            response = await apiClient.get('/crowd-dashboard/by-education', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            // Extract byEducation array\n            widgetData = Array.isArray(response.data?.byEducation) \n              ? response.data.byEducation \n              : (Array.isArray(response.data) ? response.data : []);\n            setByEducation(widgetData);\n            break;\n          case 'ageByCountry':\n            response = await apiClient.get('/crowd-dashboard/demographics/age-by-country', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = Array.isArray(response.data) ? response.data : [];\n            setAgeByCountry(widgetData);\n            break;\n          case 'genderByCountry':\n            response = await apiClient.get('/crowd-dashboard/demographics/gender-by-country', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = Array.isArray(response.data) ? response.data : [];\n            setGenderByCountry(widgetData);\n            break;\n          case 'educationByCountry':\n            response = await apiClient.get('/crowd-dashboard/demographics/education-by-country', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = Array.isArray(response.data) ? response.data : [];\n            setEducationByCountry(widgetData);\n            break;\n          case 'ageVsGender':\n            response = await apiClient.get('/crowd-dashboard/demographics/age-vs-gender', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = Array.isArray(response.data) ? response.data : [];\n            setAgeVsGender(widgetData);\n            break;\n          case 'educationVsAge':\n            response = await apiClient.get('/crowd-dashboard/demographics/education-vs-age', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = Array.isArray(response.data) ? response.data : [];\n            setEducationVsAge(widgetData);\n            break;\n          case 'demographicsSummary':\n            response = await apiClient.get('/crowd-dashboard/demographics/summary', { \n              timeout,\n              params: { _t: Date.now() },\n              headers: { 'Cache-Control': 'no-cache' }\n            });\n            widgetData = response.data;\n            setDemographicsSummary(widgetData);\n            break;\n          default:\n            return;\n        }\n\n        // Save to baseline for all demographic widgets (merge with existing)\n        const existingBaseline = loadBaselineData() || {};\n        const baselineUpdate = { ...existingBaseline };\n        \n        // Update baseline with the data we just set\n        if (['byAge', 'byGender', 'byEducation', 'ageByCountry', 'genderByCountry', 'educationByCountry', 'ageVsGender', 'educationVsAge'].includes(widgetKey)) {\n          baselineUpdate[widgetKey] = widgetData;\n        } else if (widgetKey === 'demographicsSummary') {\n          baselineUpdate.demographicsSummary = widgetData;\n        }\n        \n        saveBaselineData({\n          ...baselineUpdate,\n          savedAt: new Date().toISOString()\n        });\n        \n        // Also trigger auto-save to ensure overview data is preserved\n        if (autoSaveBaseline) {\n          autoSaveBaseline();\n        }\n\n        setWidgetStates(prev => ({ ...prev, [widgetKey]: { loading: false, error: null } }));\n        toast.success(`${widgetKey} refreshed with full dataset`);\n      } catch (error) {\n        setWidgetStates(prev => ({ ...prev, [widgetKey]: { loading: false, error: error.message } }));\n        toast.error(`Failed to refresh ${widgetKey}`);\n      }\n    };\n\n    fetchWidgetData();\n  }, [autoSaveBaseline]);\n\n  // Render widget status for demographic widgets\n  const renderDemographicWidgetStatus = useCallback((widgetKey) => {\n    const state = widgetStates[widgetKey];\n    if (state?.loading) {\n      return (\n        <div className=\"widget-loading\">\n          Loading full dataset from Salesforce...\n        </div>\n      );\n    }\n    if (state?.error) {\n      return (\n        <div className=\"widget-error\">\n          <span>{state.error}</span>\n          <button onClick={() => handleDemographicWidgetRefresh(widgetKey)} className=\"retry-btn\">Retry</button>\n        </div>\n      );\n    }\n    return null;\n  }, [widgetStates, handleDemographicWidgetRefresh]);\n\n  // Render widget actions for demographic widgets\n  const renderDemographicWidgetActions = useCallback((widgetKey, widgetName, hasData = true) => {\n    const state = widgetStates[widgetKey];\n    const isLoadingFull = state?.loadingFull;\n    return (\n      <div className=\"widget-actions\">\n        {hasData && (\n          <button\n            className=\"widget-action-btn\"\n            onClick={() => setShowFilters(prev => ({ ...prev, [widgetKey]: !prev[widgetKey] }))}\n            title={`Filter ${widgetName}`}\n          >\n            <Filter size={14} />\n          </button>\n        )}\n        <button\n          className=\"widget-refresh-btn\"\n          onClick={() => handleDemographicWidgetRefresh(widgetKey)}\n          disabled={state?.loading}\n          title={state?.loading ? 'Refreshing...' : state?.error ? 'Retry' : 'Refresh this widget'}\n        >\n          <RefreshCw size={14} className={state?.loading ? 'spinning' : ''} />\n        </button>\n      </div>\n    );\n  }, [widgetStates, handleDemographicWidgetRefresh]);\n\n  // Apply filters to demographic data\n  const applyDemographicFilters = useCallback((data, widgetKey) => {\n    // Ensure data is an array before processing\n    if (!data || !Array.isArray(data)) {\n      return [];\n    }\n    \n    let filtered = [...data];\n    const filter = filterText[widgetKey];\n    \n    if (filter && filter.trim()) {\n      const searchTerm = filter.toLowerCase();\n      if (widgetKey === 'byAge') {\n        filtered = filtered.filter(item => \n          item.ageRange?.toLowerCase().includes(searchTerm)\n        );\n      } else if (widgetKey === 'byGender') {\n        filtered = filtered.filter(item => \n          item.gender?.toLowerCase().includes(searchTerm)\n        );\n      } else if (widgetKey === 'byEducation') {\n        filtered = filtered.filter(item => \n          item.education?.toLowerCase().includes(searchTerm)\n        );\n      }\n    }\n    \n    return filtered;\n  }, [filterText]);\n\n  // Render filter UI for demographic widgets\n  const renderDemographicFilterUI = useCallback((widgetKey) => {\n    if (!showFilters[widgetKey]) return null;\n    \n    return (\n      <div className=\"widget-filter-panel\">\n        <input\n          type=\"text\"\n          className=\"filter-input\"\n          placeholder={`Filter ${widgetKey}...`}\n          value={filterText[widgetKey] || ''}\n          onChange={(e) => setFilterText(prev => ({ ...prev, [widgetKey]: e.target.value }))}\n        />\n        <button\n          className=\"filter-clear-btn\"\n          onClick={() => {\n            setFilterText(prev => ({ ...prev, [widgetKey]: '' }));\n            setShowFilters(prev => ({ ...prev, [widgetKey]: false }));\n          }}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }, [showFilters, filterText]);\n\n  return (\n    <div className=\"tab-content\">\n      <div className=\"charts-grid\">\n        {/* Contributors by Age */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Contributors by Age</h3>\n              {widgetStates.byAge?.loadingFull && (\n                <span style={{ fontSize: '11px', color: '#6b7280', fontStyle: 'italic' }}>\n                  (Refining with larger sample...)\n                </span>\n              )}\n            </div>\n            {renderDemographicWidgetActions('byAge', 'By Age', byAge && byAge.length > 0)}\n          </div>\n          {renderDemographicFilterUI('byAge')}\n          <div className=\"chart-container scrollable-chart\">\n            {renderDemographicWidgetStatus('byAge') || (\n              (() => {\n                const filteredData = applyDemographicFilters(byAge || [], 'byAge');\n                return filteredData.length > 0 ? (\n                  <div className=\"chart-scroll-wrapper\">\n                    <ResponsiveContainer width=\"100%\" height={Math.max(400, filteredData.length * 30)}>\n                      <BarChart \n                        data={filteredData} \n                        layout=\"vertical\"\n                        margin={{ top: 0, right: 30, left: 20, bottom: 20 }}\n                        onClick={(data) => handleChartClick(data, 'byAge')}\n                        throttleDelay={100}\n                      >\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis type=\"number\" />\n                        <YAxis \n                          dataKey=\"ageRange\" \n                          type=\"category\" \n                          width={100}\n                          tick={{ fontSize: 11 }}\n                          interval={0}\n                        />\n                        <Tooltip />\n                        <Bar dataKey=\"count\" fill=\"#3b82f6\" />\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n                ) : (\n                  <div className=\"no-data\">No age data available</div>\n                );\n              })()\n            )}\n          </div>\n          <div className=\"chart-footer\">As of {formatDate(metrics.lastRefreshed)}</div>\n        </div>\n\n        {/* Contributors by Gender */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Contributors by Gender</h3>\n              {widgetStates.byGender?.loadingFull && (\n                <span style={{ fontSize: '11px', color: '#6b7280', fontStyle: 'italic' }}>\n                  (Refining with larger sample...)\n                </span>\n              )}\n            </div>\n            {renderDemographicWidgetActions('byGender', 'By Gender', byGender && byGender.length > 0)}\n          </div>\n          {renderDemographicFilterUI('byGender')}\n          <div className=\"chart-container\">\n            {renderDemographicWidgetStatus('byGender') || (\n              (() => {\n                const filteredData = applyDemographicFilters(byGender || [], 'byGender');\n                return filteredData.length > 0 ? (\n                  <ResponsiveContainer width=\"100%\" height={400}>\n                    <PieChart>\n                      <Pie\n                        data={filteredData}\n                        dataKey=\"count\"\n                        nameKey=\"gender\"\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        outerRadius={120}\n                        label\n                      >\n                        {filteredData.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'][index % 5]} />\n                        ))}\n                      </Pie>\n                      <Tooltip />\n                      <Legend />\n                    </PieChart>\n                  </ResponsiveContainer>\n                ) : (\n                  <div className=\"no-data\">No gender data available</div>\n                );\n              })()\n            )}\n          </div>\n          <div className=\"chart-footer\">As of {formatDate(metrics.lastRefreshed)}</div>\n        </div>\n\n        {/* Contributors by Education */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Contributors by Education</h3>\n              {widgetStates.byEducation?.loadingFull && (\n                <span style={{ fontSize: '11px', color: '#6b7280', fontStyle: 'italic' }}>\n                  (Refining with larger sample...)\n                </span>\n              )}\n            </div>\n            {renderDemographicWidgetActions('byEducation', 'By Education', byEducation && byEducation.length > 0)}\n          </div>\n          {renderDemographicFilterUI('byEducation')}\n          <div className=\"chart-container scrollable-chart\">\n            {renderDemographicWidgetStatus('byEducation') || (\n              (() => {\n                const filteredData = applyDemographicFilters(byEducation || [], 'byEducation');\n                return filteredData.length > 0 ? (\n                  <div className=\"chart-scroll-wrapper\">\n                    <ResponsiveContainer width=\"100%\" height={Math.max(400, filteredData.length * 30)}>\n                      <BarChart \n                        data={filteredData} \n                        layout=\"vertical\"\n                        margin={{ top: 0, right: 30, left: 20, bottom: 20 }}\n                        onClick={(data) => handleChartClick(data, 'byEducation')}\n                        throttleDelay={100}\n                      >\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis type=\"number\" />\n                        <YAxis \n                          dataKey=\"education\" \n                          type=\"category\" \n                          width={150}\n                          tick={{ fontSize: 11 }}\n                          interval={0}\n                        />\n                        <Tooltip />\n                        <Bar dataKey=\"count\" fill=\"#10b981\" />\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n                ) : (\n                  <div className=\"no-data\">No education data available</div>\n                );\n              })()\n            )}\n          </div>\n          <div className=\"chart-footer\">As of {formatDate(metrics.lastRefreshed)}</div>\n        </div>\n\n        {/* Demographics Summary Statistics */}\n        <div className=\"chart-card\" style={{ gridColumn: '1 / -1' }}>\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Demographics Data Coverage</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('demographicsSummary', 'Demographics Summary', demographicsSummary)}\n            </div>\n          </div>\n          {widgetStates.demographicsSummary?.loading ? (\n            <div className=\"widget-loading\">Loading coverage statistics...</div>\n          ) : widgetStates.demographicsSummary?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.demographicsSummary.error}</div>\n          ) : demographicsSummary ? (\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '16px', padding: '16px' }}>\n              <div style={{ textAlign: 'center', padding: '12px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>\n                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#111827' }}>{formatNumber(demographicsSummary.totalContributors)}</div>\n                <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '4px' }}>Total Contributors</div>\n              </div>\n              <div style={{ textAlign: 'center', padding: '12px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>\n                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#111827' }}>{demographicsSummary.ageCoverage}%</div>\n                <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '4px' }}>Age Coverage ({formatNumber(demographicsSummary.withAge)})</div>\n              </div>\n              <div style={{ textAlign: 'center', padding: '12px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>\n                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#111827' }}>{demographicsSummary.genderCoverage}%</div>\n                <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '4px' }}>Gender Coverage ({formatNumber(demographicsSummary.withGender)})</div>\n              </div>\n              <div style={{ textAlign: 'center', padding: '12px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>\n                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#111827' }}>{demographicsSummary.educationCoverage}%</div>\n                <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '4px' }}>Education Coverage ({formatNumber(demographicsSummary.withEducation)})</div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"no-data\">No coverage data available</div>\n          )}\n        </div>\n\n        {/* Age Distribution by Country */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Age Distribution by Country</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('ageByCountry', 'Age by Country', ageByCountry && ageByCountry.length > 0)}\n            </div>\n          </div>\n          {widgetStates.ageByCountry?.loading ? (\n            <div className=\"widget-loading\">Loading age by country data...</div>\n          ) : widgetStates.ageByCountry?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.ageByCountry.error}</div>\n          ) : ageByCountry.length > 0 ? (() => {\n            // Backend returns { country, \"0-18\": 10, \"19-25\": 20, ... } format\n            // Extract all unique age range keys (excluding 'country')\n            const allAgeRanges = [...new Set(\n              ageByCountry.flatMap(item => \n                Object.keys(item).filter(key => key !== 'country')\n              )\n            )].sort((a, b) => {\n              // Sort age ranges numerically\n              const aStart = parseInt(a.split('-')[0] || a.replace('+', ''));\n              const bStart = parseInt(b.split('-')[0] || b.replace('+', ''));\n              return aStart - bStart;\n            });\n            \n            const chartData = ageByCountry.map(item => {\n              const dataPoint = { country: item.country };\n              allAgeRanges.forEach(ageRange => {\n                dataPoint[ageRange] = item[ageRange] || 0;\n              });\n              return dataPoint;\n            });\n            \n            return (\n              <div className=\"chart-container scrollable-chart\">\n                <div className=\"chart-scroll-wrapper\">\n                  <ResponsiveContainer width=\"100%\" height={Math.max(400, ageByCountry.length * 80)}>\n                    <BarChart data={chartData} layout=\"vertical\" margin={{ top: 10, right: 30, left: 10, bottom: 20 }} throttleDelay={100}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis type=\"number\" />\n                      <YAxis dataKey=\"country\" type=\"category\" width={150} tick={{ fontSize: 11 }} />\n                      <Tooltip\n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            const total = payload.reduce((sum, entry) => sum + (entry.value || 0), 0);\n                            return (\n                              <div style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '12px' }}>\n                                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>{label}</div>\n                                <div style={{ fontSize: '12px', marginBottom: '8px' }}>Total: {formatNumber(total)}</div>\n                                {payload.map((entry, idx) => (\n                                  <div key={idx} style={{ fontSize: '12px', marginTop: '4px' }}>\n                                    <span style={{ color: entry.color, marginRight: '6px' }}></span>\n                                    {entry.name}: {formatNumber(entry.value || 0)}\n                                  </div>\n                                ))}\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Legend />\n                      {allAgeRanges.map((ageRange, idx) => (\n                        <Bar key={ageRange} dataKey={ageRange} stackId=\"a\" fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4'][idx % 7]} name={ageRange} />\n                      ))}\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            );\n          })() : (\n            <div className=\"no-data\">No age by country data available</div>\n          )}\n        </div>\n\n        {/* Gender Distribution by Country */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Gender Distribution by Country</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('genderByCountry', 'Gender by Country', genderByCountry && genderByCountry.length > 0)}\n            </div>\n          </div>\n          {widgetStates.genderByCountry?.loading ? (\n            <div className=\"widget-loading\">Loading gender by country data...</div>\n          ) : widgetStates.genderByCountry?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.genderByCountry.error}</div>\n          ) : genderByCountry.length > 0 ? (() => {\n            // Backend returns { country, Male: 10, Female: 20, ... } format\n            // Extract all unique gender keys (excluding 'country')\n            const allGenders = [...new Set(\n              genderByCountry.flatMap(item => \n                Object.keys(item).filter(key => key !== 'country')\n              )\n            )].sort();\n            \n            const chartData = genderByCountry.map(item => {\n              const dataPoint = { country: item.country };\n              allGenders.forEach(gender => {\n                dataPoint[gender] = item[gender] || 0;\n              });\n              return dataPoint;\n            });\n            \n            return (\n              <div className=\"chart-container scrollable-chart\">\n                <div className=\"chart-scroll-wrapper\">\n                  <ResponsiveContainer width=\"100%\" height={Math.max(400, genderByCountry.length * 60)}>\n                    <BarChart data={chartData} layout=\"vertical\" margin={{ top: 10, right: 30, left: 10, bottom: 20 }} throttleDelay={100}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis type=\"number\" />\n                      <YAxis dataKey=\"country\" type=\"category\" width={150} tick={{ fontSize: 11 }} />\n                      <Tooltip\n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            const total = payload.reduce((sum, entry) => sum + (entry.value || 0), 0);\n                            return (\n                              <div style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '12px' }}>\n                                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>{label}</div>\n                                <div style={{ fontSize: '12px', marginBottom: '8px' }}>Total: {formatNumber(total)}</div>\n                                {payload.map((entry, idx) => (\n                                  <div key={idx} style={{ fontSize: '12px', marginTop: '4px' }}>\n                                    <span style={{ color: entry.color, marginRight: '6px' }}></span>\n                                    {entry.name}: {formatNumber(entry.value || 0)}\n                                  </div>\n                                ))}\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Legend />\n                      {allGenders.map((gender, idx) => (\n                        <Bar key={gender} dataKey={gender} stackId=\"a\" fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'][idx % 5]} name={gender} />\n                      ))}\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            );\n          })() : (\n            <div className=\"no-data\">No gender by country data available</div>\n          )}\n        </div>\n\n        {/* Education Distribution by Country */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Education Distribution by Country</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('educationByCountry', 'Education by Country', educationByCountry && educationByCountry.length > 0)}\n            </div>\n          </div>\n          {widgetStates.educationByCountry?.loading ? (\n            <div className=\"widget-loading\">Loading education by country data...</div>\n          ) : widgetStates.educationByCountry?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.educationByCountry.error}</div>\n          ) : educationByCountry.length > 0 ? (() => {\n            // Backend returns { country, \"Bachelor's\": 10, \"Master's\": 20, ... } format\n            // Extract all unique education keys (excluding 'country')\n            const allEducations = [...new Set(\n              educationByCountry.flatMap(item => \n                Object.keys(item).filter(key => key !== 'country')\n              )\n            )].sort();\n            \n            const chartData = educationByCountry.map(item => {\n              const dataPoint = { country: item.country };\n              allEducations.forEach(education => {\n                dataPoint[education] = item[education] || 0;\n              });\n              return dataPoint;\n            });\n            \n            return (\n              <div className=\"chart-container scrollable-chart\">\n                <div className=\"chart-scroll-wrapper\">\n                  <ResponsiveContainer width=\"100%\" height={Math.max(400, educationByCountry.length * 60)}>\n                    <BarChart data={chartData} layout=\"vertical\" margin={{ top: 10, right: 30, left: 10, bottom: 20 }} throttleDelay={100}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis type=\"number\" />\n                      <YAxis dataKey=\"country\" type=\"category\" width={150} tick={{ fontSize: 11 }} />\n                      <Tooltip\n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            const total = payload.reduce((sum, entry) => sum + (entry.value || 0), 0);\n                            return (\n                              <div style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '12px' }}>\n                                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>{label}</div>\n                                <div style={{ fontSize: '12px', marginBottom: '8px' }}>Total: {formatNumber(total)}</div>\n                                {payload.map((entry, idx) => (\n                                  <div key={idx} style={{ fontSize: '12px', marginTop: '4px' }}>\n                                    <span style={{ color: entry.color, marginRight: '6px' }}></span>\n                                    {entry.name}: {formatNumber(entry.value || 0)}\n                                  </div>\n                                ))}\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Legend />\n                      {allEducations.map((education, idx) => (\n                        <Bar key={education} dataKey={education} stackId=\"a\" fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4'][idx % 7]} name={education} />\n                      ))}\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            );\n          })() : (\n            <div className=\"no-data\">No education by country data available</div>\n          )}\n        </div>\n\n        {/* Age vs Gender Cross-tabulation */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Age vs Gender Distribution</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('ageVsGender', 'Age vs Gender', ageVsGender && ageVsGender.length > 0)}\n            </div>\n          </div>\n          {widgetStates.ageVsGender?.loading ? (\n            <div className=\"widget-loading\">Loading age vs gender data...</div>\n          ) : widgetStates.ageVsGender?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.ageVsGender.error}</div>\n          ) : ageVsGender.length > 0 ? (() => {\n            // Backend returns { ageRange, Male: 10, Female: 20, ... } format\n            // Extract all unique gender keys (excluding 'ageRange')\n            const allGenders = [...new Set(\n              ageVsGender.flatMap(item => \n                Object.keys(item).filter(key => key !== 'ageRange')\n              )\n            )].sort();\n            \n            const chartData = ageVsGender.map(item => {\n              const dataPoint = { ageRange: item.ageRange };\n              allGenders.forEach(gender => {\n                dataPoint[gender] = item[gender] || 0;\n              });\n              return dataPoint;\n            });\n            \n            return (\n              <div className=\"chart-container\">\n                <ResponsiveContainer width=\"100%\" height={400}>\n                  <BarChart data={chartData} margin={{ top: 10, right: 30, left: 0, bottom: 20 }} throttleDelay={100}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"ageRange\" tick={{ fontSize: 11 }} />\n                    <YAxis />\n                    <Tooltip\n                      content={({ active, payload, label }) => {\n                        if (active && payload && payload.length) {\n                          const total = payload.reduce((sum, entry) => sum + (entry.value || 0), 0);\n                          return (\n                            <div style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '12px' }}>\n                              <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>{label}</div>\n                              <div style={{ fontSize: '12px', marginBottom: '8px' }}>Total: {formatNumber(total)}</div>\n                              {payload.map((entry, idx) => (\n                                <div key={idx} style={{ fontSize: '12px', marginTop: '4px' }}>\n                                  <span style={{ color: entry.color, marginRight: '6px' }}></span>\n                                  {entry.name}: {formatNumber(entry.value || 0)}\n                                </div>\n                              ))}\n                            </div>\n                          );\n                        }\n                        return null;\n                      }}\n                    />\n                    <Legend />\n                    {allGenders.map((gender, idx) => (\n                      <Bar key={gender} dataKey={gender} stackId=\"a\" fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'][idx % 5]} name={gender} />\n                    ))}\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n            );\n          })() : (\n            <div className=\"no-data\">No age vs gender data available</div>\n          )}\n        </div>\n\n        {/* Education vs Age Analysis */}\n        <div className=\"chart-card\">\n          <div className=\"chart-header\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <BarChart3 size={20} color=\"#08979C\" />\n              <h3>Education vs Age Distribution</h3>\n            </div>\n            <div className=\"widget-actions\">\n              {renderDemographicWidgetActions('educationVsAge', 'Education vs Age', educationVsAge && educationVsAge.length > 0)}\n            </div>\n          </div>\n          {widgetStates.educationVsAge?.loading ? (\n            <div className=\"widget-loading\">Loading education vs age data...</div>\n          ) : widgetStates.educationVsAge?.error ? (\n            <div className=\"widget-error\">Error: {widgetStates.educationVsAge.error}</div>\n          ) : educationVsAge.length > 0 ? (() => {\n            // Backend returns { education, \"0-18\": 10, \"19-25\": 20, ... } format\n            // Extract all unique age range keys (excluding 'education')\n            const allAgeRanges = [...new Set(\n              educationVsAge.flatMap(item => \n                Object.keys(item).filter(key => key !== 'education')\n              )\n            )].sort((a, b) => {\n              // Sort age ranges numerically\n              const aStart = parseInt(a.split('-')[0] || a.replace('+', ''));\n              const bStart = parseInt(b.split('-')[0] || b.replace('+', ''));\n              return aStart - bStart;\n            });\n            \n            const chartData = educationVsAge.map(item => {\n              const dataPoint = { education: item.education };\n              allAgeRanges.forEach(ageRange => {\n                dataPoint[ageRange] = item[ageRange] || 0;\n              });\n              return dataPoint;\n            });\n            \n            return (\n              <div className=\"chart-container scrollable-chart\">\n                <div className=\"chart-scroll-wrapper\">\n                  <ResponsiveContainer width=\"100%\" height={Math.max(400, educationVsAge.length * 60)}>\n                    <BarChart data={chartData} layout=\"vertical\" margin={{ top: 10, right: 30, left: 0, bottom: 20 }} throttleDelay={100}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis type=\"number\" />\n                      <YAxis dataKey=\"education\" type=\"category\" width={200} tick={{ fontSize: 11 }} />\n                      <Tooltip\n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            const total = payload.reduce((sum, entry) => sum + (entry.value || 0), 0);\n                            return (\n                              <div style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '12px' }}>\n                                <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>{label}</div>\n                                <div style={{ fontSize: '12px', marginBottom: '8px' }}>Total: {formatNumber(total)}</div>\n                                {payload.map((entry, idx) => (\n                                  <div key={idx} style={{ fontSize: '12px', marginTop: '4px' }}>\n                                    <span style={{ color: entry.color, marginRight: '6px' }}></span>\n                                    {entry.name}: {formatNumber(entry.value || 0)}\n                                  </div>\n                                ))}\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Legend />\n                      {allAgeRanges.map((ageRange, idx) => (\n                        <Bar key={ageRange} dataKey={ageRange} stackId=\"a\" fill={['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4'][idx % 7]} name={ageRange} />\n                      ))}\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            );\n          })() : (\n            <div className=\"no-data\">No education vs age data available</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DemographicSegmentationTab;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}