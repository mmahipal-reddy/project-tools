{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import apiClient from'../config/api';import toast from'react-hot-toast';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import useSidebarWidth from'../hooks/useSidebarWidth';import{PlusCircle,FileText,Settings,TrendingUp,Users,Clock,ArrowRight,Menu,LogOut,CheckCircle,XCircle,BarChart3,Calendar,Activity,PieChart,Zap,Target,Loader,RefreshCw}from'lucide-react';import{BarChart,Bar,LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,Cell,PieChart as RechartsPieChart,Pie,AreaChart,Area}from'recharts';import DashboardWidgetsManager from'../components/DashboardWidgets/DashboardWidgetsManager';import'../styles/Dashboard.css';import'../styles/Sidebar.css';import'../styles/Login.css';import'../styles/GlobalHeader.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const navigate=useNavigate();const{user,hasPermission,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const sidebarWidth=useSidebarWidth(sidebarOpen);const[stats,setStats]=useState([{label:'Total Publishes',value:'0',icon:CheckCircle,color:'#08979C',description:'All items published to Salesforce',onClick:()=>navigate('/history')},{label:'Today',value:'0',icon:Zap,color:'#10b981',description:'Published today',onClick:()=>navigate('/history')},{label:'Last 7 Days',value:'0',icon:Activity,color:'#3b82f6',description:'Published in last week',onClick:()=>navigate('/history')},{label:'Success Rate',value:'0%',icon:Target,color:'#8b5cf6',description:'Publish success rate',onClick:()=>navigate('/history')}]);const[loading,setLoading]=useState(true);const[refreshing,setRefreshing]=useState(false);const[analytics,setAnalytics]=useState({projectsByUser:{},projectsByDate:{},publishesByObjectType:{},publishesByOperation:{},activityByDay:[]});const fetchStats=useCallback(async function(){let silent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(!silent){setRefreshing(true);}const response=await apiClient.get('/projects/stats');const statsData=response.data||{};setStats([{label:'Total Publishes',value:(statsData.totalPublishes||0).toString(),icon:CheckCircle,color:'#08979C',description:'All items published to Salesforce',onClick:()=>navigate('/history')},{label:'Today',value:(statsData.todayPublishes||0).toString(),icon:Zap,color:'#10b981',description:'Published today',onClick:()=>navigate('/history')},{label:'Last 7 Days',value:(statsData.recentPublishes||0).toString(),icon:Activity,color:'#3b82f6',description:'Published in last week',onClick:()=>navigate('/history')},{label:'Success Rate',value:\"\".concat(statsData.successRate||100,\"%\"),icon:Target,color:'#8b5cf6',description:'Publish success rate',onClick:()=>navigate('/history')}]);setAnalytics({projectsByUser:statsData.projectsByUser||{},projectsByDate:statsData.projectsByDate||{},publishesByObjectType:statsData.publishesByObjectType||{},publishesByOperation:statsData.publishesByOperation||{},activityByDay:statsData.activityByDay||[]});if(!silent){toast.success('Dashboard updated');}}catch(error){var _error$response;if(process.env.NODE_ENV==='development'){console.error('Error fetching stats:',error);}// Don't show toast for 401 errors (handled by auth context) or silent refreshes\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)!==401&&!silent){toast.error('Error loading dashboard statistics');}// Ensure analytics state is set even on error to prevent crashes\nsetAnalytics({projectsByUser:{},projectsByDate:{},publishesByObjectType:{},publishesByOperation:{},activityByDay:[]});}finally{setLoading(false);setRefreshing(false);}},[navigate]);useEffect(()=>{fetchStats();// Set up automatic refresh every 10 seconds for real-time updates\nconst refreshInterval=setInterval(()=>{fetchStats(true);// Silent refresh\n},10000);// 10 seconds\n// Refresh when user returns to the tab/window\nconst handleVisibilityChange=()=>{if(!document.hidden){fetchStats(true);// Silent refresh when tab becomes visible\n}};// Refresh when window gains focus\nconst handleFocus=()=>{fetchStats(true);// Silent refresh when window gains focus\n};document.addEventListener('visibilitychange',handleVisibilityChange);window.addEventListener('focus',handleFocus);return()=>{clearInterval(refreshInterval);document.removeEventListener('visibilitychange',handleVisibilityChange);window.removeEventListener('focus',handleFocus);};},[fetchStats]);const quickActions=[{id:'create',title:'Create New Project',description:'Start a new project setup process',icon:PlusCircle,action:()=>navigate('/setup'),gradient:'var(--gradient-primary)'},{id:'view',title:'View Saved Content',description:'Browse and manage existing projects',icon:FileText,action:()=>navigate('/projects'),gradient:'var(--gradient-secondary)',permission:'view_project'},{id:'settings',title:'Settings',description:'Configure application settings',icon:Settings,action:()=>navigate('/settings'),gradient:'var(--gradient-accent)',permission:'all'}];const filteredQuickActions=quickActions.filter(action=>!action.permission||hasPermission(action.permission));// Show loading state\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",style:{marginLeft:\"\".concat(sidebarWidth,\"px\"),width:\"calc(100% - \".concat(sidebarWidth,\"px)\"),transition:'margin-left 0.3s ease, width 0.3s ease'},children:[/*#__PURE__*/_jsx(\"header\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle sidebar\",children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Welcome back! Here's what's happening with your projects.\"})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-main\",style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',minHeight:'400px',gap:'16px'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#0176d3'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#706e6b',fontSize:'14px'},children:\"Loading...\"})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",style:{marginLeft:\"\".concat(sidebarWidth,\"px\"),width:\"calc(100% - \".concat(sidebarWidth,\"px)\"),transition:'margin-left 0.3s ease, width 0.3s ease'},children:[/*#__PURE__*/_jsx(\"header\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle sidebar\",children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Welcome back! Here's what's happening with your projects.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-user-profile\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchStats(false),disabled:refreshing,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px',marginRight:'12px',background:refreshing?'#f0f0f0':'#08979C',color:refreshing?'#666':'#fff',border:'none',borderRadius:'6px',cursor:refreshing?'not-allowed':'pointer',fontSize:'13px',fontWeight:'500',transition:'all 0.2s ease'},title:\"Refresh dashboard\",children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:refreshing?'spinning':'',style:{animation:refreshing?'spin 1s linear infinite':'none'}}),refreshing?'Refreshing...':'Refresh']}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stats-grid\",children:stats.map((stat,index)=>{const Icon=stat.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card neumorphic fade-in\",style:{animationDelay:\"\".concat(index*0.1,\"s\"),cursor:stat.onClick?'pointer':'default',transition:'all 0.3s ease'},onClick:stat.onClick,title:stat.description,onMouseEnter:e=>{if(stat.onClick){e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)';}},onMouseLeave:e=>{if(stat.onClick){e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='';}},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:\"\".concat(stat.color,\"15\"),color:stat.color},children:/*#__PURE__*/_jsx(Icon,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stat.value}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:stat.label}),stat.description&&/*#__PURE__*/_jsx(\"div\",{className:\"stat-description\",style:{fontSize:'12px',color:'var(--text-secondary)',marginTop:'4px',opacity:0.8},children:stat.description})]})]},index);})}),/*#__PURE__*/_jsxs(\"section\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-grid\",children:filteredQuickActions.map((action,index)=>{const Icon=action.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"action-card neumorphic fade-in\",onClick:action.action,style:{animationDelay:\"\".concat((index+4)*0.1,\"s\"),cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",style:{background:action.gradient},children:/*#__PURE__*/_jsx(Icon,{size:28,color:\"white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"action-title\",children:action.title}),/*#__PURE__*/_jsx(\"p\",{className:\"action-description\",children:action.description})]}),/*#__PURE__*/_jsx(ArrowRight,{size:20,className:\"action-arrow\"})]},action.id);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Publishing Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card neumorphic fade-in\",style:{animationDelay:'0.5s',gridColumn:'span 2'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"analytics-card-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Activity,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'600'},children:\"Publishing Activity (Last 30 Days)\"})]})}),(()=>{if(!analytics.activityByDay||analytics.activityByDay.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No publishing activity data available\"})});}try{const chartData=analytics.activityByDay.map(item=>({date:new Date(item.date).toLocaleDateString('en-US',{month:'short',day:'numeric'}),fullDate:item.date,creates:item.creates||0,updates:item.updates||0,total:item.total||0}));return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(AreaChart,{data:chartData,margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorTotal\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#08979C\",stopOpacity:0.3}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#08979C\",stopOpacity:0})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorCreates\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#10b981\",stopOpacity:0.3}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#10b981\",stopOpacity:0})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorUpdates\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#3b82f6\",stopOpacity:0.3}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#3b82f6\",stopOpacity:0})]})]}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",tick:{fontSize:11},angle:-45,textAnchor:\"end\",height:80}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12}}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name,props)=>{// Custom formatter to control order: Creates, Updates, Total (last)\n// Recharts calls this for each data series\nif(name==='creates'){return[value,'Creates'];}else if(name==='updates'){return[value,'Updates'];}else if(name==='total'){return[value,'Total'];}// Fallback\nreturn[value,name];},labelFormatter:label=>{const item=chartData.find(d=>d.date===label);return item?new Date(item.fullDate).toLocaleDateString():label;},contentStyle:{fontSize:'13px',borderRadius:'6px'},content:_ref=>{let{active,payload,label}=_ref;if(!active||!payload||!payload.length)return null;// Sort payload to show Creates, Updates, Total (last)\nconst sortedPayload=[...payload].sort((a,b)=>{const order={'creates':1,'updates':2,'total':3};return(order[a.dataKey]||99)-(order[b.dataKey]||99);});return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'10px',border:'1px solid #ccc',borderRadius:'6px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontWeight:'600'},children:label}),sortedPayload.map((entry,index)=>/*#__PURE__*/_jsxs(\"p\",{style:{margin:'4px 0',color:entry.color},children:[entry.name,\": \",/*#__PURE__*/_jsx(\"strong\",{children:entry.value})]},index))]});}}),/*#__PURE__*/_jsx(Legend,{formatter:(value,entry)=>{// In Recharts Legend, 'value' is the name prop from Area component\n// But we need to check the dataKey from entry.payload\n// entry.payload contains the dataKey in the 'dataKey' property\nif(entry&&entry.payload){const dataKey=entry.payload.dataKey;if(dataKey==='creates')return'Creates';if(dataKey==='updates')return'Updates';if(dataKey==='total')return'Total';}// Fallback: use value (which is the name prop: \"Total\", \"Creates\", \"Updates\")\nreturn value;},wrapperStyle:{fontSize:'13px'}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"total\",stroke:\"#08979C\",strokeWidth:2,fillOpacity:1,fill:\"url(#colorTotal)\",name:\"Total\"}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"creates\",stroke:\"#10b981\",strokeWidth:2,fillOpacity:1,fill:\"url(#colorCreates)\",name:\"Creates\"}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"updates\",stroke:\"#3b82f6\",strokeWidth:2,fillOpacity:1,fill:\"url(#colorUpdates)\",name:\"Updates\"})]})});}catch(error){if(process.env.NODE_ENV==='development'){console.error('Error rendering activity chart:',error);}return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#ef4444',fontSize:'14px'},children:\"Error loading chart\"})});}})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card neumorphic fade-in\",style:{animationDelay:'0.6s'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"analytics-card-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(PieChart,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'600'},children:\"By Object Type\"})]})}),(()=>{if(!analytics.publishesByObjectType||Object.keys(analytics.publishesByObjectType).length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}try{// Map Salesforce API names to user-friendly names\nconst objectTypeMap={'Project':'Project','Project__c':'Project','Project Objective':'Project Objective','Project_Objective__c':'Project Objective','Project Objective__c':'Project Objective','Contributor Project':'Contributor Project','Contributor_Project__c':'Contributor Project','Client Tool Account':'Client Tool Account','Client_Tool_Account__c':'Client Tool Account','WorkStream':'WorkStream','WorkStream__c':'WorkStream','Work_Stream__c':'WorkStream','Project_Workstream__c':'WorkStream','Project Workstream':'WorkStream','Qualification Step':'Qualification Step','Qualification_Step__c':'Qualification Step'};// Aggregate by friendly name\nconst aggregatedData={};Object.entries(analytics.publishesByObjectType).forEach(_ref2=>{let[apiName,value]=_ref2;const friendlyName=objectTypeMap[apiName]||apiName.replace(/_/g,' ').replace(/__c/g,'').replace(/\\b\\w/g,l=>l.toUpperCase());aggregatedData[friendlyName]=(aggregatedData[friendlyName]||0)+Number(value||0);});const COLORS=['#08979C','#10b981','#3b82f6','#8b5cf6','#f59e0b','#ef4444','#ec4899'];const total=Object.values(aggregatedData).reduce((sum,val)=>sum+val,0);const chartData=Object.entries(aggregatedData).map(_ref3=>{let[name,value]=_ref3;return{name:name,value:Number(value||0),percent:total>0?(value/total*100).toFixed(0):'0'};}).filter(item=>item.value>0).sort((a,b)=>b.value-a.value);if(chartData.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(RechartsPieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:chartData,cx:\"50%\",cy:\"50%\",labelLine:false,label:false,outerRadius:100,fill:\"#8884d8\",dataKey:\"value\",children:chartData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name,props)=>[\"\".concat(value,\" publishes (\").concat(props.payload.percent,\"%)\"),props.payload.name],contentStyle:{fontSize:'13px',borderRadius:'6px'}}),/*#__PURE__*/_jsx(Legend,{formatter:(value,entry)=>{if(entry&&entry.payload){return\"\".concat(entry.payload.name,\": \").concat(entry.payload.percent,\"%\");}return value;},wrapperStyle:{fontSize:'13px',fontWeight:'500'},verticalAlign:\"bottom\",height:60,iconType:\"circle\"})]})});}catch(error){if(process.env.NODE_ENV==='development'){console.error('Error rendering object type chart:',error);}return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#ef4444',fontSize:'14px'},children:\"Error loading chart\"})});}})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card neumorphic fade-in\",style:{animationDelay:'0.7s'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"analytics-card-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'600'},children:\"By Operation\"})]})}),(()=>{if(!analytics.publishesByOperation||Object.keys(analytics.publishesByOperation).length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}try{const chartData=Object.entries(analytics.publishesByOperation).map(_ref4=>{let[operation,count]=_ref4;return{operation:operation.charAt(0).toUpperCase()+operation.slice(1),count:Number(count||0)};}).filter(item=>item.count>0).sort((a,b)=>b.count-a.count);if(chartData.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}const COLORS={'Create':'#10b981','Update':'#3b82f6','Delete':'#ef4444','Unknown':'#6b7280'};return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,margin:{top:20,right:30,left:20,bottom:20},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"operation\",tick:{fontSize:12}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12}}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>[\"\".concat(value,\" publishes\"),'Count'],contentStyle:{fontSize:'13px',borderRadius:'6px'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",radius:[8,8,0,0],children:chartData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[entry.operation]||COLORS['Unknown']},\"cell-\".concat(index)))})]})});}catch(error){if(process.env.NODE_ENV==='development'){console.error('Error rendering operation chart:',error);}return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#ef4444',fontSize:'14px'},children:\"Error loading chart\"})});}})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card neumorphic fade-in\",style:{animationDelay:'0.8s'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"analytics-card-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Users,{size:20,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'600'},children:\"Top Publishers\"})]})}),(()=>{if(!analytics.projectsByUser||Object.keys(analytics.projectsByUser).length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}try{const topPublishers=Object.entries(analytics.projectsByUser).map(_ref5=>{let[user,data]=_ref5;return{user:user.length>25?user.substring(0,25)+'...':user,fullUser:user,published:Number(data&&data.published||0)};}).filter(item=>item.published>0).sort((a,b)=>b.published-a.published).slice(0,10);if(topPublishers.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'14px'},children:\"No data available\"})});}const maxValue=Math.max(...topPublishers.map(p=>p.published));return/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 0'},children:topPublishers.map((publisher,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px',fontWeight:'500',color:'#002329'},title:publisher.fullUser,children:publisher.user}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:'600',color:'#08979C'},children:publisher.published})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'8px',backgroundColor:'#e5e7eb',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(publisher.published/maxValue*100,\"%\"),height:'100%',backgroundColor:'#08979C',borderRadius:'4px',transition:'width 0.3s ease'}})})]},index))});}catch(error){if(process.env.NODE_ENV==='development'){console.error('Error rendering top publishers:',error);}return/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#ef4444',fontSize:'14px'},children:\"Error loading data\"})});}})()]})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"dashboard-section\",style:{marginTop:'32px'},children:/*#__PURE__*/_jsx(DashboardWidgetsManager,{stats:stats,analytics:analytics})})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","apiClient","toast","useAuth","Sidebar","useSidebarWidth","PlusCircle","FileText","Settings","TrendingUp","Users","Clock","ArrowRight","Menu","LogOut","CheckCircle","XCircle","BarChart3","Calendar","Activity","PieChart","Zap","Target","Loader","RefreshCw","BarChart","Bar","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Cell","RechartsPieChart","Pie","AreaChart","Area","DashboardWidgetsManager","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","user","hasPermission","logout","sidebarOpen","setSidebarOpen","sidebarWidth","stats","setStats","label","value","icon","color","description","onClick","loading","setLoading","refreshing","setRefreshing","analytics","setAnalytics","projectsByUser","projectsByDate","publishesByObjectType","publishesByOperation","activityByDay","fetchStats","silent","arguments","length","undefined","response","get","statsData","data","totalPublishes","toString","todayPublishes","recentPublishes","concat","successRate","success","error","_error$response","process","env","NODE_ENV","console","status","refreshInterval","setInterval","handleVisibilityChange","document","hidden","handleFocus","addEventListener","window","clearInterval","removeEventListener","quickActions","id","title","action","gradient","permission","filteredQuickActions","filter","className","children","isOpen","toggleSidebar","style","marginLeft","width","transition","size","display","flexDirection","justifyContent","alignItems","minHeight","gap","fontSize","disabled","padding","marginRight","background","border","borderRadius","cursor","fontWeight","animation","email","charAt","toUpperCase","map","stat","index","Icon","animationDelay","onMouseEnter","e","currentTarget","transform","boxShadow","onMouseLeave","marginTop","opacity","gridColumn","margin","height","chartData","item","date","Date","toLocaleDateString","month","day","fullDate","creates","updates","total","top","right","left","bottom","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","dataKey","tick","angle","textAnchor","formatter","name","props","labelFormatter","find","d","contentStyle","content","_ref","active","payload","sortedPayload","sort","a","b","order","entry","wrapperStyle","type","strokeWidth","fillOpacity","fill","Object","keys","objectTypeMap","aggregatedData","entries","forEach","_ref2","apiName","friendlyName","replace","l","Number","COLORS","values","reduce","sum","val","_ref3","percent","toFixed","cx","cy","labelLine","outerRadius","verticalAlign","iconType","_ref4","operation","count","slice","radius","topPublishers","_ref5","substring","fullUser","published","maxValue","Math","max","p","publisher","marginBottom","backgroundColor","overflow"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport useSidebarWidth from '../hooks/useSidebarWidth';\nimport { PlusCircle, FileText, Settings, TrendingUp, Users, Clock, ArrowRight, Menu, LogOut, CheckCircle, XCircle, BarChart3, Calendar, Activity, PieChart, Zap, Target, Loader, RefreshCw } from 'lucide-react';\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell, PieChart as RechartsPieChart, Pie, AreaChart, Area } from 'recharts';\nimport DashboardWidgetsManager from '../components/DashboardWidgets/DashboardWidgetsManager';\nimport '../styles/Dashboard.css';\nimport '../styles/Sidebar.css';\nimport '../styles/Login.css';\nimport '../styles/GlobalHeader.css';\n\nconst Dashboard = () => {\n  const navigate = useNavigate();\n  const { user, hasPermission, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const sidebarWidth = useSidebarWidth(sidebarOpen);\n  const [stats, setStats] = useState([\n    { label: 'Total Publishes', value: '0', icon: CheckCircle, color: '#08979C', description: 'All items published to Salesforce', onClick: () => navigate('/history') },\n    { label: 'Today', value: '0', icon: Zap, color: '#10b981', description: 'Published today', onClick: () => navigate('/history') },\n    { label: 'Last 7 Days', value: '0', icon: Activity, color: '#3b82f6', description: 'Published in last week', onClick: () => navigate('/history') },\n    { label: 'Success Rate', value: '0%', icon: Target, color: '#8b5cf6', description: 'Publish success rate', onClick: () => navigate('/history') }\n  ]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [analytics, setAnalytics] = useState({\n    projectsByUser: {},\n    projectsByDate: {},\n    publishesByObjectType: {},\n    publishesByOperation: {},\n    activityByDay: []\n  });\n\n  const fetchStats = useCallback(async (silent = false) => {\n    try {\n      if (!silent) {\n        setRefreshing(true);\n      }\n      \n      const response = await apiClient.get('/projects/stats');\n      \n      const statsData = response.data || {};\n      setStats([\n        { label: 'Total Publishes', value: (statsData.totalPublishes || 0).toString(), icon: CheckCircle, color: '#08979C', description: 'All items published to Salesforce', onClick: () => navigate('/history') },\n        { label: 'Today', value: (statsData.todayPublishes || 0).toString(), icon: Zap, color: '#10b981', description: 'Published today', onClick: () => navigate('/history') },\n        { label: 'Last 7 Days', value: (statsData.recentPublishes || 0).toString(), icon: Activity, color: '#3b82f6', description: 'Published in last week', onClick: () => navigate('/history') },\n        { label: 'Success Rate', value: `${statsData.successRate || 100}%`, icon: Target, color: '#8b5cf6', description: 'Publish success rate', onClick: () => navigate('/history') }\n      ]);\n      setAnalytics({\n        projectsByUser: statsData.projectsByUser || {},\n        projectsByDate: statsData.projectsByDate || {},\n        publishesByObjectType: statsData.publishesByObjectType || {},\n        publishesByOperation: statsData.publishesByOperation || {},\n        activityByDay: statsData.activityByDay || []\n      });\n      \n      if (!silent) {\n        toast.success('Dashboard updated');\n      }\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error('Error fetching stats:', error);\n      }\n      // Don't show toast for 401 errors (handled by auth context) or silent refreshes\n      if (error.response?.status !== 401 && !silent) {\n        toast.error('Error loading dashboard statistics');\n      }\n      // Ensure analytics state is set even on error to prevent crashes\n      setAnalytics({\n        projectsByUser: {},\n        projectsByDate: {},\n        publishesByObjectType: {},\n        publishesByOperation: {},\n        activityByDay: []\n      });\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    fetchStats();\n    \n    // Set up automatic refresh every 10 seconds for real-time updates\n    const refreshInterval = setInterval(() => {\n      fetchStats(true); // Silent refresh\n    }, 10000); // 10 seconds\n    \n    // Refresh when user returns to the tab/window\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        fetchStats(true); // Silent refresh when tab becomes visible\n      }\n    };\n    \n    // Refresh when window gains focus\n    const handleFocus = () => {\n      fetchStats(true); // Silent refresh when window gains focus\n    };\n    \n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    window.addEventListener('focus', handleFocus);\n    \n    return () => {\n      clearInterval(refreshInterval);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n      window.removeEventListener('focus', handleFocus);\n    };\n  }, [fetchStats]);\n\n\n  const quickActions = [\n    {\n      id: 'create',\n      title: 'Create New Project',\n      description: 'Start a new project setup process',\n      icon: PlusCircle,\n      action: () => navigate('/setup'),\n      gradient: 'var(--gradient-primary)'\n    },\n    {\n      id: 'view',\n      title: 'View Saved Content',\n      description: 'Browse and manage existing projects',\n      icon: FileText,\n      action: () => navigate('/projects'),\n      gradient: 'var(--gradient-secondary)',\n      permission: 'view_project'\n    },\n    {\n      id: 'settings',\n      title: 'Settings',\n      description: 'Configure application settings',\n      icon: Settings,\n      action: () => navigate('/settings'),\n      gradient: 'var(--gradient-accent)',\n      permission: 'all'\n    }\n  ];\n\n  const filteredQuickActions = quickActions.filter(action => \n    !action.permission || hasPermission(action.permission)\n  );\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"dashboard-layout\">\n        <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n        <div className=\"dashboard-content\" style={{ marginLeft: `${sidebarWidth}px`, width: `calc(100% - ${sidebarWidth}px)`, transition: 'margin-left 0.3s ease, width 0.3s ease' }}>\n          <header className=\"dashboard-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button \n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                  aria-label=\"Toggle sidebar\"\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">Dashboard</h1>\n                  <p className=\"page-subtitle\">Welcome back! Here's what's happening with your projects.</p>\n                </div>\n              </div>\n            </div>\n          </header>\n          <main className=\"dashboard-main\" style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', minHeight: '400px', gap: '16px' }}>\n            <Loader className=\"spinner\" size={24} style={{ color: '#0176d3' }} />\n            <p style={{ color: '#706e6b', fontSize: '14px' }}>Loading...</p>\n          </main>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      \n      <div className=\"dashboard-content\" style={{ marginLeft: `${sidebarWidth}px`, width: `calc(100% - ${sidebarWidth}px)`, transition: 'margin-left 0.3s ease, width 0.3s ease' }}>\n        <header className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <div className=\"header-left\">\n              <button \n                className=\"header-menu-toggle\"\n                onClick={() => setSidebarOpen(!sidebarOpen)}\n                aria-label=\"Toggle sidebar\"\n              >\n                <Menu size={20} />\n              </button>\n              <div>\n                <h1 className=\"page-title\">Dashboard</h1>\n                <p className=\"page-subtitle\">Welcome back! Here's what's happening with your projects.</p>\n              </div>\n            </div>\n            <div className=\"header-user-profile\">\n              <button\n                onClick={() => fetchStats(false)}\n                disabled={refreshing}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  marginRight: '12px',\n                  background: refreshing ? '#f0f0f0' : '#08979C',\n                  color: refreshing ? '#666' : '#fff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: refreshing ? 'not-allowed' : 'pointer',\n                  fontSize: '13px',\n                  fontWeight: '500',\n                  transition: 'all 0.2s ease'\n                }}\n                title=\"Refresh dashboard\"\n              >\n                <RefreshCw size={16} className={refreshing ? 'spinning' : ''} style={{ animation: refreshing ? 'spin 1s linear infinite' : 'none' }} />\n                {refreshing ? 'Refreshing...' : 'Refresh'}\n              </button>\n              <div className=\"user-profile\">\n                <div className=\"user-avatar\">\n                  {(user?.email || 'U').charAt(0).toUpperCase()}\n                </div>\n                <span className=\"user-name\">{user?.email || 'User'}</span>\n                <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                  <LogOut size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <main className=\"dashboard-main\">\n          {/* Stats Grid */}\n          <div className=\"stats-grid\">\n            {stats.map((stat, index) => {\n              const Icon = stat.icon;\n              return (\n                <div \n                  key={index} \n                  className=\"stat-card neumorphic fade-in\" \n                  style={{ \n                    animationDelay: `${index * 0.1}s`,\n                    cursor: stat.onClick ? 'pointer' : 'default',\n                    transition: 'all 0.3s ease'\n                  }}\n                  onClick={stat.onClick}\n                  title={stat.description}\n                  onMouseEnter={(e) => {\n                    if (stat.onClick) {\n                      e.currentTarget.style.transform = 'translateY(-2px)';\n                      e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (stat.onClick) {\n                      e.currentTarget.style.transform = 'translateY(0)';\n                      e.currentTarget.style.boxShadow = '';\n                    }\n                  }}\n                >\n                  <div className=\"stat-icon\" style={{ background: `${stat.color}15`, color: stat.color }}>\n                    <Icon size={24} />\n                  </div>\n                  <div className=\"stat-content\">\n                    <div className=\"stat-value\">{stat.value}</div>\n                    <div className=\"stat-label\">{stat.label}</div>\n                    {stat.description && (\n                      <div className=\"stat-description\" style={{ fontSize: '12px', color: 'var(--text-secondary)', marginTop: '4px', opacity: 0.8 }}>\n                        {stat.description}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Quick Actions */}\n          <section className=\"dashboard-section\">\n            <h2 className=\"section-title\">Quick Actions</h2>\n            <div className=\"actions-grid\">\n              {filteredQuickActions.map((action, index) => {\n                const Icon = action.icon;\n                return (\n                  <div\n                    key={action.id}\n                    className=\"action-card neumorphic fade-in\"\n                    onClick={action.action}\n                    style={{ \n                      animationDelay: `${(index + 4) * 0.1}s`,\n                      cursor: 'pointer'\n                    }}\n                  >\n                    <div className=\"action-icon\" style={{ background: action.gradient }}>\n                      <Icon size={28} color=\"white\" />\n                    </div>\n                    <div className=\"action-content\">\n                      <h3 className=\"action-title\">{action.title}</h3>\n                      <p className=\"action-description\">{action.description}</p>\n                    </div>\n                    <ArrowRight size={20} className=\"action-arrow\" />\n                  </div>\n                );\n              })}\n            </div>\n          </section>\n\n          {/* Analytics Section */}\n          <section className=\"dashboard-section\">\n            <h2 className=\"section-title\">Publishing Analytics</h2>\n            <div className=\"analytics-grid\">\n              {/* Publishing Activity Over Time */}\n              <div className=\"analytics-card neumorphic fade-in\" style={{ animationDelay: '0.5s', gridColumn: 'span 2' }}>\n                <div className=\"analytics-card-header\">\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <Activity size={20} color=\"#08979C\" />\n                    <h3 style={{ margin: 0, fontSize: '16px', fontWeight: '600' }}>Publishing Activity (Last 30 Days)</h3>\n                  </div>\n                </div>\n                {(() => {\n                  if (!analytics.activityByDay || analytics.activityByDay.length === 0) {\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#666', fontSize: '14px' }}>No publishing activity data available</p>\n                      </div>\n                    );\n                  }\n                  \n                  try {\n                    const chartData = analytics.activityByDay.map(item => ({\n                      date: new Date(item.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n                      fullDate: item.date,\n                      creates: item.creates || 0,\n                      updates: item.updates || 0,\n                      total: item.total || 0\n                    }));\n                    \n                    return (\n                      <ResponsiveContainer width=\"100%\" height={300}>\n                        <AreaChart data={chartData} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                          <defs>\n                            <linearGradient id=\"colorTotal\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor=\"#08979C\" stopOpacity={0.3}/>\n                              <stop offset=\"95%\" stopColor=\"#08979C\" stopOpacity={0}/>\n                            </linearGradient>\n                            <linearGradient id=\"colorCreates\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3}/>\n                              <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0}/>\n                            </linearGradient>\n                            <linearGradient id=\"colorUpdates\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor=\"#3b82f6\" stopOpacity={0.3}/>\n                              <stop offset=\"95%\" stopColor=\"#3b82f6\" stopOpacity={0}/>\n                            </linearGradient>\n                          </defs>\n                          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                          <XAxis \n                            dataKey=\"date\" \n                            tick={{ fontSize: 11 }}\n                            angle={-45}\n                            textAnchor=\"end\"\n                            height={80}\n                          />\n                          <YAxis tick={{ fontSize: 12 }} />\n                          <Tooltip \n                            formatter={(value, name, props) => {\n                              // Custom formatter to control order: Creates, Updates, Total (last)\n                              // Recharts calls this for each data series\n                              if (name === 'creates') {\n                                return [value, 'Creates'];\n                              } else if (name === 'updates') {\n                                return [value, 'Updates'];\n                              } else if (name === 'total') {\n                                return [value, 'Total'];\n                              }\n                              // Fallback\n                              return [value, name];\n                            }}\n                            labelFormatter={(label) => {\n                              const item = chartData.find(d => d.date === label);\n                              return item ? new Date(item.fullDate).toLocaleDateString() : label;\n                            }}\n                            contentStyle={{ fontSize: '13px', borderRadius: '6px' }}\n                            content={({ active, payload, label }) => {\n                              if (!active || !payload || !payload.length) return null;\n                              \n                              // Sort payload to show Creates, Updates, Total (last)\n                              const sortedPayload = [...payload].sort((a, b) => {\n                                const order = { 'creates': 1, 'updates': 2, 'total': 3 };\n                                return (order[a.dataKey] || 99) - (order[b.dataKey] || 99);\n                              });\n                              \n                              return (\n                                <div style={{ \n                                  background: 'white', \n                                  padding: '10px', \n                                  border: '1px solid #ccc', \n                                  borderRadius: '6px',\n                                  fontSize: '13px'\n                                }}>\n                                  <p style={{ margin: '0 0 8px 0', fontWeight: '600' }}>\n                                    {label}\n                                  </p>\n                                  {sortedPayload.map((entry, index) => (\n                                    <p key={index} style={{ margin: '4px 0', color: entry.color }}>\n                                      {entry.name}: <strong>{entry.value}</strong>\n                                    </p>\n                                  ))}\n                                </div>\n                              );\n                            }}\n                          />\n                          <Legend \n                            formatter={(value, entry) => {\n                              // In Recharts Legend, 'value' is the name prop from Area component\n                              // But we need to check the dataKey from entry.payload\n                              // entry.payload contains the dataKey in the 'dataKey' property\n                              if (entry && entry.payload) {\n                                const dataKey = entry.payload.dataKey;\n                                if (dataKey === 'creates') return 'Creates';\n                                if (dataKey === 'updates') return 'Updates';\n                                if (dataKey === 'total') return 'Total';\n                              }\n                              // Fallback: use value (which is the name prop: \"Total\", \"Creates\", \"Updates\")\n                              return value;\n                            }}\n                            wrapperStyle={{ fontSize: '13px' }}\n                          />\n                          <Area type=\"monotone\" dataKey=\"total\" stroke=\"#08979C\" strokeWidth={2} fillOpacity={1} fill=\"url(#colorTotal)\" name=\"Total\" />\n                          <Area type=\"monotone\" dataKey=\"creates\" stroke=\"#10b981\" strokeWidth={2} fillOpacity={1} fill=\"url(#colorCreates)\" name=\"Creates\" />\n                          <Area type=\"monotone\" dataKey=\"updates\" stroke=\"#3b82f6\" strokeWidth={2} fillOpacity={1} fill=\"url(#colorUpdates)\" name=\"Updates\" />\n                        </AreaChart>\n                      </ResponsiveContainer>\n                    );\n                  } catch (error) {\n                    if (process.env.NODE_ENV === 'development') {\n                      console.error('Error rendering activity chart:', error);\n                    }\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#ef4444', fontSize: '14px' }}>Error loading chart</p>\n                      </div>\n                    );\n                  }\n                })()}\n              </div>\n              \n              {/* Publishes by Object Type */}\n              <div className=\"analytics-card neumorphic fade-in\" style={{ animationDelay: '0.6s' }}>\n                <div className=\"analytics-card-header\">\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <PieChart size={20} color=\"#08979C\" />\n                    <h3 style={{ margin: 0, fontSize: '16px', fontWeight: '600' }}>By Object Type</h3>\n                  </div>\n                </div>\n                {(() => {\n                  if (!analytics.publishesByObjectType || Object.keys(analytics.publishesByObjectType).length === 0) {\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                      </div>\n                    );\n                  }\n                  \n                  try {\n                    // Map Salesforce API names to user-friendly names\n                    const objectTypeMap = {\n                      'Project': 'Project',\n                      'Project__c': 'Project',\n                      'Project Objective': 'Project Objective',\n                      'Project_Objective__c': 'Project Objective',\n                      'Project Objective__c': 'Project Objective',\n                      'Contributor Project': 'Contributor Project',\n                      'Contributor_Project__c': 'Contributor Project',\n                      'Client Tool Account': 'Client Tool Account',\n                      'Client_Tool_Account__c': 'Client Tool Account',\n                      'WorkStream': 'WorkStream',\n                      'WorkStream__c': 'WorkStream',\n                      'Work_Stream__c': 'WorkStream',\n                      'Project_Workstream__c': 'WorkStream',\n                      'Project Workstream': 'WorkStream',\n                      'Qualification Step': 'Qualification Step',\n                      'Qualification_Step__c': 'Qualification Step'\n                    };\n                    \n                    // Aggregate by friendly name\n                    const aggregatedData = {};\n                    Object.entries(analytics.publishesByObjectType).forEach(([apiName, value]) => {\n                      const friendlyName = objectTypeMap[apiName] || apiName.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase());\n                      aggregatedData[friendlyName] = (aggregatedData[friendlyName] || 0) + Number(value || 0);\n                    });\n                    \n                    const COLORS = ['#08979C', '#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#ef4444', '#ec4899'];\n                    const total = Object.values(aggregatedData).reduce((sum, val) => sum + val, 0);\n                    \n                    const chartData = Object.entries(aggregatedData)\n                      .map(([name, value]) => ({\n                        name: name,\n                        value: Number(value || 0),\n                        percent: total > 0 ? ((value / total) * 100).toFixed(0) : '0'\n                      }))\n                      .filter(item => item.value > 0)\n                      .sort((a, b) => b.value - a.value);\n                    \n                    if (chartData.length === 0) {\n                      return (\n                        <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                          <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                        </div>\n                      );\n                    }\n                    \n                    return (\n                      <ResponsiveContainer width=\"100%\" height={300}>\n                        <RechartsPieChart>\n                          <Pie\n                            data={chartData}\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            labelLine={false}\n                            label={false}\n                            outerRadius={100}\n                            fill=\"#8884d8\"\n                            dataKey=\"value\"\n                          >\n                            {chartData.map((entry, index) => (\n                              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                            ))}\n                          </Pie>\n                          <Tooltip \n                            formatter={(value, name, props) => [\n                              `${value} publishes (${props.payload.percent}%)`,\n                              props.payload.name\n                            ]}\n                            contentStyle={{ fontSize: '13px', borderRadius: '6px' }}\n                          />\n                          <Legend \n                            formatter={(value, entry) => {\n                              if (entry && entry.payload) {\n                                return `${entry.payload.name}: ${entry.payload.percent}%`;\n                              }\n                              return value;\n                            }}\n                            wrapperStyle={{ fontSize: '13px', fontWeight: '500' }}\n                            verticalAlign=\"bottom\"\n                            height={60}\n                            iconType=\"circle\"\n                          />\n                        </RechartsPieChart>\n                      </ResponsiveContainer>\n                    );\n                  } catch (error) {\n                    if (process.env.NODE_ENV === 'development') {\n                      console.error('Error rendering object type chart:', error);\n                    }\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#ef4444', fontSize: '14px' }}>Error loading chart</p>\n                      </div>\n                    );\n                  }\n                })()}\n              </div>\n              \n              {/* Publishes by Operation Type */}\n              <div className=\"analytics-card neumorphic fade-in\" style={{ animationDelay: '0.7s' }}>\n                <div className=\"analytics-card-header\">\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <BarChart3 size={20} color=\"#08979C\" />\n                    <h3 style={{ margin: 0, fontSize: '16px', fontWeight: '600' }}>By Operation</h3>\n                  </div>\n                </div>\n                {(() => {\n                  if (!analytics.publishesByOperation || Object.keys(analytics.publishesByOperation).length === 0) {\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                      </div>\n                    );\n                  }\n                  \n                  try {\n                    const chartData = Object.entries(analytics.publishesByOperation)\n                      .map(([operation, count]) => ({\n                        operation: operation.charAt(0).toUpperCase() + operation.slice(1),\n                        count: Number(count || 0)\n                      }))\n                      .filter(item => item.count > 0)\n                      .sort((a, b) => b.count - a.count);\n                    \n                    if (chartData.length === 0) {\n                      return (\n                        <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                          <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                        </div>\n                      );\n                    }\n                    \n                    const COLORS = {\n                      'Create': '#10b981',\n                      'Update': '#3b82f6',\n                      'Delete': '#ef4444',\n                      'Unknown': '#6b7280'\n                    };\n                    \n                    return (\n                      <ResponsiveContainer width=\"100%\" height={300}>\n                        <BarChart data={chartData} margin={{ top: 20, right: 30, left: 20, bottom: 20 }}>\n                          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                          <XAxis dataKey=\"operation\" tick={{ fontSize: 12 }} />\n                          <YAxis tick={{ fontSize: 12 }} />\n                          <Tooltip \n                            formatter={(value) => [`${value} publishes`, 'Count']}\n                            contentStyle={{ fontSize: '13px', borderRadius: '6px' }}\n                          />\n                          <Bar dataKey=\"count\" radius={[8, 8, 0, 0]}>\n                            {chartData.map((entry, index) => (\n                              <Cell key={`cell-${index}`} fill={COLORS[entry.operation] || COLORS['Unknown']} />\n                            ))}\n                          </Bar>\n                        </BarChart>\n                      </ResponsiveContainer>\n                    );\n                  } catch (error) {\n                    if (process.env.NODE_ENV === 'development') {\n                      console.error('Error rendering operation chart:', error);\n                    }\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#ef4444', fontSize: '14px' }}>Error loading chart</p>\n                      </div>\n                    );\n                  }\n                })()}\n              </div>\n              \n              {/* Top Publishers */}\n              <div className=\"analytics-card neumorphic fade-in\" style={{ animationDelay: '0.8s' }}>\n                <div className=\"analytics-card-header\">\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <Users size={20} color=\"#08979C\" />\n                    <h3 style={{ margin: 0, fontSize: '16px', fontWeight: '600' }}>Top Publishers</h3>\n                  </div>\n                </div>\n                {(() => {\n                  if (!analytics.projectsByUser || Object.keys(analytics.projectsByUser).length === 0) {\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                      </div>\n                    );\n                  }\n                  \n                  try {\n                    const topPublishers = Object.entries(analytics.projectsByUser)\n                      .map(([user, data]) => ({\n                        user: user.length > 25 ? user.substring(0, 25) + '...' : user,\n                        fullUser: user,\n                        published: Number((data && data.published) || 0)\n                      }))\n                      .filter(item => item.published > 0)\n                      .sort((a, b) => b.published - a.published)\n                      .slice(0, 10);\n                    \n                    if (topPublishers.length === 0) {\n                      return (\n                        <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                          <p style={{ color: '#666', fontSize: '14px' }}>No data available</p>\n                        </div>\n                      );\n                    }\n                    \n                    const maxValue = Math.max(...topPublishers.map(p => p.published));\n                    \n                    return (\n                      <div style={{ padding: '16px 0' }}>\n                        {topPublishers.map((publisher, index) => (\n                          <div key={index} style={{ marginBottom: '16px' }}>\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '6px' }}>\n                              <span style={{ fontSize: '13px', fontWeight: '500', color: '#002329' }} title={publisher.fullUser}>\n                                {publisher.user}\n                              </span>\n                              <span style={{ fontSize: '14px', fontWeight: '600', color: '#08979C' }}>\n                                {publisher.published}\n                              </span>\n                            </div>\n                            <div style={{ \n                              width: '100%', \n                              height: '8px', \n                              backgroundColor: '#e5e7eb', \n                              borderRadius: '4px',\n                              overflow: 'hidden'\n                            }}>\n                              <div style={{\n                                width: `${(publisher.published / maxValue) * 100}%`,\n                                height: '100%',\n                                backgroundColor: '#08979C',\n                                borderRadius: '4px',\n                                transition: 'width 0.3s ease'\n                              }} />\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    );\n                  } catch (error) {\n                    if (process.env.NODE_ENV === 'development') {\n                      console.error('Error rendering top publishers:', error);\n                    }\n                    return (\n                      <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <p style={{ color: '#ef4444', fontSize: '14px' }}>Error loading data</p>\n                      </div>\n                    );\n                  }\n                })()}\n              </div>\n            </div>\n          </section>\n\n          {/* Dashboard Widgets Section */}\n          <section className=\"dashboard-section\" style={{ marginTop: '32px' }}>\n            <DashboardWidgetsManager \n              stats={stats}\n              analytics={analytics}\n            />\n          </section>\n\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,SAAS,KAAM,eAAe,CACrC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,eAAe,KAAM,0BAA0B,CACtD,OAASC,UAAU,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,UAAU,CAAEC,IAAI,CAAEC,MAAM,CAAEC,WAAW,CAAEC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,GAAG,CAAEC,MAAM,CAAEC,MAAM,CAAEC,SAAS,KAAQ,cAAc,CAChN,OAASC,QAAQ,CAAEC,GAAG,CAAEC,SAAS,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAEC,OAAO,CAAEC,MAAM,CAAEC,mBAAmB,CAAEC,IAAI,CAAEf,QAAQ,GAAI,CAAAgB,gBAAgB,CAAEC,GAAG,CAAEC,SAAS,CAAEC,IAAI,KAAQ,UAAU,CACtL,MAAO,CAAAC,uBAAuB,KAAM,wDAAwD,CAC5F,MAAO,yBAAyB,CAChC,MAAO,uBAAuB,CAC9B,MAAO,qBAAqB,CAC5B,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,QAAQ,CAAG9C,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE+C,IAAI,CAAEC,aAAa,CAAEC,MAAO,CAAC,CAAG9C,OAAO,CAAC,CAAC,CACjD,KAAM,CAAC+C,WAAW,CAAEC,cAAc,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAAuD,YAAY,CAAG/C,eAAe,CAAC6C,WAAW,CAAC,CACjD,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAGzD,QAAQ,CAAC,CACjC,CAAE0D,KAAK,CAAE,iBAAiB,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAE1C,WAAW,CAAE2C,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,mCAAmC,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CACpK,CAAES,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAEpC,GAAG,CAAEqC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,iBAAiB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CAChI,CAAES,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAEtC,QAAQ,CAAEuC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,wBAAwB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CAClJ,CAAES,KAAK,CAAE,cAAc,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAEnC,MAAM,CAAEoC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,sBAAsB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CACjJ,CAAC,CACF,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGjE,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkE,UAAU,CAAEC,aAAa,CAAC,CAAGnE,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACoE,SAAS,CAAEC,YAAY,CAAC,CAAGrE,QAAQ,CAAC,CACzCsE,cAAc,CAAE,CAAC,CAAC,CAClBC,cAAc,CAAE,CAAC,CAAC,CAClBC,qBAAqB,CAAE,CAAC,CAAC,CACzBC,oBAAoB,CAAE,CAAC,CAAC,CACxBC,aAAa,CAAE,EACjB,CAAC,CAAC,CAEF,KAAM,CAAAC,UAAU,CAAGzE,WAAW,CAAC,gBAA0B,IAAnB,CAAA0E,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAClD,GAAI,CACF,GAAI,CAACD,MAAM,CAAE,CACXT,aAAa,CAAC,IAAI,CAAC,CACrB,CAEA,KAAM,CAAAa,QAAQ,CAAG,KAAM,CAAA5E,SAAS,CAAC6E,GAAG,CAAC,iBAAiB,CAAC,CAEvD,KAAM,CAAAC,SAAS,CAAGF,QAAQ,CAACG,IAAI,EAAI,CAAC,CAAC,CACrC1B,QAAQ,CAAC,CACP,CAAEC,KAAK,CAAE,iBAAiB,CAAEC,KAAK,CAAE,CAACuB,SAAS,CAACE,cAAc,EAAI,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAEzB,IAAI,CAAE1C,WAAW,CAAE2C,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,mCAAmC,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CAC3M,CAAES,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,CAACuB,SAAS,CAACI,cAAc,EAAI,CAAC,EAAED,QAAQ,CAAC,CAAC,CAAEzB,IAAI,CAAEpC,GAAG,CAAEqC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,iBAAiB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CACvK,CAAES,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE,CAACuB,SAAS,CAACK,eAAe,EAAI,CAAC,EAAEF,QAAQ,CAAC,CAAC,CAAEzB,IAAI,CAAEtC,QAAQ,CAAEuC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,wBAAwB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CAC1L,CAAES,KAAK,CAAE,cAAc,CAAEC,KAAK,IAAA6B,MAAA,CAAKN,SAAS,CAACO,WAAW,EAAI,GAAG,KAAG,CAAE7B,IAAI,CAAEnC,MAAM,CAAEoC,KAAK,CAAE,SAAS,CAAEC,WAAW,CAAE,sBAAsB,CAAEC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,UAAU,CAAE,CAAC,CAC/K,CAAC,CACFoB,YAAY,CAAC,CACXC,cAAc,CAAEY,SAAS,CAACZ,cAAc,EAAI,CAAC,CAAC,CAC9CC,cAAc,CAAEW,SAAS,CAACX,cAAc,EAAI,CAAC,CAAC,CAC9CC,qBAAqB,CAAEU,SAAS,CAACV,qBAAqB,EAAI,CAAC,CAAC,CAC5DC,oBAAoB,CAAES,SAAS,CAACT,oBAAoB,EAAI,CAAC,CAAC,CAC1DC,aAAa,CAAEQ,SAAS,CAACR,aAAa,EAAI,EAC5C,CAAC,CAAC,CAEF,GAAI,CAACE,MAAM,CAAE,CACXvE,KAAK,CAACqF,OAAO,CAAC,mBAAmB,CAAC,CACpC,CACF,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CACd,GAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CC,OAAO,CAACL,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACA;AACA,GAAI,EAAAC,eAAA,CAAAD,KAAK,CAACX,QAAQ,UAAAY,eAAA,iBAAdA,eAAA,CAAgBK,MAAM,IAAK,GAAG,EAAI,CAACrB,MAAM,CAAE,CAC7CvE,KAAK,CAACsF,KAAK,CAAC,oCAAoC,CAAC,CACnD,CACA;AACAtB,YAAY,CAAC,CACXC,cAAc,CAAE,CAAC,CAAC,CAClBC,cAAc,CAAE,CAAC,CAAC,CAClBC,qBAAqB,CAAE,CAAC,CAAC,CACzBC,oBAAoB,CAAE,CAAC,CAAC,CACxBC,aAAa,CAAE,EACjB,CAAC,CAAC,CACJ,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACjBE,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,CAAClB,QAAQ,CAAC,CAAC,CAEdhD,SAAS,CAAC,IAAM,CACd0E,UAAU,CAAC,CAAC,CAEZ;AACA,KAAM,CAAAuB,eAAe,CAAGC,WAAW,CAAC,IAAM,CACxCxB,UAAU,CAAC,IAAI,CAAC,CAAE;AACpB,CAAC,CAAE,KAAK,CAAC,CAAE;AAEX;AACA,KAAM,CAAAyB,sBAAsB,CAAGA,CAAA,GAAM,CACnC,GAAI,CAACC,QAAQ,CAACC,MAAM,CAAE,CACpB3B,UAAU,CAAC,IAAI,CAAC,CAAE;AACpB,CACF,CAAC,CAED;AACA,KAAM,CAAA4B,WAAW,CAAGA,CAAA,GAAM,CACxB5B,UAAU,CAAC,IAAI,CAAC,CAAE;AACpB,CAAC,CAED0B,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,CAAEJ,sBAAsB,CAAC,CACrEK,MAAM,CAACD,gBAAgB,CAAC,OAAO,CAAED,WAAW,CAAC,CAE7C,MAAO,IAAM,CACXG,aAAa,CAACR,eAAe,CAAC,CAC9BG,QAAQ,CAACM,mBAAmB,CAAC,kBAAkB,CAAEP,sBAAsB,CAAC,CACxEK,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAEJ,WAAW,CAAC,CAClD,CAAC,CACH,CAAC,CAAE,CAAC5B,UAAU,CAAC,CAAC,CAGhB,KAAM,CAAAiC,YAAY,CAAG,CACnB,CACEC,EAAE,CAAE,QAAQ,CACZC,KAAK,CAAE,oBAAoB,CAC3BhD,WAAW,CAAE,mCAAmC,CAChDF,IAAI,CAAEnD,UAAU,CAChBsG,MAAM,CAAEA,CAAA,GAAM9D,QAAQ,CAAC,QAAQ,CAAC,CAChC+D,QAAQ,CAAE,yBACZ,CAAC,CACD,CACEH,EAAE,CAAE,MAAM,CACVC,KAAK,CAAE,oBAAoB,CAC3BhD,WAAW,CAAE,qCAAqC,CAClDF,IAAI,CAAElD,QAAQ,CACdqG,MAAM,CAAEA,CAAA,GAAM9D,QAAQ,CAAC,WAAW,CAAC,CACnC+D,QAAQ,CAAE,2BAA2B,CACrCC,UAAU,CAAE,cACd,CAAC,CACD,CACEJ,EAAE,CAAE,UAAU,CACdC,KAAK,CAAE,UAAU,CACjBhD,WAAW,CAAE,gCAAgC,CAC7CF,IAAI,CAAEjD,QAAQ,CACdoG,MAAM,CAAEA,CAAA,GAAM9D,QAAQ,CAAC,WAAW,CAAC,CACnC+D,QAAQ,CAAE,wBAAwB,CAClCC,UAAU,CAAE,KACd,CAAC,CACF,CAED,KAAM,CAAAC,oBAAoB,CAAGN,YAAY,CAACO,MAAM,CAACJ,MAAM,EACrD,CAACA,MAAM,CAACE,UAAU,EAAI9D,aAAa,CAAC4D,MAAM,CAACE,UAAU,CACvD,CAAC,CAED;AACA,GAAIjD,OAAO,CAAE,CACX,mBACEjB,KAAA,QAAKqE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxE,IAAA,CAACtC,OAAO,EAAC+G,MAAM,CAAEjE,WAAY,CAACkE,aAAa,CAAEA,CAAA,GAAMjE,cAAc,CAAC,CAACD,WAAW,CAAE,CAAE,CAAC,cACnFN,KAAA,QAAKqE,SAAS,CAAC,mBAAmB,CAACI,KAAK,CAAE,CAAEC,UAAU,IAAAjC,MAAA,CAAKjC,YAAY,MAAI,CAAEmE,KAAK,gBAAAlC,MAAA,CAAiBjC,YAAY,OAAK,CAAEoE,UAAU,CAAE,wCAAyC,CAAE,CAAAN,QAAA,eAC3KxE,IAAA,WAAQuE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAClCxE,IAAA,QAAKuE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BtE,KAAA,QAAKqE,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxE,IAAA,WACEuE,SAAS,CAAC,oBAAoB,CAC9BrD,OAAO,CAAEA,CAAA,GAAMT,cAAc,CAAC,CAACD,WAAW,CAAE,CAC5C,aAAW,gBAAgB,CAAAgE,QAAA,cAE3BxE,IAAA,CAAC7B,IAAI,EAAC4G,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,cACT7E,KAAA,QAAAsE,QAAA,eACExE,IAAA,OAAIuE,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACzCxE,IAAA,MAAGuE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,2DAAyD,CAAG,CAAC,EACvF,CAAC,EACH,CAAC,CACH,CAAC,CACA,CAAC,cACTtE,KAAA,SAAMqE,SAAS,CAAC,gBAAgB,CAACI,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,SAAS,CAAE,OAAO,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,eACpKxE,IAAA,CAACnB,MAAM,EAAC0F,SAAS,CAAC,SAAS,CAACQ,IAAI,CAAE,EAAG,CAACJ,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAU,CAAE,CAAE,CAAC,cACrEhB,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAS,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,YAAU,CAAG,CAAC,EAC5D,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAEA,mBACEtE,KAAA,QAAKqE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxE,IAAA,CAACtC,OAAO,EAAC+G,MAAM,CAAEjE,WAAY,CAACkE,aAAa,CAAEA,CAAA,GAAMjE,cAAc,CAAC,CAACD,WAAW,CAAE,CAAE,CAAC,cAEnFN,KAAA,QAAKqE,SAAS,CAAC,mBAAmB,CAACI,KAAK,CAAE,CAAEC,UAAU,IAAAjC,MAAA,CAAKjC,YAAY,MAAI,CAAEmE,KAAK,gBAAAlC,MAAA,CAAiBjC,YAAY,OAAK,CAAEoE,UAAU,CAAE,wCAAyC,CAAE,CAAAN,QAAA,eAC3KxE,IAAA,WAAQuE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAClCtE,KAAA,QAAKqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtE,KAAA,QAAKqE,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxE,IAAA,WACEuE,SAAS,CAAC,oBAAoB,CAC9BrD,OAAO,CAAEA,CAAA,GAAMT,cAAc,CAAC,CAACD,WAAW,CAAE,CAC5C,aAAW,gBAAgB,CAAAgE,QAAA,cAE3BxE,IAAA,CAAC7B,IAAI,EAAC4G,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,cACT7E,KAAA,QAAAsE,QAAA,eACExE,IAAA,OAAIuE,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACzCxE,IAAA,MAAGuE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,2DAAyD,CAAG,CAAC,EACvF,CAAC,EACH,CAAC,cACNtE,KAAA,QAAKqE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCtE,KAAA,WACEgB,OAAO,CAAEA,CAAA,GAAMY,UAAU,CAAC,KAAK,CAAE,CACjCyD,QAAQ,CAAElE,UAAW,CACrBsD,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVG,OAAO,CAAE,UAAU,CACnBC,WAAW,CAAE,MAAM,CACnBC,UAAU,CAAErE,UAAU,CAAG,SAAS,CAAG,SAAS,CAC9CL,KAAK,CAAEK,UAAU,CAAG,MAAM,CAAG,MAAM,CACnCsE,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAExE,UAAU,CAAG,aAAa,CAAG,SAAS,CAC9CiE,QAAQ,CAAE,MAAM,CAChBQ,UAAU,CAAE,KAAK,CACjBhB,UAAU,CAAE,eACd,CAAE,CACFb,KAAK,CAAC,mBAAmB,CAAAO,QAAA,eAEzBxE,IAAA,CAAClB,SAAS,EAACiG,IAAI,CAAE,EAAG,CAACR,SAAS,CAAElD,UAAU,CAAG,UAAU,CAAG,EAAG,CAACsD,KAAK,CAAE,CAAEoB,SAAS,CAAE1E,UAAU,CAAG,yBAAyB,CAAG,MAAO,CAAE,CAAE,CAAC,CACtIA,UAAU,CAAG,eAAe,CAAG,SAAS,EACnC,CAAC,cACTnB,KAAA,QAAKqE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxE,IAAA,QAAKuE,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzB,CAAC,CAAAnE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2F,KAAK,GAAI,GAAG,EAAEC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC1C,CAAC,cACNlG,IAAA,SAAMuE,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,CAAAnE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2F,KAAK,GAAI,MAAM,CAAO,CAAC,cAC1DhG,IAAA,WAAQuE,SAAS,CAAC,YAAY,CAACrD,OAAO,CAAEX,MAAO,CAAC0D,KAAK,CAAC,QAAQ,CAAAO,QAAA,cAC5DxE,IAAA,CAAC5B,MAAM,EAAC2G,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACA,CAAC,cAET7E,KAAA,SAAMqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE9BxE,IAAA,QAAKuE,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB7D,KAAK,CAACwF,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,GAAK,CAC1B,KAAM,CAAAC,IAAI,CAAGF,IAAI,CAACrF,IAAI,CACtB,mBACEb,KAAA,QAEEqE,SAAS,CAAC,8BAA8B,CACxCI,KAAK,CAAE,CACL4B,cAAc,IAAA5D,MAAA,CAAK0D,KAAK,CAAG,GAAG,KAAG,CACjCR,MAAM,CAAEO,IAAI,CAAClF,OAAO,CAAG,SAAS,CAAG,SAAS,CAC5C4D,UAAU,CAAE,eACd,CAAE,CACF5D,OAAO,CAAEkF,IAAI,CAAClF,OAAQ,CACtB+C,KAAK,CAAEmC,IAAI,CAACnF,WAAY,CACxBuF,YAAY,CAAGC,CAAC,EAAK,CACnB,GAAIL,IAAI,CAAClF,OAAO,CAAE,CAChBuF,CAAC,CAACC,aAAa,CAAC/B,KAAK,CAACgC,SAAS,CAAG,kBAAkB,CACpDF,CAAC,CAACC,aAAa,CAAC/B,KAAK,CAACiC,SAAS,CAAG,6BAA6B,CACjE,CACF,CAAE,CACFC,YAAY,CAAGJ,CAAC,EAAK,CACnB,GAAIL,IAAI,CAAClF,OAAO,CAAE,CAChBuF,CAAC,CAACC,aAAa,CAAC/B,KAAK,CAACgC,SAAS,CAAG,eAAe,CACjDF,CAAC,CAACC,aAAa,CAAC/B,KAAK,CAACiC,SAAS,CAAG,EAAE,CACtC,CACF,CAAE,CAAApC,QAAA,eAEFxE,IAAA,QAAKuE,SAAS,CAAC,WAAW,CAACI,KAAK,CAAE,CAAEe,UAAU,IAAA/C,MAAA,CAAKyD,IAAI,CAACpF,KAAK,MAAI,CAAEA,KAAK,CAAEoF,IAAI,CAACpF,KAAM,CAAE,CAAAwD,QAAA,cACrFxE,IAAA,CAACsG,IAAI,EAACvB,IAAI,CAAE,EAAG,CAAE,CAAC,CACf,CAAC,cACN7E,KAAA,QAAKqE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxE,IAAA,QAAKuE,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAE4B,IAAI,CAACtF,KAAK,CAAM,CAAC,cAC9Cd,IAAA,QAAKuE,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAE4B,IAAI,CAACvF,KAAK,CAAM,CAAC,CAC7CuF,IAAI,CAACnF,WAAW,eACfjB,IAAA,QAAKuE,SAAS,CAAC,kBAAkB,CAACI,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEtE,KAAK,CAAE,uBAAuB,CAAE8F,SAAS,CAAE,KAAK,CAAEC,OAAO,CAAE,GAAI,CAAE,CAAAvC,QAAA,CAC3H4B,IAAI,CAACnF,WAAW,CACd,CACN,EACE,CAAC,GAjCDoF,KAkCF,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAGNnG,KAAA,YAASqE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACpCxE,IAAA,OAAIuE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAChDxE,IAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BH,oBAAoB,CAAC8B,GAAG,CAAC,CAACjC,MAAM,CAAEmC,KAAK,GAAK,CAC3C,KAAM,CAAAC,IAAI,CAAGpC,MAAM,CAACnD,IAAI,CACxB,mBACEb,KAAA,QAEEqE,SAAS,CAAC,gCAAgC,CAC1CrD,OAAO,CAAEgD,MAAM,CAACA,MAAO,CACvBS,KAAK,CAAE,CACL4B,cAAc,IAAA5D,MAAA,CAAK,CAAC0D,KAAK,CAAG,CAAC,EAAI,GAAG,KAAG,CACvCR,MAAM,CAAE,SACV,CAAE,CAAArB,QAAA,eAEFxE,IAAA,QAAKuE,SAAS,CAAC,aAAa,CAACI,KAAK,CAAE,CAAEe,UAAU,CAAExB,MAAM,CAACC,QAAS,CAAE,CAAAK,QAAA,cAClExE,IAAA,CAACsG,IAAI,EAACvB,IAAI,CAAE,EAAG,CAAC/D,KAAK,CAAC,OAAO,CAAE,CAAC,CAC7B,CAAC,cACNd,KAAA,QAAKqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxE,IAAA,OAAIuE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEN,MAAM,CAACD,KAAK,CAAK,CAAC,cAChDjE,IAAA,MAAGuE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEN,MAAM,CAACjD,WAAW,CAAI,CAAC,EACvD,CAAC,cACNjB,IAAA,CAAC9B,UAAU,EAAC6G,IAAI,CAAE,EAAG,CAACR,SAAS,CAAC,cAAc,CAAE,CAAC,GAf5CL,MAAM,CAACF,EAgBT,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACC,CAAC,cAGV9D,KAAA,YAASqE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACpCxE,IAAA,OAAIuE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACvDtE,KAAA,QAAKqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BtE,KAAA,QAAKqE,SAAS,CAAC,mCAAmC,CAACI,KAAK,CAAE,CAAE4B,cAAc,CAAE,MAAM,CAAES,UAAU,CAAE,QAAS,CAAE,CAAAxC,QAAA,eACzGxE,IAAA,QAAKuE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtE,KAAA,QAAKyE,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEE,GAAG,CAAE,KAAM,CAAE,CAAAb,QAAA,eAChExE,IAAA,CAACvB,QAAQ,EAACsG,IAAI,CAAE,EAAG,CAAC/D,KAAK,CAAC,SAAS,CAAE,CAAC,cACtChB,IAAA,OAAI2E,KAAK,CAAE,CAAEsC,MAAM,CAAE,CAAC,CAAE3B,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAM,CAAE,CAAAtB,QAAA,CAAC,oCAAkC,CAAI,CAAC,EACnG,CAAC,CACH,CAAC,CACL,CAAC,IAAM,CACN,GAAI,CAACjD,SAAS,CAACM,aAAa,EAAIN,SAAS,CAACM,aAAa,CAACI,MAAM,GAAK,CAAC,CAAE,CACpE,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,uCAAqC,CAAG,CAAC,CACrF,CAAC,CAEV,CAEA,GAAI,CACF,KAAM,CAAA2C,SAAS,CAAG5F,SAAS,CAACM,aAAa,CAACsE,GAAG,CAACiB,IAAI,GAAK,CACrDC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAACF,IAAI,CAACC,IAAI,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAEC,GAAG,CAAE,SAAU,CAAC,CAAC,CACzFC,QAAQ,CAAEN,IAAI,CAACC,IAAI,CACnBM,OAAO,CAAEP,IAAI,CAACO,OAAO,EAAI,CAAC,CAC1BC,OAAO,CAAER,IAAI,CAACQ,OAAO,EAAI,CAAC,CAC1BC,KAAK,CAAET,IAAI,CAACS,KAAK,EAAI,CACvB,CAAC,CAAC,CAAC,CAEH,mBACE7H,IAAA,CAACR,mBAAmB,EAACqF,KAAK,CAAC,MAAM,CAACqC,MAAM,CAAE,GAAI,CAAA1C,QAAA,cAC5CtE,KAAA,CAACN,SAAS,EAAC0C,IAAI,CAAE6E,SAAU,CAACF,MAAM,CAAE,CAAEa,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAE,CAAAzD,QAAA,eAC7EtE,KAAA,SAAAsE,QAAA,eACEtE,KAAA,mBAAgB8D,EAAE,CAAC,YAAY,CAACkE,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAAA7D,QAAA,eACzDxE,IAAA,SAAMsI,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,GAAI,CAAC,CAAC,cACzDxI,IAAA,SAAMsI,MAAM,CAAC,KAAK,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC,CAAC,EAC1C,CAAC,cACjBtI,KAAA,mBAAgB8D,EAAE,CAAC,cAAc,CAACkE,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAAA7D,QAAA,eAC3DxE,IAAA,SAAMsI,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,GAAI,CAAC,CAAC,cACzDxI,IAAA,SAAMsI,MAAM,CAAC,KAAK,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC,CAAC,EAC1C,CAAC,cACjBtI,KAAA,mBAAgB8D,EAAE,CAAC,cAAc,CAACkE,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAAA7D,QAAA,eAC3DxE,IAAA,SAAMsI,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,GAAI,CAAC,CAAC,cACzDxI,IAAA,SAAMsI,MAAM,CAAC,KAAK,CAACC,SAAS,CAAC,SAAS,CAACC,WAAW,CAAE,CAAE,CAAC,CAAC,EAC1C,CAAC,EACb,CAAC,cACPxI,IAAA,CAACX,aAAa,EAACoJ,eAAe,CAAC,KAAK,CAACC,MAAM,CAAC,SAAS,CAAE,CAAC,cACxD1I,IAAA,CAACb,KAAK,EACJwJ,OAAO,CAAC,MAAM,CACdC,IAAI,CAAE,CAAEtD,QAAQ,CAAE,EAAG,CAAE,CACvBuD,KAAK,CAAE,CAAC,EAAG,CACXC,UAAU,CAAC,KAAK,CAChB5B,MAAM,CAAE,EAAG,CACZ,CAAC,cACFlH,IAAA,CAACZ,KAAK,EAACwJ,IAAI,CAAE,CAAEtD,QAAQ,CAAE,EAAG,CAAE,CAAE,CAAC,cACjCtF,IAAA,CAACV,OAAO,EACNyJ,SAAS,CAAEA,CAACjI,KAAK,CAAEkI,IAAI,CAAEC,KAAK,GAAK,CACjC;AACA;AACA,GAAID,IAAI,GAAK,SAAS,CAAE,CACtB,MAAO,CAAClI,KAAK,CAAE,SAAS,CAAC,CAC3B,CAAC,IAAM,IAAIkI,IAAI,GAAK,SAAS,CAAE,CAC7B,MAAO,CAAClI,KAAK,CAAE,SAAS,CAAC,CAC3B,CAAC,IAAM,IAAIkI,IAAI,GAAK,OAAO,CAAE,CAC3B,MAAO,CAAClI,KAAK,CAAE,OAAO,CAAC,CACzB,CACA;AACA,MAAO,CAACA,KAAK,CAAEkI,IAAI,CAAC,CACtB,CAAE,CACFE,cAAc,CAAGrI,KAAK,EAAK,CACzB,KAAM,CAAAuG,IAAI,CAAGD,SAAS,CAACgC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC/B,IAAI,GAAKxG,KAAK,CAAC,CAClD,MAAO,CAAAuG,IAAI,CAAG,GAAI,CAAAE,IAAI,CAACF,IAAI,CAACM,QAAQ,CAAC,CAACH,kBAAkB,CAAC,CAAC,CAAG1G,KAAK,CACpE,CAAE,CACFwI,YAAY,CAAE,CAAE/D,QAAQ,CAAE,MAAM,CAAEM,YAAY,CAAE,KAAM,CAAE,CACxD0D,OAAO,CAAEC,IAAA,EAAgC,IAA/B,CAAEC,MAAM,CAAEC,OAAO,CAAE5I,KAAM,CAAC,CAAA0I,IAAA,CAClC,GAAI,CAACC,MAAM,EAAI,CAACC,OAAO,EAAI,CAACA,OAAO,CAACxH,MAAM,CAAE,MAAO,KAAI,CAEvD;AACA,KAAM,CAAAyH,aAAa,CAAG,CAAC,GAAGD,OAAO,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChD,KAAM,CAAAC,KAAK,CAAG,CAAE,SAAS,CAAE,CAAC,CAAE,SAAS,CAAE,CAAC,CAAE,OAAO,CAAE,CAAE,CAAC,CACxD,MAAO,CAACA,KAAK,CAACF,CAAC,CAACjB,OAAO,CAAC,EAAI,EAAE,GAAKmB,KAAK,CAACD,CAAC,CAAClB,OAAO,CAAC,EAAI,EAAE,CAAC,CAC5D,CAAC,CAAC,CAEF,mBACEzI,KAAA,QAAKyE,KAAK,CAAE,CACVe,UAAU,CAAE,OAAO,CACnBF,OAAO,CAAE,MAAM,CACfG,MAAM,CAAE,gBAAgB,CACxBC,YAAY,CAAE,KAAK,CACnBN,QAAQ,CAAE,MACZ,CAAE,CAAAd,QAAA,eACAxE,IAAA,MAAG2E,KAAK,CAAE,CAAEsC,MAAM,CAAE,WAAW,CAAEnB,UAAU,CAAE,KAAM,CAAE,CAAAtB,QAAA,CAClD3D,KAAK,CACL,CAAC,CACH6I,aAAa,CAACvD,GAAG,CAAC,CAAC4D,KAAK,CAAE1D,KAAK,gBAC9BnG,KAAA,MAAeyE,KAAK,CAAE,CAAEsC,MAAM,CAAE,OAAO,CAAEjG,KAAK,CAAE+I,KAAK,CAAC/I,KAAM,CAAE,CAAAwD,QAAA,EAC3DuF,KAAK,CAACf,IAAI,CAAC,IAAE,cAAAhJ,IAAA,WAAAwE,QAAA,CAASuF,KAAK,CAACjJ,KAAK,CAAS,CAAC,GADtCuF,KAEL,CACJ,CAAC,EACC,CAAC,CAEV,CAAE,CACH,CAAC,cACFrG,IAAA,CAACT,MAAM,EACLwJ,SAAS,CAAEA,CAACjI,KAAK,CAAEiJ,KAAK,GAAK,CAC3B;AACA;AACA;AACA,GAAIA,KAAK,EAAIA,KAAK,CAACN,OAAO,CAAE,CAC1B,KAAM,CAAAd,OAAO,CAAGoB,KAAK,CAACN,OAAO,CAACd,OAAO,CACrC,GAAIA,OAAO,GAAK,SAAS,CAAE,MAAO,SAAS,CAC3C,GAAIA,OAAO,GAAK,SAAS,CAAE,MAAO,SAAS,CAC3C,GAAIA,OAAO,GAAK,OAAO,CAAE,MAAO,OAAO,CACzC,CACA;AACA,MAAO,CAAA7H,KAAK,CACd,CAAE,CACFkJ,YAAY,CAAE,CAAE1E,QAAQ,CAAE,MAAO,CAAE,CACpC,CAAC,cACFtF,IAAA,CAACH,IAAI,EAACoK,IAAI,CAAC,UAAU,CAACtB,OAAO,CAAC,OAAO,CAACD,MAAM,CAAC,SAAS,CAACwB,WAAW,CAAE,CAAE,CAACC,WAAW,CAAE,CAAE,CAACC,IAAI,CAAC,kBAAkB,CAACpB,IAAI,CAAC,OAAO,CAAE,CAAC,cAC9HhJ,IAAA,CAACH,IAAI,EAACoK,IAAI,CAAC,UAAU,CAACtB,OAAO,CAAC,SAAS,CAACD,MAAM,CAAC,SAAS,CAACwB,WAAW,CAAE,CAAE,CAACC,WAAW,CAAE,CAAE,CAACC,IAAI,CAAC,oBAAoB,CAACpB,IAAI,CAAC,SAAS,CAAE,CAAC,cACpIhJ,IAAA,CAACH,IAAI,EAACoK,IAAI,CAAC,UAAU,CAACtB,OAAO,CAAC,SAAS,CAACD,MAAM,CAAC,SAAS,CAACwB,WAAW,CAAE,CAAE,CAACC,WAAW,CAAE,CAAE,CAACC,IAAI,CAAC,oBAAoB,CAACpB,IAAI,CAAC,SAAS,CAAE,CAAC,EAC3H,CAAC,CACO,CAAC,CAE1B,CAAE,MAAOlG,KAAK,CAAE,CACd,GAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CC,OAAO,CAACL,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACA,mBACE9C,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAS,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,qBAAmB,CAAG,CAAC,CACtE,CAAC,CAEV,CACF,CAAC,EAAE,CAAC,EACD,CAAC,cAGNtE,KAAA,QAAKqE,SAAS,CAAC,mCAAmC,CAACI,KAAK,CAAE,CAAE4B,cAAc,CAAE,MAAO,CAAE,CAAA/B,QAAA,eACnFxE,IAAA,QAAKuE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtE,KAAA,QAAKyE,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEE,GAAG,CAAE,KAAM,CAAE,CAAAb,QAAA,eAChExE,IAAA,CAACtB,QAAQ,EAACqG,IAAI,CAAE,EAAG,CAAC/D,KAAK,CAAC,SAAS,CAAE,CAAC,cACtChB,IAAA,OAAI2E,KAAK,CAAE,CAAEsC,MAAM,CAAE,CAAC,CAAE3B,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAM,CAAE,CAAAtB,QAAA,CAAC,gBAAc,CAAI,CAAC,EAC/E,CAAC,CACH,CAAC,CACL,CAAC,IAAM,CACN,GAAI,CAACjD,SAAS,CAACI,qBAAqB,EAAI0I,MAAM,CAACC,IAAI,CAAC/I,SAAS,CAACI,qBAAqB,CAAC,CAACM,MAAM,GAAK,CAAC,CAAE,CACjG,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,GAAI,CACF;AACA,KAAM,CAAA+F,aAAa,CAAG,CACpB,SAAS,CAAE,SAAS,CACpB,YAAY,CAAE,SAAS,CACvB,mBAAmB,CAAE,mBAAmB,CACxC,sBAAsB,CAAE,mBAAmB,CAC3C,sBAAsB,CAAE,mBAAmB,CAC3C,qBAAqB,CAAE,qBAAqB,CAC5C,wBAAwB,CAAE,qBAAqB,CAC/C,qBAAqB,CAAE,qBAAqB,CAC5C,wBAAwB,CAAE,qBAAqB,CAC/C,YAAY,CAAE,YAAY,CAC1B,eAAe,CAAE,YAAY,CAC7B,gBAAgB,CAAE,YAAY,CAC9B,uBAAuB,CAAE,YAAY,CACrC,oBAAoB,CAAE,YAAY,CAClC,oBAAoB,CAAE,oBAAoB,CAC1C,uBAAuB,CAAE,oBAC3B,CAAC,CAED;AACA,KAAM,CAAAC,cAAc,CAAG,CAAC,CAAC,CACzBH,MAAM,CAACI,OAAO,CAAClJ,SAAS,CAACI,qBAAqB,CAAC,CAAC+I,OAAO,CAACC,KAAA,EAAsB,IAArB,CAACC,OAAO,CAAE9J,KAAK,CAAC,CAAA6J,KAAA,CACvE,KAAM,CAAAE,YAAY,CAAGN,aAAa,CAACK,OAAO,CAAC,EAAIA,OAAO,CAACE,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAACA,OAAO,CAAC,MAAM,CAAE,EAAE,CAAC,CAACA,OAAO,CAAC,OAAO,CAAEC,CAAC,EAAIA,CAAC,CAAC7E,WAAW,CAAC,CAAC,CAAC,CACpIsE,cAAc,CAACK,YAAY,CAAC,CAAG,CAACL,cAAc,CAACK,YAAY,CAAC,EAAI,CAAC,EAAIG,MAAM,CAAClK,KAAK,EAAI,CAAC,CAAC,CACzF,CAAC,CAAC,CAEF,KAAM,CAAAmK,MAAM,CAAG,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAC5F,KAAM,CAAApD,KAAK,CAAGwC,MAAM,CAACa,MAAM,CAACV,cAAc,CAAC,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,GAAG,GAAKD,GAAG,CAAGC,GAAG,CAAE,CAAC,CAAC,CAE9E,KAAM,CAAAlE,SAAS,CAAGkD,MAAM,CAACI,OAAO,CAACD,cAAc,CAAC,CAC7CrE,GAAG,CAACmF,KAAA,MAAC,CAACtC,IAAI,CAAElI,KAAK,CAAC,CAAAwK,KAAA,OAAM,CACvBtC,IAAI,CAAEA,IAAI,CACVlI,KAAK,CAAEkK,MAAM,CAAClK,KAAK,EAAI,CAAC,CAAC,CACzByK,OAAO,CAAE1D,KAAK,CAAG,CAAC,CAAG,CAAE/G,KAAK,CAAG+G,KAAK,CAAI,GAAG,EAAE2D,OAAO,CAAC,CAAC,CAAC,CAAG,GAC5D,CAAC,EAAC,CAAC,CACFlH,MAAM,CAAC8C,IAAI,EAAIA,IAAI,CAACtG,KAAK,CAAG,CAAC,CAAC,CAC9B6I,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAC/I,KAAK,CAAG8I,CAAC,CAAC9I,KAAK,CAAC,CAEpC,GAAIqG,SAAS,CAAClF,MAAM,GAAK,CAAC,CAAE,CAC1B,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,mBACExE,IAAA,CAACR,mBAAmB,EAACqF,KAAK,CAAC,MAAM,CAACqC,MAAM,CAAE,GAAI,CAAA1C,QAAA,cAC5CtE,KAAA,CAACR,gBAAgB,EAAA8E,QAAA,eACfxE,IAAA,CAACL,GAAG,EACF2C,IAAI,CAAE6E,SAAU,CAChBsE,EAAE,CAAC,KAAK,CACRC,EAAE,CAAC,KAAK,CACRC,SAAS,CAAE,KAAM,CACjB9K,KAAK,CAAE,KAAM,CACb+K,WAAW,CAAE,GAAI,CACjBxB,IAAI,CAAC,SAAS,CACdzB,OAAO,CAAC,OAAO,CAAAnE,QAAA,CAEd2C,SAAS,CAAChB,GAAG,CAAC,CAAC4D,KAAK,CAAE1D,KAAK,gBAC1BrG,IAAA,CAACP,IAAI,EAAuB2K,IAAI,CAAEa,MAAM,CAAC5E,KAAK,CAAG4E,MAAM,CAAChJ,MAAM,CAAE,UAAAU,MAAA,CAA7C0D,KAAK,CAA0C,CACnE,CAAC,CACC,CAAC,cACNrG,IAAA,CAACV,OAAO,EACNyJ,SAAS,CAAEA,CAACjI,KAAK,CAAEkI,IAAI,CAAEC,KAAK,GAAK,IAAAtG,MAAA,CAC9B7B,KAAK,iBAAA6B,MAAA,CAAesG,KAAK,CAACQ,OAAO,CAAC8B,OAAO,OAC5CtC,KAAK,CAACQ,OAAO,CAACT,IAAI,CAClB,CACFK,YAAY,CAAE,CAAE/D,QAAQ,CAAE,MAAM,CAAEM,YAAY,CAAE,KAAM,CAAE,CACzD,CAAC,cACF5F,IAAA,CAACT,MAAM,EACLwJ,SAAS,CAAEA,CAACjI,KAAK,CAAEiJ,KAAK,GAAK,CAC3B,GAAIA,KAAK,EAAIA,KAAK,CAACN,OAAO,CAAE,CAC1B,SAAA9G,MAAA,CAAUoH,KAAK,CAACN,OAAO,CAACT,IAAI,OAAArG,MAAA,CAAKoH,KAAK,CAACN,OAAO,CAAC8B,OAAO,MACxD,CACA,MAAO,CAAAzK,KAAK,CACd,CAAE,CACFkJ,YAAY,CAAE,CAAE1E,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAM,CAAE,CACtD+F,aAAa,CAAC,QAAQ,CACtB3E,MAAM,CAAE,EAAG,CACX4E,QAAQ,CAAC,QAAQ,CAClB,CAAC,EACc,CAAC,CACA,CAAC,CAE1B,CAAE,MAAOhJ,KAAK,CAAE,CACd,GAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CC,OAAO,CAACL,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC5D,CACA,mBACE9C,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAS,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,qBAAmB,CAAG,CAAC,CACtE,CAAC,CAEV,CACF,CAAC,EAAE,CAAC,EACD,CAAC,cAGNtE,KAAA,QAAKqE,SAAS,CAAC,mCAAmC,CAACI,KAAK,CAAE,CAAE4B,cAAc,CAAE,MAAO,CAAE,CAAA/B,QAAA,eACnFxE,IAAA,QAAKuE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtE,KAAA,QAAKyE,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEE,GAAG,CAAE,KAAM,CAAE,CAAAb,QAAA,eAChExE,IAAA,CAACzB,SAAS,EAACwG,IAAI,CAAE,EAAG,CAAC/D,KAAK,CAAC,SAAS,CAAE,CAAC,cACvChB,IAAA,OAAI2E,KAAK,CAAE,CAAEsC,MAAM,CAAE,CAAC,CAAE3B,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAM,CAAE,CAAAtB,QAAA,CAAC,cAAY,CAAI,CAAC,EAC7E,CAAC,CACH,CAAC,CACL,CAAC,IAAM,CACN,GAAI,CAACjD,SAAS,CAACK,oBAAoB,EAAIyI,MAAM,CAACC,IAAI,CAAC/I,SAAS,CAACK,oBAAoB,CAAC,CAACK,MAAM,GAAK,CAAC,CAAE,CAC/F,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,GAAI,CACF,KAAM,CAAA2C,SAAS,CAAGkD,MAAM,CAACI,OAAO,CAAClJ,SAAS,CAACK,oBAAoB,CAAC,CAC7DuE,GAAG,CAAC4F,KAAA,MAAC,CAACC,SAAS,CAAEC,KAAK,CAAC,CAAAF,KAAA,OAAM,CAC5BC,SAAS,CAAEA,SAAS,CAAC/F,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG8F,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,CACjED,KAAK,CAAEjB,MAAM,CAACiB,KAAK,EAAI,CAAC,CAC1B,CAAC,EAAC,CAAC,CACF3H,MAAM,CAAC8C,IAAI,EAAIA,IAAI,CAAC6E,KAAK,CAAG,CAAC,CAAC,CAC9BtC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACoC,KAAK,CAAGrC,CAAC,CAACqC,KAAK,CAAC,CAEpC,GAAI9E,SAAS,CAAClF,MAAM,GAAK,CAAC,CAAE,CAC1B,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,KAAM,CAAAyG,MAAM,CAAG,CACb,QAAQ,CAAE,SAAS,CACnB,QAAQ,CAAE,SAAS,CACnB,QAAQ,CAAE,SAAS,CACnB,SAAS,CAAE,SACb,CAAC,CAED,mBACEjL,IAAA,CAACR,mBAAmB,EAACqF,KAAK,CAAC,MAAM,CAACqC,MAAM,CAAE,GAAI,CAAA1C,QAAA,cAC5CtE,KAAA,CAACnB,QAAQ,EAACuD,IAAI,CAAE6E,SAAU,CAACF,MAAM,CAAE,CAAEa,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAE,CAAAzD,QAAA,eAC9ExE,IAAA,CAACX,aAAa,EAACoJ,eAAe,CAAC,KAAK,CAACC,MAAM,CAAC,SAAS,CAAE,CAAC,cACxD1I,IAAA,CAACb,KAAK,EAACwJ,OAAO,CAAC,WAAW,CAACC,IAAI,CAAE,CAAEtD,QAAQ,CAAE,EAAG,CAAE,CAAE,CAAC,cACrDtF,IAAA,CAACZ,KAAK,EAACwJ,IAAI,CAAE,CAAEtD,QAAQ,CAAE,EAAG,CAAE,CAAE,CAAC,cACjCtF,IAAA,CAACV,OAAO,EACNyJ,SAAS,CAAGjI,KAAK,EAAK,IAAA6B,MAAA,CAAI7B,KAAK,eAAc,OAAO,CAAE,CACtDuI,YAAY,CAAE,CAAE/D,QAAQ,CAAE,MAAM,CAAEM,YAAY,CAAE,KAAM,CAAE,CACzD,CAAC,cACF5F,IAAA,CAAChB,GAAG,EAAC2J,OAAO,CAAC,OAAO,CAACwD,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAA3H,QAAA,CACvC2C,SAAS,CAAChB,GAAG,CAAC,CAAC4D,KAAK,CAAE1D,KAAK,gBAC1BrG,IAAA,CAACP,IAAI,EAAuB2K,IAAI,CAAEa,MAAM,CAAClB,KAAK,CAACiC,SAAS,CAAC,EAAIf,MAAM,CAAC,SAAS,CAAE,UAAAtI,MAAA,CAA5D0D,KAAK,CAAyD,CAClF,CAAC,CACC,CAAC,EACE,CAAC,CACQ,CAAC,CAE1B,CAAE,MAAOvD,KAAK,CAAE,CACd,GAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CC,OAAO,CAACL,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CACA,mBACE9C,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAS,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,qBAAmB,CAAG,CAAC,CACtE,CAAC,CAEV,CACF,CAAC,EAAE,CAAC,EACD,CAAC,cAGNtE,KAAA,QAAKqE,SAAS,CAAC,mCAAmC,CAACI,KAAK,CAAE,CAAE4B,cAAc,CAAE,MAAO,CAAE,CAAA/B,QAAA,eACnFxE,IAAA,QAAKuE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCtE,KAAA,QAAKyE,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEE,GAAG,CAAE,KAAM,CAAE,CAAAb,QAAA,eAChExE,IAAA,CAAChC,KAAK,EAAC+G,IAAI,CAAE,EAAG,CAAC/D,KAAK,CAAC,SAAS,CAAE,CAAC,cACnChB,IAAA,OAAI2E,KAAK,CAAE,CAAEsC,MAAM,CAAE,CAAC,CAAE3B,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAM,CAAE,CAAAtB,QAAA,CAAC,gBAAc,CAAI,CAAC,EAC/E,CAAC,CACH,CAAC,CACL,CAAC,IAAM,CACN,GAAI,CAACjD,SAAS,CAACE,cAAc,EAAI4I,MAAM,CAACC,IAAI,CAAC/I,SAAS,CAACE,cAAc,CAAC,CAACQ,MAAM,GAAK,CAAC,CAAE,CACnF,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,GAAI,CACF,KAAM,CAAA4H,aAAa,CAAG/B,MAAM,CAACI,OAAO,CAAClJ,SAAS,CAACE,cAAc,CAAC,CAC3D0E,GAAG,CAACkG,KAAA,MAAC,CAAChM,IAAI,CAAEiC,IAAI,CAAC,CAAA+J,KAAA,OAAM,CACtBhM,IAAI,CAAEA,IAAI,CAAC4B,MAAM,CAAG,EAAE,CAAG5B,IAAI,CAACiM,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,KAAK,CAAGjM,IAAI,CAC7DkM,QAAQ,CAAElM,IAAI,CACdmM,SAAS,CAAExB,MAAM,CAAE1I,IAAI,EAAIA,IAAI,CAACkK,SAAS,EAAK,CAAC,CACjD,CAAC,EAAC,CAAC,CACFlI,MAAM,CAAC8C,IAAI,EAAIA,IAAI,CAACoF,SAAS,CAAG,CAAC,CAAC,CAClC7C,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAC2C,SAAS,CAAG5C,CAAC,CAAC4C,SAAS,CAAC,CACzCN,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAEf,GAAIE,aAAa,CAACnK,MAAM,GAAK,CAAC,CAAE,CAC9B,mBACEjC,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,MAAM,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACjE,CAAC,CAEV,CAEA,KAAM,CAAAiI,QAAQ,CAAGC,IAAI,CAACC,GAAG,CAAC,GAAGP,aAAa,CAACjG,GAAG,CAACyG,CAAC,EAAIA,CAAC,CAACJ,SAAS,CAAC,CAAC,CAEjE,mBACExM,IAAA,QAAK2E,KAAK,CAAE,CAAEa,OAAO,CAAE,QAAS,CAAE,CAAAhB,QAAA,CAC/B4H,aAAa,CAACjG,GAAG,CAAC,CAAC0G,SAAS,CAAExG,KAAK,gBAClCnG,KAAA,QAAiByE,KAAK,CAAE,CAAEmI,YAAY,CAAE,MAAO,CAAE,CAAAtI,QAAA,eAC/CtE,KAAA,QAAKyE,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEE,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAE2H,YAAY,CAAE,KAAM,CAAE,CAAAtI,QAAA,eAC1GxE,IAAA,SAAM2E,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAK,CAAE9E,KAAK,CAAE,SAAU,CAAE,CAACiD,KAAK,CAAE4I,SAAS,CAACN,QAAS,CAAA/H,QAAA,CAC/FqI,SAAS,CAACxM,IAAI,CACX,CAAC,cACPL,IAAA,SAAM2E,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEQ,UAAU,CAAE,KAAK,CAAE9E,KAAK,CAAE,SAAU,CAAE,CAAAwD,QAAA,CACpEqI,SAAS,CAACL,SAAS,CAChB,CAAC,EACJ,CAAC,cACNxM,IAAA,QAAK2E,KAAK,CAAE,CACVE,KAAK,CAAE,MAAM,CACbqC,MAAM,CAAE,KAAK,CACb6F,eAAe,CAAE,SAAS,CAC1BnH,YAAY,CAAE,KAAK,CACnBoH,QAAQ,CAAE,QACZ,CAAE,CAAAxI,QAAA,cACAxE,IAAA,QAAK2E,KAAK,CAAE,CACVE,KAAK,IAAAlC,MAAA,CAAMkK,SAAS,CAACL,SAAS,CAAGC,QAAQ,CAAI,GAAG,KAAG,CACnDvF,MAAM,CAAE,MAAM,CACd6F,eAAe,CAAE,SAAS,CAC1BnH,YAAY,CAAE,KAAK,CACnBd,UAAU,CAAE,iBACd,CAAE,CAAE,CAAC,CACF,CAAC,GAvBEuB,KAwBL,CACN,CAAC,CACC,CAAC,CAEV,CAAE,MAAOvD,KAAK,CAAE,CACd,GAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CC,OAAO,CAACL,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACA,mBACE9C,IAAA,QAAK2E,KAAK,CAAE,CAAEuC,MAAM,CAAE,OAAO,CAAElC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAED,cAAc,CAAE,QAAS,CAAE,CAAAV,QAAA,cAC/FxE,IAAA,MAAG2E,KAAK,CAAE,CAAE3D,KAAK,CAAE,SAAS,CAAEsE,QAAQ,CAAE,MAAO,CAAE,CAAAd,QAAA,CAAC,oBAAkB,CAAG,CAAC,CACrE,CAAC,CAEV,CACF,CAAC,EAAE,CAAC,EACD,CAAC,EACH,CAAC,EACC,CAAC,cAGVxE,IAAA,YAASuE,SAAS,CAAC,mBAAmB,CAACI,KAAK,CAAE,CAAEmC,SAAS,CAAE,MAAO,CAAE,CAAAtC,QAAA,cAClExE,IAAA,CAACF,uBAAuB,EACtBa,KAAK,CAAEA,KAAM,CACbY,SAAS,CAAEA,SAAU,CACtB,CAAC,CACK,CAAC,EAEN,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}