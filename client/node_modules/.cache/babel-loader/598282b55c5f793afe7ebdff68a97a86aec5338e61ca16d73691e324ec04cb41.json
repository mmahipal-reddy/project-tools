{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// PeopleSection component for ProjectSetup\n// Extracted from ProjectSetup.js\nimport React from'react';import{Info,Search}from'lucide-react';import apiClient from'../../../config/api';import toast from'react-hot-toast';import{handleError,getErrorMessage}from'../../../utils/errorHandler';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PeopleSection=_ref=>{let{register,errors,fieldErrors,setFieldErrors,projectManagerSearchTerm,setProjectManagerSearchTerm,projectManagerSearchResults,setProjectManagerSearchResults,loadingProjectManagerSearch,setLoadingProjectManagerSearch,showProjectManagerDropdown,setShowProjectManagerDropdown,setValue,projectManagerSearchTimeoutRef,// New props for other People section fields\npeopleSearchTerms,setPeopleSearchTerms,peopleSearchResults,setPeopleSearchResults,loadingPeopleSearch,setLoadingPeopleSearch,showPeopleDropdowns,setShowPeopleDropdowns,peopleSearchTimeoutRefs}=_ref;// Reusable search function for People section fields\nconst searchPeople=async(fieldName,searchTerm)=>{if(!searchTerm||searchTerm.trim().length<3){setPeopleSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:[]}));setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:false}));return;}setLoadingPeopleSearch(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:true}));try{const response=await apiClient.get(\"/salesforce/search-people?search=\".concat(encodeURIComponent(searchTerm)));if(response.data.success){const people=response.data.people||[];setPeopleSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:people}));// Show dropdown if there are results\nif(people.length>0){setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:true}));}}else{setPeopleSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:[]}));}}catch(error){var _error$response;handleError(error,\"ProjectSetup - searchPeople(\".concat(fieldName,\")\"));setPeopleSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:[]}));// Show user-friendly error message for different types of 401 errors\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){var _error$response2;const errorData=((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||{};const errorMessage=errorData.error||errorData.message||'';if(errorMessage.includes('No token provided')||errorMessage.includes('Invalid token')||errorMessage.includes('session has expired')||errorMessage.includes('Authentication required')||errorMessage.includes('TokenExpiredError')){toast.error('Your session has expired. Please log in again.');setTimeout(()=>{window.location.href='/login';},2000);}else if(errorMessage.includes('Invalid Salesforce credentials')||errorMessage.includes('Salesforce settings')||errorMessage.includes('Failed to connect to Salesforce')||errorMessage.includes('INVALID_LOGIN')){toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');}else{toast.error('Authentication failed. Please log in again.');setTimeout(()=>{window.location.href='/login';},2000);}}}finally{setLoadingPeopleSearch(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:false}));}};// Handler for selecting a person from dropdown\nconst handlePersonSelect=(fieldName,person)=>{setPeopleSearchTerms(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:person.name||person.email}));setValue(fieldName,person.id);setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:false}));// Clear errors for this field\nif(fieldErrors[fieldName]){setFieldErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors[fieldName];return newErrors;});}};// Render a searchable People field\nconst renderPeopleSearchField=function(fieldName,label){let placeholder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"Search People...\";const searchTerm=peopleSearchTerms[fieldName]||'';const results=peopleSearchResults[fieldName]||[];const loading=loadingPeopleSearch[fieldName]||false;const showDropdown=showPeopleDropdowns[fieldName]||false;const timeoutRef=peopleSearchTimeoutRefs.current[fieldName];return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(fieldName)),{},{value:searchTerm,onChange:e=>{const value=e.target.value;setPeopleSearchTerms(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:value}));setValue(fieldName,'');// Clear previous timeout\nif(timeoutRef){clearTimeout(timeoutRef);}// Clear results if search term is too short\nif(!value||value.trim().length<3){setPeopleSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:[]}));setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:false}));return;}// Show dropdown immediately when typing\nsetShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:true}));// Debounce search - wait 800ms after user stops typing\npeopleSearchTimeoutRefs.current[fieldName]=setTimeout(()=>{searchPeople(fieldName,value.trim());},800);},onFocus:()=>{// Show dropdown if there are existing results\nif(results.length>0){setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:true}));}else if(searchTerm&&searchTerm.trim().length>=3){// If there's a search term but no results, search again\nsearchPeople(fieldName,searchTerm.trim());}},onBlur:()=>{setTimeout(()=>{setShowPeopleDropdowns(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:false}));},200);},placeholder:placeholder,style:{paddingRight:'36px',fontSize:'12px',padding:'6px 10px',width:'100%',height:'32px'}})),/*#__PURE__*/_jsx(Search,{size:14,style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',color:'#666',pointerEvents:'none'}}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'100%',left:0,right:0,backgroundColor:'white',border:'1px solid #ddd',borderRadius:'4px',maxHeight:'200px',overflowY:'auto',zIndex:1000,boxShadow:'0 2px 8px rgba(0,0,0,0.1)',marginTop:'4px'},children:loading?/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"Searching...\"}):results.length>0?results.map(person=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handlePersonSelect(fieldName,person),style:{padding:'6px 10px',cursor:'pointer',fontSize:'12px',borderBottom:'1px solid #f0f0f0'},onMouseEnter:e=>e.target.style.backgroundColor='#f5f5f5',onMouseLeave:e=>e.target.style.backgroundColor='white',children:[person.name,\" \",person.email?\"(\".concat(person.email,\")\"):'']},person.id)):/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"No results found\"})})]})]});};const searchProjectManager=async searchTerm=>{if(!searchTerm||searchTerm.trim().length<3){setProjectManagerSearchResults([]);return;}setLoadingProjectManagerSearch(true);try{const response=await apiClient.get(\"/salesforce/search-people?search=\".concat(encodeURIComponent(searchTerm)));if(response.data.success){const people=response.data.people||[];setProjectManagerSearchResults(people);// Show dropdown if there are results (same as Project field)\nif(people.length>0){setShowProjectManagerDropdown(true);}}else{setProjectManagerSearchResults([]);}}catch(error){var _error$response3;handleError(error,'ProjectSetup - searchProjectManager');setProjectManagerSearchResults([]);// Show user-friendly error message for different types of 401 errors\nif(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===401){const errorMessage=getErrorMessage(error);// Check if it's a JWT authentication error\nif(errorMessage.includes('No token provided')||errorMessage.includes('Invalid token')||errorMessage.includes('session has expired')||errorMessage.includes('Authentication required')||errorMessage.includes('TokenExpiredError')){toast.error('Your session has expired. Please log in again.');// Redirect to login after a short delay\nsetTimeout(()=>{window.location.href='/login';},2000);}// Check if it's a Salesforce credential error\nelse if(errorMessage.includes('Invalid Salesforce credentials')||errorMessage.includes('Salesforce settings')||errorMessage.includes('Failed to connect to Salesforce')||errorMessage.includes('INVALID_LOGIN')){toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');}// Generic 401 error - likely JWT auth issue\nelse{console.error('Generic 401 error - likely JWT authentication issue');toast.error('Authentication failed. Please log in again.');setTimeout(()=>{window.location.href='/login';},2000);}}}finally{setLoadingProjectManagerSearch(false);}};const handleProjectManagerSelect=person=>{setProjectManagerSearchTerm(person.name||person.email);// Store both ID and name - ID for Salesforce, name for display/reference\nsetValue('projectManager',person.id);setValue('projectManagerName',person.name||person.email);setShowProjectManagerDropdown(false);// Clear errors for this field\nif(fieldErrors.projectManager){setFieldErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors.projectManager;return newErrors;});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"People\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[renderPeopleSearchField('programManager','Program Manager','Search People...'),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Project Manager *\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('projectManager',{required:true})),{},{value:projectManagerSearchTerm,onChange:e=>{const value=e.target.value;setProjectManagerSearchTerm(value);// Don't clear projectManager ID when typing - only clear when user manually deletes everything\n// This preserves the selected ID even if user is searching for a different person\n// Clear previous timeout\nif(projectManagerSearchTimeoutRef.current){clearTimeout(projectManagerSearchTimeoutRef.current);}// Clear results if search term is too short\nif(!value||value.trim().length<3){setProjectManagerSearchResults([]);setShowProjectManagerDropdown(false);// Only clear the projectManager ID if the field is completely empty\nif(!value||value.trim()===''){setValue('projectManager','');}return;}// Show dropdown immediately when typing (will be populated when results come back)\nsetShowProjectManagerDropdown(true);// Debounce search - wait 800ms after user stops typing\nprojectManagerSearchTimeoutRef.current=setTimeout(()=>{searchProjectManager(value.trim());},800);},onFocus:()=>{// Show dropdown if there are existing results\nif(projectManagerSearchResults.length>0){setShowProjectManagerDropdown(true);}else if(projectManagerSearchTerm&&projectManagerSearchTerm.trim().length>=3){// If there's a search term but no results, search again\nsearchProjectManager(projectManagerSearchTerm.trim());}},onBlur:()=>{setTimeout(()=>{setShowProjectManagerDropdown(false);},200);},placeholder:\"Search People...\",className:fieldErrors.projectManager?'error-field':'',style:{paddingRight:'36px',fontSize:'12px',padding:'6px 10px',width:'100%',height:'32px'}})),/*#__PURE__*/_jsx(Search,{size:14,style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',color:'#666',pointerEvents:'none'}}),showProjectManagerDropdown&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'100%',left:0,right:0,backgroundColor:'white',border:'1px solid #ddd',borderRadius:'4px',maxHeight:'200px',overflowY:'auto',zIndex:1000,boxShadow:'0 2px 8px rgba(0,0,0,0.1)',marginTop:'4px'},children:loadingProjectManagerSearch?/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"Searching...\"}):projectManagerSearchResults.length>0?projectManagerSearchResults.map(person=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleProjectManagerSelect(person),style:{padding:'8px 12px',cursor:'pointer',fontSize:'13px',borderBottom:'1px solid #f0f0f0'},onMouseEnter:e=>e.target.style.backgroundColor='#f5f5f5',onMouseLeave:e=>e.target.style.backgroundColor='white',children:[person.name,\" \",person.email?\"(\".concat(person.email,\")\"):'']},person.id)):/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"No results found\"})})]}),errors.projectManager&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Required\"})]}),renderPeopleSearchField('qualityLead','Quality Lead','Search People...'),renderPeopleSearchField('productivityLead','Productivity Lead','Search People...'),renderPeopleSearchField('reportingLead','Reporting Lead','Search People...'),renderPeopleSearchField('invoicingLead','Invoicing Lead','Search People...'),renderPeopleSearchField('projectSupportLead','Project Support Lead','Search People...'),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('casesDCSupportTeam'))),/*#__PURE__*/_jsx(\"span\",{children:\"Cases DC Support Team\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})}),renderPeopleSearchField('recruitmentLead','Recruitment Lead','Search People...'),renderPeopleSearchField('qualificationLead','Qualification Lead','Search People...'),renderPeopleSearchField('onboardingLead','Onboarding Lead','Search People...')]})]});};export default PeopleSection;","map":{"version":3,"names":["React","Info","Search","apiClient","toast","handleError","getErrorMessage","jsx","_jsx","jsxs","_jsxs","PeopleSection","_ref","register","errors","fieldErrors","setFieldErrors","projectManagerSearchTerm","setProjectManagerSearchTerm","projectManagerSearchResults","setProjectManagerSearchResults","loadingProjectManagerSearch","setLoadingProjectManagerSearch","showProjectManagerDropdown","setShowProjectManagerDropdown","setValue","projectManagerSearchTimeoutRef","peopleSearchTerms","setPeopleSearchTerms","peopleSearchResults","setPeopleSearchResults","loadingPeopleSearch","setLoadingPeopleSearch","showPeopleDropdowns","setShowPeopleDropdowns","peopleSearchTimeoutRefs","searchPeople","fieldName","searchTerm","trim","length","prev","_objectSpread","response","get","concat","encodeURIComponent","data","success","people","error","_error$response","status","_error$response2","errorData","errorMessage","message","includes","setTimeout","window","location","href","handlePersonSelect","person","name","email","id","newErrors","renderPeopleSearchField","label","placeholder","arguments","undefined","results","loading","showDropdown","timeoutRef","current","className","style","position","children","type","value","onChange","e","target","clearTimeout","onFocus","onBlur","paddingRight","fontSize","padding","width","height","size","right","top","transform","color","pointerEvents","left","backgroundColor","border","borderRadius","maxHeight","overflowY","zIndex","boxShadow","marginTop","textAlign","map","onClick","cursor","borderBottom","onMouseEnter","onMouseLeave","searchProjectManager","_error$response3","console","handleProjectManagerSelect","projectManager","required"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/ProjectSetup/components/PeopleSection.js"],"sourcesContent":["// PeopleSection component for ProjectSetup\n// Extracted from ProjectSetup.js\n\nimport React from 'react';\nimport { Info, Search } from 'lucide-react';\nimport apiClient from '../../../config/api';\nimport toast from 'react-hot-toast';\nimport { handleError, getErrorMessage } from '../../../utils/errorHandler';\n\nconst PeopleSection = ({ \n  register, \n  errors, \n  fieldErrors, \n  setFieldErrors, \n  projectManagerSearchTerm,\n  setProjectManagerSearchTerm,\n  projectManagerSearchResults,\n  setProjectManagerSearchResults,\n  loadingProjectManagerSearch,\n  setLoadingProjectManagerSearch,\n  showProjectManagerDropdown,\n  setShowProjectManagerDropdown,\n  setValue,\n  projectManagerSearchTimeoutRef,\n  // New props for other People section fields\n  peopleSearchTerms,\n  setPeopleSearchTerms,\n  peopleSearchResults,\n  setPeopleSearchResults,\n  loadingPeopleSearch,\n  setLoadingPeopleSearch,\n  showPeopleDropdowns,\n  setShowPeopleDropdowns,\n  peopleSearchTimeoutRefs\n}) => {\n  // Reusable search function for People section fields\n  const searchPeople = async (fieldName, searchTerm) => {\n    if (!searchTerm || searchTerm.trim().length < 3) {\n      setPeopleSearchResults(prev => ({ ...prev, [fieldName]: [] }));\n      setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: false }));\n      return;\n    }\n\n    setLoadingPeopleSearch(prev => ({ ...prev, [fieldName]: true }));\n    try {\n      const response = await apiClient.get(`/salesforce/search-people?search=${encodeURIComponent(searchTerm)}`);\n      if (response.data.success) {\n        const people = response.data.people || [];\n        setPeopleSearchResults(prev => ({ ...prev, [fieldName]: people }));\n        // Show dropdown if there are results\n        if (people.length > 0) {\n          setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: true }));\n        }\n      } else {\n        setPeopleSearchResults(prev => ({ ...prev, [fieldName]: [] }));\n      }\n    } catch (error) {\n      handleError(error, `ProjectSetup - searchPeople(${fieldName})`);\n      setPeopleSearchResults(prev => ({ ...prev, [fieldName]: [] }));\n      \n      // Show user-friendly error message for different types of 401 errors\n      if (error.response?.status === 401) {\n        const errorData = error.response?.data || {};\n        const errorMessage = errorData.error || errorData.message || '';\n        \n        if (errorMessage.includes('No token provided') || \n            errorMessage.includes('Invalid token') || \n            errorMessage.includes('session has expired') ||\n            errorMessage.includes('Authentication required') ||\n            errorMessage.includes('TokenExpiredError')) {\n          toast.error('Your session has expired. Please log in again.');\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 2000);\n        } else if (errorMessage.includes('Invalid Salesforce credentials') || \n                   errorMessage.includes('Salesforce settings') ||\n                   errorMessage.includes('Failed to connect to Salesforce') ||\n                   errorMessage.includes('INVALID_LOGIN')) {\n          toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');\n        } else {\n          toast.error('Authentication failed. Please log in again.');\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 2000);\n        }\n      }\n    } finally {\n      setLoadingPeopleSearch(prev => ({ ...prev, [fieldName]: false }));\n    }\n  };\n\n  // Handler for selecting a person from dropdown\n  const handlePersonSelect = (fieldName, person) => {\n    setPeopleSearchTerms(prev => ({ ...prev, [fieldName]: person.name || person.email }));\n    setValue(fieldName, person.id);\n    setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: false }));\n    \n    // Clear errors for this field\n    if (fieldErrors[fieldName]) {\n      setFieldErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    }\n  };\n\n  // Render a searchable People field\n  const renderPeopleSearchField = (fieldName, label, placeholder = \"Search People...\") => {\n    const searchTerm = peopleSearchTerms[fieldName] || '';\n    const results = peopleSearchResults[fieldName] || [];\n    const loading = loadingPeopleSearch[fieldName] || false;\n    const showDropdown = showPeopleDropdowns[fieldName] || false;\n    const timeoutRef = peopleSearchTimeoutRefs.current[fieldName];\n\n    return (\n      <div className=\"form-group\" style={{ position: 'relative' }}>\n        <label>{label}</label>\n        <div style={{ position: 'relative' }}>\n          <input\n            type=\"text\"\n            {...register(fieldName)}\n            value={searchTerm}\n            onChange={(e) => {\n              const value = e.target.value;\n              setPeopleSearchTerms(prev => ({ ...prev, [fieldName]: value }));\n              setValue(fieldName, '');\n              \n              // Clear previous timeout\n              if (timeoutRef) {\n                clearTimeout(timeoutRef);\n              }\n              \n              // Clear results if search term is too short\n              if (!value || value.trim().length < 3) {\n                setPeopleSearchResults(prev => ({ ...prev, [fieldName]: [] }));\n                setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: false }));\n                return;\n              }\n              \n              // Show dropdown immediately when typing\n              setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: true }));\n              \n              // Debounce search - wait 800ms after user stops typing\n              peopleSearchTimeoutRefs.current[fieldName] = setTimeout(() => {\n                searchPeople(fieldName, value.trim());\n              }, 800);\n            }}\n            onFocus={() => {\n              // Show dropdown if there are existing results\n              if (results.length > 0) {\n                setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: true }));\n              } else if (searchTerm && searchTerm.trim().length >= 3) {\n                // If there's a search term but no results, search again\n                searchPeople(fieldName, searchTerm.trim());\n              }\n            }}\n            onBlur={() => {\n              setTimeout(() => {\n                setShowPeopleDropdowns(prev => ({ ...prev, [fieldName]: false }));\n              }, 200);\n            }}\n            placeholder={placeholder}\n            style={{ paddingRight: '36px', fontSize: '12px', padding: '6px 10px', width: '100%', height: '32px' }}\n          />\n          <Search size={14} style={{ position: 'absolute', right: '10px', top: '50%', transform: 'translateY(-50%)', color: '#666', pointerEvents: 'none' }} />\n          {showDropdown && (\n            <div style={{\n              position: 'absolute',\n              top: '100%',\n              left: 0,\n              right: 0,\n              backgroundColor: 'white',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              maxHeight: '200px',\n              overflowY: 'auto',\n              zIndex: 1000,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n              marginTop: '4px'\n            }}>\n              {loading ? (\n                <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>Searching...</div>\n              ) : results.length > 0 ? (\n                results.map(person => (\n                  <div\n                    key={person.id}\n                    onClick={() => handlePersonSelect(fieldName, person)}\n                    style={{\n                      padding: '6px 10px',\n                      cursor: 'pointer',\n                      fontSize: '12px',\n                      borderBottom: '1px solid #f0f0f0'\n                    }}\n                    onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\n                    onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}\n                  >\n                    {person.name} {person.email ? `(${person.email})` : ''}\n                  </div>\n                ))\n              ) : (\n                <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>No results found</div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  const searchProjectManager = async (searchTerm) => {\n    if (!searchTerm || searchTerm.trim().length < 3) {\n      setProjectManagerSearchResults([]);\n      return;\n    }\n\n    setLoadingProjectManagerSearch(true);\n    try {\n      const response = await apiClient.get(`/salesforce/search-people?search=${encodeURIComponent(searchTerm)}`);\n      if (response.data.success) {\n        const people = response.data.people || [];\n        setProjectManagerSearchResults(people);\n        // Show dropdown if there are results (same as Project field)\n        if (people.length > 0) {\n          setShowProjectManagerDropdown(true);\n        }\n      } else {\n        setProjectManagerSearchResults([]);\n      }\n    } catch (error) {\n      handleError(error, 'ProjectSetup - searchProjectManager');\n      setProjectManagerSearchResults([]);\n      \n      // Show user-friendly error message for different types of 401 errors\n      if (error.response?.status === 401) {\n        const errorMessage = getErrorMessage(error);\n        \n        // Check if it's a JWT authentication error\n        if (errorMessage.includes('No token provided') || \n            errorMessage.includes('Invalid token') || \n            errorMessage.includes('session has expired') ||\n            errorMessage.includes('Authentication required') ||\n            errorMessage.includes('TokenExpiredError')) {\n          toast.error('Your session has expired. Please log in again.');\n          // Redirect to login after a short delay\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 2000);\n        } \n        // Check if it's a Salesforce credential error\n        else if (errorMessage.includes('Invalid Salesforce credentials') || \n                 errorMessage.includes('Salesforce settings') ||\n                 errorMessage.includes('Failed to connect to Salesforce') ||\n                 errorMessage.includes('INVALID_LOGIN')) {\n          toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');\n        }\n        // Generic 401 error - likely JWT auth issue\n        else {\n          console.error('Generic 401 error - likely JWT authentication issue');\n          toast.error('Authentication failed. Please log in again.');\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 2000);\n        }\n      }\n    } finally {\n      setLoadingProjectManagerSearch(false);\n    }\n  };\n\n  const handleProjectManagerSelect = (person) => {\n    setProjectManagerSearchTerm(person.name || person.email);\n    // Store both ID and name - ID for Salesforce, name for display/reference\n    setValue('projectManager', person.id);\n    setValue('projectManagerName', person.name || person.email);\n    setShowProjectManagerDropdown(false);\n    \n    // Clear errors for this field\n    if (fieldErrors.projectManager) {\n      setFieldErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors.projectManager;\n        return newErrors;\n      });\n    }\n  };\n\n  return (\n    <div className=\"section-content\">\n      <h2>People</h2>\n      <div className=\"form-grid compact-grid\">\n        {renderPeopleSearchField('programManager', 'Program Manager', 'Search People...')}\n        <div className=\"form-group\" style={{ position: 'relative' }}>\n          <label>\n            Project Manager *\n            <Info size={14} className=\"info-icon\" />\n          </label>\n          <div style={{ position: 'relative' }}>\n            <input\n              type=\"text\"\n              {...register('projectManager', { required: true })}\n              value={projectManagerSearchTerm}\n              onChange={(e) => {\n                const value = e.target.value;\n                setProjectManagerSearchTerm(value);\n                // Don't clear projectManager ID when typing - only clear when user manually deletes everything\n                // This preserves the selected ID even if user is searching for a different person\n                \n                // Clear previous timeout\n                if (projectManagerSearchTimeoutRef.current) {\n                  clearTimeout(projectManagerSearchTimeoutRef.current);\n                }\n                \n                // Clear results if search term is too short\n                if (!value || value.trim().length < 3) {\n                  setProjectManagerSearchResults([]);\n                  setShowProjectManagerDropdown(false);\n                  // Only clear the projectManager ID if the field is completely empty\n                  if (!value || value.trim() === '') {\n                    setValue('projectManager', '');\n                  }\n                  return;\n                }\n                \n                // Show dropdown immediately when typing (will be populated when results come back)\n                setShowProjectManagerDropdown(true);\n                \n                // Debounce search - wait 800ms after user stops typing\n                projectManagerSearchTimeoutRef.current = setTimeout(() => {\n                  searchProjectManager(value.trim());\n                }, 800);\n              }}\n              onFocus={() => {\n                // Show dropdown if there are existing results\n                if (projectManagerSearchResults.length > 0) {\n                  setShowProjectManagerDropdown(true);\n                } else if (projectManagerSearchTerm && projectManagerSearchTerm.trim().length >= 3) {\n                  // If there's a search term but no results, search again\n                  searchProjectManager(projectManagerSearchTerm.trim());\n                }\n              }}\n              onBlur={() => {\n                setTimeout(() => {\n                  setShowProjectManagerDropdown(false);\n                }, 200);\n              }}\n              placeholder=\"Search People...\"\n              className={fieldErrors.projectManager ? 'error-field' : ''}\n              style={{ paddingRight: '36px', fontSize: '12px', padding: '6px 10px', width: '100%', height: '32px' }}\n            />\n            <Search size={14} style={{ position: 'absolute', right: '10px', top: '50%', transform: 'translateY(-50%)', color: '#666', pointerEvents: 'none' }} />\n            {showProjectManagerDropdown && (\n              <div style={{\n                position: 'absolute',\n                top: '100%',\n                left: 0,\n                right: 0,\n                backgroundColor: 'white',\n                border: '1px solid #ddd',\n                borderRadius: '4px',\n                maxHeight: '200px',\n                overflowY: 'auto',\n                zIndex: 1000,\n                boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                marginTop: '4px'\n              }}>\n                {loadingProjectManagerSearch ? (\n                  <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>Searching...</div>\n                ) : projectManagerSearchResults.length > 0 ? (\n                  projectManagerSearchResults.map(person => (\n                    <div\n                      key={person.id}\n                      onClick={() => handleProjectManagerSelect(person)}\n                      style={{\n                        padding: '8px 12px',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        borderBottom: '1px solid #f0f0f0'\n                      }}\n                      onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\n                      onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}\n                    >\n                      {person.name} {person.email ? `(${person.email})` : ''}\n                    </div>\n                  ))\n                ) : (\n                  <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>No results found</div>\n                )}\n              </div>\n            )}\n          </div>\n          {errors.projectManager && <span className=\"error\">Required</span>}\n        </div>\n        {renderPeopleSearchField('qualityLead', 'Quality Lead', 'Search People...')}\n        {renderPeopleSearchField('productivityLead', 'Productivity Lead', 'Search People...')}\n        {renderPeopleSearchField('reportingLead', 'Reporting Lead', 'Search People...')}\n        {renderPeopleSearchField('invoicingLead', 'Invoicing Lead', 'Search People...')}\n        {renderPeopleSearchField('projectSupportLead', 'Project Support Lead', 'Search People...')}\n        <div className=\"form-group\">\n          <label>\n            <input type=\"checkbox\" {...register('casesDCSupportTeam')} />\n            <span>Cases DC Support Team</span>\n            <Info size={14} className=\"info-icon\" />\n          </label>\n        </div>\n        {renderPeopleSearchField('recruitmentLead', 'Recruitment Lead', 'Search People...')}\n        {renderPeopleSearchField('qualificationLead', 'Qualification Lead', 'Search People...')}\n        {renderPeopleSearchField('onboardingLead', 'Onboarding Lead', 'Search People...')}\n      </div>\n    </div>\n  );\n};\n\nexport default PeopleSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}