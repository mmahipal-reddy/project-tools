{"ast":null,"code":"// FormulaField component - Handles formula transformation fields\nimport React from'react';import{Plus}from'lucide-react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const FormulaField=_ref=>{let{mapping,updateMapping,sourceFields}=_ref;const handleFormulaChange=e=>{updateMapping({formula:e.target.value});};// Extract field references from formula (simple pattern matching)\nconst fieldReferences=mapping.formula?mapping.formula.match(/\\{([^}]+)\\}/g)||[]:[];return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Formula *\",/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'10px',color:'#666',marginLeft:'6px',fontWeight:'normal'},children:[\"Use \",'{FieldName}',\" to reference source fields\"]})]}),/*#__PURE__*/_jsx(\"textarea\",{value:mapping.formula,onChange:handleFormulaChange,placeholder:\"e.g., {Amount} * 1.1 or {FirstName} + ' ' + {LastName}\",rows:3,style:{fontSize:'12px',padding:'6px 10px',width:'100%',border:'1px solid #d1d5db',borderRadius:'4px',backgroundColor:'#fff',fontFamily:'monospace'}}),fieldReferences.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'6px',fontSize:'11px',color:'#666'},children:[\"Referenced fields: \",fieldReferences.map(ref=>ref.replace(/[{}]/g,'')).join(', ')]}),sourceFields.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',padding:'8px',backgroundColor:'#f9fafb',borderRadius:'4px',fontSize:'11px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'4px'},children:\"Available Fields:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'4px'},children:sourceFields.map(field=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const currentFormula=mapping.formula||'';updateMapping({formula:currentFormula+\"{\".concat(field.name,\"}\")});},style:{padding:'2px 6px',fontSize:'10px',backgroundColor:'#eff6ff',color:'#0284c7',border:'1px solid #bae6fd',borderRadius:'3px',cursor:'pointer'},children:field.label},field.name))})]})]});};export default FormulaField;","map":{"version":3,"names":["React","Plus","jsxs","_jsxs","jsx","_jsx","FormulaField","_ref","mapping","updateMapping","sourceFields","handleFormulaChange","e","formula","target","value","fieldReferences","match","className","style","marginTop","children","fontSize","color","marginLeft","fontWeight","onChange","placeholder","rows","padding","width","border","borderRadius","backgroundColor","fontFamily","length","map","ref","replace","join","marginBottom","display","flexWrap","gap","field","type","onClick","currentFormula","concat","name","cursor","label"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/UpdateObjectFields/components/TransformationFields/FormulaField.js"],"sourcesContent":["// FormulaField component - Handles formula transformation fields\n\nimport React from 'react';\nimport { Plus } from 'lucide-react';\n\nconst FormulaField = ({ mapping, updateMapping, sourceFields }) => {\n  const handleFormulaChange = (e) => {\n    updateMapping({ formula: e.target.value });\n  };\n\n  // Extract field references from formula (simple pattern matching)\n  const fieldReferences = mapping.formula ? mapping.formula.match(/\\{([^}]+)\\}/g) || [] : [];\n\n  return (\n    <div className=\"form-group\" style={{ marginTop: '8px' }}>\n      <label>\n        Formula *\n        <span style={{ fontSize: '10px', color: '#666', marginLeft: '6px', fontWeight: 'normal' }}>\n          Use {'{FieldName}'} to reference source fields\n        </span>\n      </label>\n      <textarea\n        value={mapping.formula}\n        onChange={handleFormulaChange}\n        placeholder=\"e.g., {Amount} * 1.1 or {FirstName} + ' ' + {LastName}\"\n        rows={3}\n        style={{ \n          fontSize: '12px', \n          padding: '6px 10px', \n          width: '100%', \n          border: '1px solid #d1d5db', \n          borderRadius: '4px', \n          backgroundColor: '#fff',\n          fontFamily: 'monospace'\n        }}\n      />\n      {fieldReferences.length > 0 && (\n        <div style={{ marginTop: '6px', fontSize: '11px', color: '#666' }}>\n          Referenced fields: {fieldReferences.map(ref => ref.replace(/[{}]/g, '')).join(', ')}\n        </div>\n      )}\n      {sourceFields.length > 0 && (\n        <div style={{ marginTop: '8px', padding: '8px', backgroundColor: '#f9fafb', borderRadius: '4px', fontSize: '11px' }}>\n          <div style={{ fontWeight: '600', marginBottom: '4px' }}>Available Fields:</div>\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>\n            {sourceFields.map(field => (\n              <button\n                key={field.name}\n                type=\"button\"\n                onClick={() => {\n                  const currentFormula = mapping.formula || '';\n                  updateMapping({ formula: currentFormula + `{${field.name}}` });\n                }}\n                style={{\n                  padding: '2px 6px',\n                  fontSize: '10px',\n                  backgroundColor: '#eff6ff',\n                  color: '#0284c7',\n                  border: '1px solid #bae6fd',\n                  borderRadius: '3px',\n                  cursor: 'pointer'\n                }}\n              >\n                {field.label}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FormulaField;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}