{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Mail,Plus,X,Send,FileText}from'lucide-react';import EmailRecipientManager from'./EmailRecipientManager';import EmailTemplateEditor from'./EmailTemplateEditor';import'./EmailConfig.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailConfig=_ref=>{let{emailConfig,onEmailConfigChange,reportName}=_ref;const[activeTab,setActiveTab]=useState('recipients');return/*#__PURE__*/_jsxs(\"div\",{className:\"email-config\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email-config-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Mail,{size:16,color:\"#08979C\"}),/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'13px',fontWeight:'500'},children:\"Email & Delivery Configuration\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-config-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"email-config-tab \".concat(activeTab==='recipients'?'active':''),onClick:()=>setActiveTab('recipients'),children:\"Recipients\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"email-config-tab \".concat(activeTab==='template'?'active':''),onClick:()=>setActiveTab('template'),children:\"Email Template\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"email-config-tab \".concat(activeTab==='delivery'?'active':''),onClick:()=>setActiveTab('delivery'),children:\"Delivery Options\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-config-content\",children:[activeTab==='recipients'&&/*#__PURE__*/_jsx(EmailRecipientManager,{recipients:emailConfig.recipients||[],onRecipientsChange:recipients=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{recipients}))}),activeTab==='template'&&/*#__PURE__*/_jsx(EmailTemplateEditor,{subject:emailConfig.subject||\"Report: \".concat(reportName||'Untitled'),body:emailConfig.body||'',reportName:reportName,onSubjectChange:subject=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{subject})),onBodyChange:body=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{body}))}),activeTab==='delivery'&&/*#__PURE__*/_jsxs(\"div\",{className:\"email-delivery-options\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email-delivery-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"email-delivery-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:emailConfig.attachFile!==false,onChange:e=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{attachFile:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{children:\"Attach report file to email\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"email-delivery-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"email-delivery-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:emailConfig.includeLink===true,onChange:e=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{includeLink:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{children:\"Include download link in email\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"email-delivery-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"email-delivery-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:emailConfig.embedData===true,onChange:e=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{embedData:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{children:\"Embed report data in email body (for small reports)\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"email-delivery-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"email-delivery-label\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivery Method:\"}),/*#__PURE__*/_jsxs(\"select\",{value:emailConfig.deliveryMethod||'email',onChange:e=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{deliveryMethod:e.target.value})),className:\"email-delivery-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"email\",children:\"Email Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email_and_cloud\",children:\"Email + Cloud Storage\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cloud_only\",children:\"Cloud Storage Only\"})]})]})}),emailConfig.deliveryMethod!=='email'&&/*#__PURE__*/_jsx(\"div\",{className:\"email-delivery-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"email-delivery-label\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cloud Storage:\"}),/*#__PURE__*/_jsxs(\"select\",{value:emailConfig.cloudStorage||'none',onChange:e=>onEmailConfigChange(_objectSpread(_objectSpread({},emailConfig),{},{cloudStorage:e.target.value})),className:\"email-delivery-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"None\"}),/*#__PURE__*/_jsx(\"option\",{value:\"google_drive\",children:\"Google Drive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dropbox\",children:\"Dropbox\"}),/*#__PURE__*/_jsx(\"option\",{value:\"onedrive\",children:\"OneDrive\"})]})]})})]})]})]});};export default EmailConfig;","map":{"version":3,"names":["React","useState","Mail","Plus","X","Send","FileText","EmailRecipientManager","EmailTemplateEditor","jsx","_jsx","jsxs","_jsxs","EmailConfig","_ref","emailConfig","onEmailConfigChange","reportName","activeTab","setActiveTab","className","children","style","display","alignItems","gap","size","color","fontSize","fontWeight","type","concat","onClick","recipients","onRecipientsChange","_objectSpread","subject","body","onSubjectChange","onBodyChange","checked","attachFile","onChange","e","target","includeLink","embedData","value","deliveryMethod","cloudStorage"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/EmailConfig/EmailConfig.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Mail, Plus, X, Send, FileText } from 'lucide-react';\nimport EmailRecipientManager from './EmailRecipientManager';\nimport EmailTemplateEditor from './EmailTemplateEditor';\nimport './EmailConfig.css';\n\nconst EmailConfig = ({ \n  emailConfig, \n  onEmailConfigChange,\n  reportName \n}) => {\n  const [activeTab, setActiveTab] = useState('recipients');\n\n  return (\n    <div className=\"email-config\">\n      <div className=\"email-config-header\">\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n          <Mail size={16} color=\"#08979C\" />\n          <label style={{ fontSize: '13px', fontWeight: '500' }}>\n            Email & Delivery Configuration\n          </label>\n        </div>\n      </div>\n\n      <div className=\"email-config-tabs\">\n        <button\n          type=\"button\"\n          className={`email-config-tab ${activeTab === 'recipients' ? 'active' : ''}`}\n          onClick={() => setActiveTab('recipients')}\n        >\n          Recipients\n        </button>\n        <button\n          type=\"button\"\n          className={`email-config-tab ${activeTab === 'template' ? 'active' : ''}`}\n          onClick={() => setActiveTab('template')}\n        >\n          Email Template\n        </button>\n        <button\n          type=\"button\"\n          className={`email-config-tab ${activeTab === 'delivery' ? 'active' : ''}`}\n          onClick={() => setActiveTab('delivery')}\n        >\n          Delivery Options\n        </button>\n      </div>\n\n      <div className=\"email-config-content\">\n        {activeTab === 'recipients' && (\n          <EmailRecipientManager\n            recipients={emailConfig.recipients || []}\n            onRecipientsChange={(recipients) => \n              onEmailConfigChange({ ...emailConfig, recipients })\n            }\n          />\n        )}\n\n        {activeTab === 'template' && (\n          <EmailTemplateEditor\n            subject={emailConfig.subject || `Report: ${reportName || 'Untitled'}`}\n            body={emailConfig.body || ''}\n            reportName={reportName}\n            onSubjectChange={(subject) => \n              onEmailConfigChange({ ...emailConfig, subject })\n            }\n            onBodyChange={(body) => \n              onEmailConfigChange({ ...emailConfig, body })\n            }\n          />\n        )}\n\n        {activeTab === 'delivery' && (\n          <div className=\"email-delivery-options\">\n            <div className=\"email-delivery-option\">\n              <label className=\"email-delivery-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={emailConfig.attachFile !== false}\n                  onChange={(e) => \n                    onEmailConfigChange({ ...emailConfig, attachFile: e.target.checked })\n                  }\n                />\n                <span>Attach report file to email</span>\n              </label>\n            </div>\n            <div className=\"email-delivery-option\">\n              <label className=\"email-delivery-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={emailConfig.includeLink === true}\n                  onChange={(e) => \n                    onEmailConfigChange({ ...emailConfig, includeLink: e.target.checked })\n                  }\n                />\n                <span>Include download link in email</span>\n              </label>\n            </div>\n            <div className=\"email-delivery-option\">\n              <label className=\"email-delivery-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={emailConfig.embedData === true}\n                  onChange={(e) => \n                    onEmailConfigChange({ ...emailConfig, embedData: e.target.checked })\n                  }\n                />\n                <span>Embed report data in email body (for small reports)</span>\n              </label>\n            </div>\n            <div className=\"email-delivery-option\">\n              <label className=\"email-delivery-label\">\n                <span>Delivery Method:</span>\n                <select\n                  value={emailConfig.deliveryMethod || 'email'}\n                  onChange={(e) => \n                    onEmailConfigChange({ ...emailConfig, deliveryMethod: e.target.value })\n                  }\n                  className=\"email-delivery-select\"\n                >\n                  <option value=\"email\">Email Only</option>\n                  <option value=\"email_and_cloud\">Email + Cloud Storage</option>\n                  <option value=\"cloud_only\">Cloud Storage Only</option>\n                </select>\n              </label>\n            </div>\n            {emailConfig.deliveryMethod !== 'email' && (\n              <div className=\"email-delivery-option\">\n                <label className=\"email-delivery-label\">\n                  <span>Cloud Storage:</span>\n                  <select\n                    value={emailConfig.cloudStorage || 'none'}\n                    onChange={(e) => \n                      onEmailConfigChange({ ...emailConfig, cloudStorage: e.target.value })\n                    }\n                    className=\"email-delivery-select\"\n                  >\n                    <option value=\"none\">None</option>\n                    <option value=\"google_drive\">Google Drive</option>\n                    <option value=\"dropbox\">Dropbox</option>\n                    <option value=\"onedrive\">OneDrive</option>\n                  </select>\n                </label>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EmailConfig;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}