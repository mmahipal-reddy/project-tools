{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/pages/UpdateObjectFields/components/MultipleFieldsUpdate.js\",\n  _s = $RefreshSig$();\n// MultipleFieldsUpdate component - Handles multiple fields update form\n\nimport React, { useEffect } from 'react';\nimport { Plus, Trash2 } from 'lucide-react';\nimport FieldValueInput from './FieldValueInput';\nimport { DEFAULT_MULTIPLE_FIELD_UPDATE, UPDATE_MODES } from '../constants';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MultipleFieldsUpdate = ({\n  selectedObject,\n  fields,\n  loadingFields,\n  multipleFieldUpdates,\n  setMultipleFieldUpdates,\n  fetchPicklistValues,\n  searchReference\n}) => {\n  _s();\n  // Sync fieldInfo when fields change to prevent losing selections\n  // This ensures that when fields are re-fetched, the fieldInfo in multipleFieldUpdates stays in sync\n  // IMPORTANT: This should NOT run when user is actively selecting values - only when fields array changes\n  useEffect(() => {\n    if (fields.length > 0) {\n      // Use functional update to get latest state and avoid stale closures\n      setMultipleFieldUpdates(prevUpdates => {\n        if (prevUpdates.length === 0) return prevUpdates;\n\n        // Check if any fieldUpdate needs fieldInfo syncing\n        let hasChanges = false;\n        const updated = prevUpdates.map(fieldUpdate => {\n          if (fieldUpdate.fieldName && fieldUpdate.fieldName !== '') {\n            const currentFieldInfo = fields.find(f => f.name === fieldUpdate.fieldName);\n            // Only update if fieldInfo is missing or stale\n            if (currentFieldInfo && (!fieldUpdate.fieldInfo || fieldUpdate.fieldInfo.name !== currentFieldInfo.name)) {\n              hasChanges = true;\n              return {\n                ...fieldUpdate,\n                // Preserve ALL fields including newValue, currentValue, etc.\n                fieldInfo: currentFieldInfo,\n                // Only update picklistValues if they're missing or empty, don't overwrite if already fetched\n                picklistValues: currentFieldInfo.type === 'picklist' || currentFieldInfo.type === 'multipicklist' ? fieldUpdate.picklistValues && fieldUpdate.picklistValues.length > 0 ? fieldUpdate.picklistValues // Keep existing picklistValues if already fetched\n                : currentFieldInfo.picklistValues || [] // Use from fieldInfo if not fetched yet\n                : fieldUpdate.picklistValues || []\n              };\n            }\n          }\n          return fieldUpdate; // No changes needed\n        });\n\n        // Only return updated array if something actually changed\n        return hasChanges ? updated : prevUpdates;\n      });\n    }\n  }, [fields]); // Only depend on fields - use functional update to avoid needing multipleFieldUpdates in deps\n  const addFieldUpdate = () => {\n    setMultipleFieldUpdates(prevUpdates => [...prevUpdates, {\n      ...DEFAULT_MULTIPLE_FIELD_UPDATE,\n      id: Date.now()\n    }]);\n  };\n  const removeFieldUpdate = id => {\n    setMultipleFieldUpdates(prevUpdates => {\n      if (prevUpdates.length > 1) {\n        return prevUpdates.filter(field => field.id !== id);\n      } else {\n        toast.error('At least one field update is required');\n        return prevUpdates;\n      }\n    });\n  };\n  const updateFieldUpdate = (id, updates) => {\n    console.log('[MultipleFieldsUpdate] updateFieldUpdate called for id:', id, 'updates:', updates);\n    setMultipleFieldUpdates(prevUpdates => {\n      const updated = prevUpdates.map(field => {\n        if (field.id === id) {\n          const merged = {\n            ...field,\n            ...updates\n          };\n          console.log('[MultipleFieldsUpdate] Updated fieldUpdate:', merged);\n          return merged;\n        }\n        return field;\n      });\n      return updated;\n    });\n  };\n  const handleFieldChange = (fieldUpdateId, fieldName) => {\n    const fieldInfo = fields.find(f => f.name === fieldName);\n    const updates = {\n      fieldName: fieldName,\n      fieldInfo: fieldInfo,\n      newValue: '',\n      currentValue: '',\n      picklistValues: fieldInfo && (fieldInfo.type === 'picklist' || fieldInfo.type === 'multipicklist') ? fieldInfo.picklistValues || [] : [],\n      referenceSearchTerm: '',\n      referenceSearchResults: [],\n      currentValueReferenceSearchTerm: '',\n      currentValueReferenceSearchResults: []\n    };\n    updateFieldUpdate(fieldUpdateId, updates);\n\n    // Fetch picklist values if needed\n    if (fieldInfo && (fieldInfo.type === 'picklist' || fieldInfo.type === 'multipicklist')) {\n      fetchPicklistValues(selectedObject, fieldName).then(values => {\n        // Use functional update to preserve newValue and other fields\n        setMultipleFieldUpdates(prevUpdates => prevUpdates.map(field => {\n          if (field.id === fieldUpdateId) {\n            console.log('[MultipleFieldsUpdate] Updating picklistValues for fieldUpdate', fieldUpdateId, 'preserving newValue:', field.newValue);\n            // Preserve all existing values, only update picklistValues\n            return {\n              ...field,\n              picklistValues: values\n            };\n          }\n          return field;\n        }));\n      }).catch(error => {\n        console.error('[MultipleFieldsUpdate] Error fetching picklist values:', error);\n      });\n    }\n  };\n  const handleReferenceSearch = async (fieldUpdateId, searchTerm, isCurrentValue = false) => {\n    // Use functional update to get latest fieldUpdate\n    setMultipleFieldUpdates(prevUpdates => {\n      const fieldUpdate = prevUpdates.find(f => f.id === fieldUpdateId);\n      if (!fieldUpdate || !fieldUpdate.fieldInfo || !fieldUpdate.fieldInfo.referenceTo) return prevUpdates;\n\n      // Update searching state\n      const updated = prevUpdates.map(field => {\n        if (field.id === fieldUpdateId) {\n          return {\n            ...field,\n            [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: true,\n            [isCurrentValue ? 'showCurrentValueReferenceDropdown' : 'showReferenceDropdown']: true\n          };\n        }\n        return field;\n      });\n\n      // Perform search asynchronously\n      searchReference(fieldUpdate.fieldInfo.referenceTo, searchTerm).then(results => {\n        setMultipleFieldUpdates(prev => prev.map(field => {\n          if (field.id === fieldUpdateId) {\n            return {\n              ...field,\n              [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: results,\n              [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false\n            };\n          }\n          return field;\n        }));\n      }).catch(error => {\n        console.error('[MultipleFieldsUpdate] Reference search error:', error);\n        setMultipleFieldUpdates(prev => prev.map(field => {\n          if (field.id === fieldUpdateId) {\n            return {\n              ...field,\n              [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: [],\n              [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false\n            };\n          }\n          return field;\n        }));\n      });\n      return updated;\n    });\n  };\n  const handleReferenceSelect = (fieldUpdateId, record, isCurrentValue = false) => {\n    updateFieldUpdate(fieldUpdateId, {\n      [isCurrentValue ? 'currentValue' : 'newValue']: record.id || record.Id,\n      [isCurrentValue ? 'currentValueReferenceSearchTerm' : 'referenceSearchTerm']: record.name || record.Name,\n      [isCurrentValue ? 'showCurrentValueReferenceDropdown' : 'showReferenceDropdown']: false,\n      [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false,\n      [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: []\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [multipleFieldUpdates.map((fieldUpdate, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '16px',\n        padding: '16px',\n        border: '1px solid #e5e7eb',\n        borderRadius: '8px',\n        backgroundColor: '#fafafa'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            fontSize: '14px',\n            fontWeight: '600'\n          },\n          children: [\"Field Update \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), multipleFieldUpdates.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => removeFieldUpdate(fieldUpdate.id),\n          style: {\n            padding: '4px 8px',\n            fontSize: '11px',\n            backgroundColor: '#fee2e2',\n            color: '#dc2626',\n            border: '1px solid #fecaca',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this), \"Remove\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-grid compact-grid single-field-update-grid\",\n        style: {\n          gridTemplateColumns: fieldUpdate.updateMode === UPDATE_MODES.SPECIFIC ? '1fr 1fr 1fr 1fr' : '1fr 1fr 1fr',\n          gap: '10px',\n          display: 'grid',\n          width: '100%',\n          minWidth: 0,\n          alignItems: 'start'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Field *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), loadingFields ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '6px',\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: \"Loading fields...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n            value: fieldUpdate.fieldName || '',\n            onChange: e => handleFieldChange(fieldUpdate.id, e.target.value),\n            disabled: !selectedObject || fields.length === 0,\n            style: {\n              fontSize: '12px',\n              padding: '6px 10px',\n              height: '32px',\n              width: '100%',\n              border: '1px solid #d1d5db',\n              borderRadius: '4px',\n              backgroundColor: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"--Select Field--\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this), fields.map(field => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: field.name,\n              children: [field.label, \" (\", field.type, \")\"]\n            }, field.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this)), fieldUpdate.fieldName && !fields.find(f => f.name === fieldUpdate.fieldName) && /*#__PURE__*/_jsxDEV(\"option\", {\n              value: fieldUpdate.fieldName,\n              disabled: true,\n              children: [fieldUpdate.fieldName, \" (Not available)\"]\n            }, fieldUpdate.fieldName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 21\n            }, this)]\n          }, `field-select-${fieldUpdate.id}-${fieldUpdate.fieldName || 'empty'}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Update Mode *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: fieldUpdate.updateMode,\n            onChange: e => updateFieldUpdate(fieldUpdate.id, {\n              updateMode: e.target.value,\n              currentValue: ''\n            }),\n            style: {\n              fontSize: '12px',\n              padding: '6px 10px',\n              height: '32px',\n              width: '100%',\n              border: '1px solid #d1d5db',\n              borderRadius: '4px',\n              backgroundColor: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: UPDATE_MODES.ALL,\n              children: \"Update All Records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: UPDATE_MODES.SPECIFIC,\n              children: \"Update Only Records with Specific Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), fieldUpdate.updateMode === UPDATE_MODES.SPECIFIC && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Current Value *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FieldValueInput, {\n            value: fieldUpdate.currentValue,\n            onChange: value => updateFieldUpdate(fieldUpdate.id, {\n              currentValue: value\n            }),\n            fieldInfo: fieldUpdate.fieldInfo,\n            picklistValues: fieldUpdate.picklistValues,\n            placeholder: \"Enter current value to update\",\n            disabled: !fieldUpdate.fieldName,\n            isCurrentValue: true,\n            currentValueReferenceSearchTerm: fieldUpdate.currentValueReferenceSearchTerm,\n            setCurrentValueReferenceSearchTerm: term => {\n              updateFieldUpdate(fieldUpdate.id, {\n                currentValueReferenceSearchTerm: term\n              });\n              if (term && term.trim() !== '') {\n                handleReferenceSearch(fieldUpdate.id, term, true);\n              }\n            },\n            currentValueReferenceSearchResults: fieldUpdate.currentValueReferenceSearchResults,\n            searchingCurrentValueReference: fieldUpdate.searchingCurrentValueReference,\n            showCurrentValueReferenceDropdown: fieldUpdate.showCurrentValueReferenceDropdown,\n            setShowCurrentValueReferenceDropdown: show => updateFieldUpdate(fieldUpdate.id, {\n              showCurrentValueReferenceDropdown: show\n            }),\n            onCurrentValueReferenceSelect: record => handleReferenceSelect(fieldUpdate.id, record, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"New Value *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FieldValueInput, {\n            value: fieldUpdate.newValue || '',\n            onChange: value => {\n              console.log('[MultipleFieldsUpdate] Updating newValue for fieldUpdate', fieldUpdate.id, 'to:', value);\n              updateFieldUpdate(fieldUpdate.id, {\n                newValue: value\n              });\n            },\n            fieldInfo: fieldUpdate.fieldInfo,\n            picklistValues: fieldUpdate.picklistValues,\n            placeholder: fieldUpdate.fieldInfo ? `Enter new value for ${fieldUpdate.fieldInfo.label}` : 'Enter new value',\n            disabled: !fieldUpdate.fieldName,\n            referenceSearchTerm: fieldUpdate.referenceSearchTerm,\n            setReferenceSearchTerm: term => {\n              // Update search term without clearing newValue\n              // newValue will be set when a record is selected via onReferenceSelect\n              updateFieldUpdate(fieldUpdate.id, {\n                referenceSearchTerm: term\n              });\n              if (term && term.trim() !== '') {\n                handleReferenceSearch(fieldUpdate.id, term, false);\n              }\n            },\n            referenceSearchResults: fieldUpdate.referenceSearchResults,\n            searchingReference: fieldUpdate.searchingReference,\n            showReferenceDropdown: fieldUpdate.showReferenceDropdown,\n            setShowReferenceDropdown: show => updateFieldUpdate(fieldUpdate.id, {\n              showReferenceDropdown: show\n            }),\n            onReferenceSelect: record => handleReferenceSelect(fieldUpdate.id, record, false)\n          }, `new-value-${fieldUpdate.id}-${fieldUpdate.fieldName || 'empty'}-${fieldUpdate.newValue || 'empty'}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, `multiple-field-grid-${fieldUpdate.id}-${fieldUpdate.updateMode}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this)]\n    }, fieldUpdate.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: addFieldUpdate,\n      style: {\n        padding: '8px 16px',\n        fontSize: '12px',\n        backgroundColor: '#f0f9ff',\n        color: '#0284c7',\n        border: '1px solid #bae6fd',\n        borderRadius: '6px',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '6px',\n        marginTop: '12px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Plus, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), \"Add Another Field\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(MultipleFieldsUpdate, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = MultipleFieldsUpdate;\nexport default MultipleFieldsUpdate;\nvar _c;\n$RefreshReg$(_c, \"MultipleFieldsUpdate\");","map":{"version":3,"names":["React","useEffect","Plus","Trash2","FieldValueInput","DEFAULT_MULTIPLE_FIELD_UPDATE","UPDATE_MODES","toast","jsxDEV","_jsxDEV","MultipleFieldsUpdate","selectedObject","fields","loadingFields","multipleFieldUpdates","setMultipleFieldUpdates","fetchPicklistValues","searchReference","_s","length","prevUpdates","hasChanges","updated","map","fieldUpdate","fieldName","currentFieldInfo","find","f","name","fieldInfo","picklistValues","type","addFieldUpdate","id","Date","now","removeFieldUpdate","filter","field","error","updateFieldUpdate","updates","console","log","merged","handleFieldChange","fieldUpdateId","newValue","currentValue","referenceSearchTerm","referenceSearchResults","currentValueReferenceSearchTerm","currentValueReferenceSearchResults","then","values","catch","handleReferenceSearch","searchTerm","isCurrentValue","referenceTo","results","prev","handleReferenceSelect","record","Id","Name","children","index","style","marginBottom","padding","border","borderRadius","backgroundColor","display","justifyContent","alignItems","margin","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","onClick","color","cursor","gap","size","className","gridTemplateColumns","updateMode","SPECIFIC","width","minWidth","value","onChange","e","target","disabled","height","label","ALL","placeholder","setCurrentValueReferenceSearchTerm","term","trim","searchingCurrentValueReference","showCurrentValueReferenceDropdown","setShowCurrentValueReferenceDropdown","show","onCurrentValueReferenceSelect","setReferenceSearchTerm","searchingReference","showReferenceDropdown","setShowReferenceDropdown","onReferenceSelect","marginTop","_c","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/UpdateObjectFields/components/MultipleFieldsUpdate.js"],"sourcesContent":["// MultipleFieldsUpdate component - Handles multiple fields update form\n\nimport React, { useEffect } from 'react';\nimport { Plus, Trash2 } from 'lucide-react';\nimport FieldValueInput from './FieldValueInput';\nimport { DEFAULT_MULTIPLE_FIELD_UPDATE, UPDATE_MODES } from '../constants';\nimport toast from 'react-hot-toast';\n\nconst MultipleFieldsUpdate = ({\n  selectedObject,\n  fields,\n  loadingFields,\n  multipleFieldUpdates,\n  setMultipleFieldUpdates,\n  fetchPicklistValues,\n  searchReference\n}) => {\n  // Sync fieldInfo when fields change to prevent losing selections\n  // This ensures that when fields are re-fetched, the fieldInfo in multipleFieldUpdates stays in sync\n  // IMPORTANT: This should NOT run when user is actively selecting values - only when fields array changes\n  useEffect(() => {\n    if (fields.length > 0) {\n      // Use functional update to get latest state and avoid stale closures\n      setMultipleFieldUpdates(prevUpdates => {\n        if (prevUpdates.length === 0) return prevUpdates;\n        \n        // Check if any fieldUpdate needs fieldInfo syncing\n        let hasChanges = false;\n        const updated = prevUpdates.map(fieldUpdate => {\n          if (fieldUpdate.fieldName && fieldUpdate.fieldName !== '') {\n            const currentFieldInfo = fields.find(f => f.name === fieldUpdate.fieldName);\n            // Only update if fieldInfo is missing or stale\n            if (currentFieldInfo && (!fieldUpdate.fieldInfo || fieldUpdate.fieldInfo.name !== currentFieldInfo.name)) {\n              hasChanges = true;\n              return {\n                ...fieldUpdate, // Preserve ALL fields including newValue, currentValue, etc.\n                fieldInfo: currentFieldInfo,\n                // Only update picklistValues if they're missing or empty, don't overwrite if already fetched\n                picklistValues: (currentFieldInfo.type === 'picklist' || currentFieldInfo.type === 'multipicklist')\n                  ? (fieldUpdate.picklistValues && fieldUpdate.picklistValues.length > 0 \n                      ? fieldUpdate.picklistValues // Keep existing picklistValues if already fetched\n                      : (currentFieldInfo.picklistValues || [])) // Use from fieldInfo if not fetched yet\n                  : fieldUpdate.picklistValues || []\n              };\n            }\n          }\n          return fieldUpdate; // No changes needed\n        });\n        \n        // Only return updated array if something actually changed\n        return hasChanges ? updated : prevUpdates;\n      });\n    }\n  }, [fields]); // Only depend on fields - use functional update to avoid needing multipleFieldUpdates in deps\n  const addFieldUpdate = () => {\n    setMultipleFieldUpdates(prevUpdates => [...prevUpdates, {\n      ...DEFAULT_MULTIPLE_FIELD_UPDATE,\n      id: Date.now()\n    }]);\n  };\n\n  const removeFieldUpdate = (id) => {\n    setMultipleFieldUpdates(prevUpdates => {\n      if (prevUpdates.length > 1) {\n        return prevUpdates.filter(field => field.id !== id);\n      } else {\n        toast.error('At least one field update is required');\n        return prevUpdates;\n      }\n    });\n  };\n\n  const updateFieldUpdate = (id, updates) => {\n    console.log('[MultipleFieldsUpdate] updateFieldUpdate called for id:', id, 'updates:', updates);\n    setMultipleFieldUpdates(prevUpdates => {\n      const updated = prevUpdates.map(field => {\n        if (field.id === id) {\n          const merged = { ...field, ...updates };\n          console.log('[MultipleFieldsUpdate] Updated fieldUpdate:', merged);\n          return merged;\n        }\n        return field;\n      });\n      return updated;\n    });\n  };\n\n  const handleFieldChange = (fieldUpdateId, fieldName) => {\n    const fieldInfo = fields.find(f => f.name === fieldName);\n    const updates = {\n      fieldName: fieldName,\n      fieldInfo: fieldInfo,\n      newValue: '',\n      currentValue: '',\n      picklistValues: fieldInfo && (fieldInfo.type === 'picklist' || fieldInfo.type === 'multipicklist') \n        ? (fieldInfo.picklistValues || []) \n        : [],\n      referenceSearchTerm: '',\n      referenceSearchResults: [],\n      currentValueReferenceSearchTerm: '',\n      currentValueReferenceSearchResults: []\n    };\n    updateFieldUpdate(fieldUpdateId, updates);\n    \n    // Fetch picklist values if needed\n    if (fieldInfo && (fieldInfo.type === 'picklist' || fieldInfo.type === 'multipicklist')) {\n      fetchPicklistValues(selectedObject, fieldName).then(values => {\n        // Use functional update to preserve newValue and other fields\n        setMultipleFieldUpdates(prevUpdates => prevUpdates.map(field => {\n          if (field.id === fieldUpdateId) {\n            console.log('[MultipleFieldsUpdate] Updating picklistValues for fieldUpdate', fieldUpdateId, 'preserving newValue:', field.newValue);\n            // Preserve all existing values, only update picklistValues\n            return { ...field, picklistValues: values };\n          }\n          return field;\n        }));\n      }).catch(error => {\n        console.error('[MultipleFieldsUpdate] Error fetching picklist values:', error);\n      });\n    }\n  };\n\n  const handleReferenceSearch = async (fieldUpdateId, searchTerm, isCurrentValue = false) => {\n    // Use functional update to get latest fieldUpdate\n    setMultipleFieldUpdates(prevUpdates => {\n      const fieldUpdate = prevUpdates.find(f => f.id === fieldUpdateId);\n      if (!fieldUpdate || !fieldUpdate.fieldInfo || !fieldUpdate.fieldInfo.referenceTo) return prevUpdates;\n\n      // Update searching state\n      const updated = prevUpdates.map(field => {\n        if (field.id === fieldUpdateId) {\n          return {\n            ...field,\n            [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: true,\n            [isCurrentValue ? 'showCurrentValueReferenceDropdown' : 'showReferenceDropdown']: true\n          };\n        }\n        return field;\n      });\n      \n      // Perform search asynchronously\n      searchReference(fieldUpdate.fieldInfo.referenceTo, searchTerm)\n        .then(results => {\n          setMultipleFieldUpdates(prev => prev.map(field => {\n            if (field.id === fieldUpdateId) {\n              return {\n                ...field,\n                [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: results,\n                [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false\n              };\n            }\n            return field;\n          }));\n        })\n        .catch(error => {\n          console.error('[MultipleFieldsUpdate] Reference search error:', error);\n          setMultipleFieldUpdates(prev => prev.map(field => {\n            if (field.id === fieldUpdateId) {\n              return {\n                ...field,\n                [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: [],\n                [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false\n              };\n            }\n            return field;\n          }));\n        });\n      \n      return updated;\n    });\n  };\n\n  const handleReferenceSelect = (fieldUpdateId, record, isCurrentValue = false) => {\n    updateFieldUpdate(fieldUpdateId, {\n      [isCurrentValue ? 'currentValue' : 'newValue']: record.id || record.Id,\n      [isCurrentValue ? 'currentValueReferenceSearchTerm' : 'referenceSearchTerm']: record.name || record.Name,\n      [isCurrentValue ? 'showCurrentValueReferenceDropdown' : 'showReferenceDropdown']: false,\n      [isCurrentValue ? 'searchingCurrentValueReference' : 'searchingReference']: false,\n      [isCurrentValue ? 'currentValueReferenceSearchResults' : 'referenceSearchResults']: []\n    });\n  };\n\n  return (\n    <div>\n      {multipleFieldUpdates.map((fieldUpdate, index) => (\n        <div key={fieldUpdate.id} style={{ \n          marginBottom: '16px', \n          padding: '16px', \n          border: '1px solid #e5e7eb', \n          borderRadius: '8px',\n          backgroundColor: '#fafafa'\n        }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '12px' }}>\n            <h3 style={{ margin: 0, fontSize: '14px', fontWeight: '600' }}>Field Update {index + 1}</h3>\n            {multipleFieldUpdates.length > 1 && (\n              <button\n                type=\"button\"\n                onClick={() => removeFieldUpdate(fieldUpdate.id)}\n                style={{\n                  padding: '4px 8px',\n                  fontSize: '11px',\n                  backgroundColor: '#fee2e2',\n                  color: '#dc2626',\n                  border: '1px solid #fecaca',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '4px'\n                }}\n              >\n                <Trash2 size={12} />\n                Remove\n              </button>\n            )}\n          </div>\n          <div \n            key={`multiple-field-grid-${fieldUpdate.id}-${fieldUpdate.updateMode}`}\n            className=\"form-grid compact-grid single-field-update-grid\" \n            style={{ \n              gridTemplateColumns: fieldUpdate.updateMode === UPDATE_MODES.SPECIFIC ? '1fr 1fr 1fr 1fr' : '1fr 1fr 1fr', \n              gap: '10px',\n              display: 'grid',\n              width: '100%',\n              minWidth: 0,\n              alignItems: 'start'\n            }}\n          >\n            <div className=\"form-group\">\n              <label>Field *</label>\n              {loadingFields ? (\n                <div style={{ padding: '6px', fontSize: '12px', color: '#666' }}>Loading fields...</div>\n              ) : (\n                <select\n                  key={`field-select-${fieldUpdate.id}-${fieldUpdate.fieldName || 'empty'}`}\n                  value={fieldUpdate.fieldName || ''}\n                  onChange={(e) => handleFieldChange(fieldUpdate.id, e.target.value)}\n                  disabled={!selectedObject || fields.length === 0}\n                  style={{ fontSize: '12px', padding: '6px 10px', height: '32px', width: '100%', border: '1px solid #d1d5db', borderRadius: '4px', backgroundColor: '#fff' }}\n                >\n                  <option value=\"\">--Select Field--</option>\n                  {fields.map((field) => (\n                    <option key={field.name} value={field.name}>\n                      {field.label} ({field.type})\n                    </option>\n                  ))}\n                  {/* Preserve selected field even if not in current fields list (temporary) */}\n                  {fieldUpdate.fieldName && !fields.find(f => f.name === fieldUpdate.fieldName) && (\n                    <option key={fieldUpdate.fieldName} value={fieldUpdate.fieldName} disabled>\n                      {fieldUpdate.fieldName} (Not available)\n                    </option>\n                  )}\n                </select>\n              )}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Update Mode *</label>\n              <select\n                value={fieldUpdate.updateMode}\n                onChange={(e) => updateFieldUpdate(fieldUpdate.id, {\n                  updateMode: e.target.value,\n                  currentValue: ''\n                })}\n                style={{ fontSize: '12px', padding: '6px 10px', height: '32px', width: '100%', border: '1px solid #d1d5db', borderRadius: '4px', backgroundColor: '#fff' }}\n              >\n                <option value={UPDATE_MODES.ALL}>Update All Records</option>\n                <option value={UPDATE_MODES.SPECIFIC}>Update Only Records with Specific Value</option>\n              </select>\n            </div>\n\n            {fieldUpdate.updateMode === UPDATE_MODES.SPECIFIC && (\n              <div className=\"form-group\">\n                <label>Current Value *</label>\n                <FieldValueInput\n                  value={fieldUpdate.currentValue}\n                  onChange={(value) => updateFieldUpdate(fieldUpdate.id, { currentValue: value })}\n                  fieldInfo={fieldUpdate.fieldInfo}\n                  picklistValues={fieldUpdate.picklistValues}\n                  placeholder=\"Enter current value to update\"\n                  disabled={!fieldUpdate.fieldName}\n                  isCurrentValue={true}\n                  currentValueReferenceSearchTerm={fieldUpdate.currentValueReferenceSearchTerm}\n                  setCurrentValueReferenceSearchTerm={(term) => {\n                    updateFieldUpdate(fieldUpdate.id, { currentValueReferenceSearchTerm: term });\n                    if (term && term.trim() !== '') {\n                      handleReferenceSearch(fieldUpdate.id, term, true);\n                    }\n                  }}\n                  currentValueReferenceSearchResults={fieldUpdate.currentValueReferenceSearchResults}\n                  searchingCurrentValueReference={fieldUpdate.searchingCurrentValueReference}\n                  showCurrentValueReferenceDropdown={fieldUpdate.showCurrentValueReferenceDropdown}\n                  setShowCurrentValueReferenceDropdown={(show) => updateFieldUpdate(fieldUpdate.id, { showCurrentValueReferenceDropdown: show })}\n                  onCurrentValueReferenceSelect={(record) => handleReferenceSelect(fieldUpdate.id, record, true)}\n                />\n              </div>\n            )}\n\n            <div className=\"form-group\">\n              <label>New Value *</label>\n              <FieldValueInput\n                key={`new-value-${fieldUpdate.id}-${fieldUpdate.fieldName || 'empty'}-${fieldUpdate.newValue || 'empty'}`}\n                value={fieldUpdate.newValue || ''}\n                onChange={(value) => {\n                  console.log('[MultipleFieldsUpdate] Updating newValue for fieldUpdate', fieldUpdate.id, 'to:', value);\n                  updateFieldUpdate(fieldUpdate.id, { newValue: value });\n                }}\n                fieldInfo={fieldUpdate.fieldInfo}\n                picklistValues={fieldUpdate.picklistValues}\n                placeholder={fieldUpdate.fieldInfo ? `Enter new value for ${fieldUpdate.fieldInfo.label}` : 'Enter new value'}\n                disabled={!fieldUpdate.fieldName}\n                referenceSearchTerm={fieldUpdate.referenceSearchTerm}\n                setReferenceSearchTerm={(term) => {\n                  // Update search term without clearing newValue\n                  // newValue will be set when a record is selected via onReferenceSelect\n                  updateFieldUpdate(fieldUpdate.id, { referenceSearchTerm: term });\n                  if (term && term.trim() !== '') {\n                    handleReferenceSearch(fieldUpdate.id, term, false);\n                  }\n                }}\n                referenceSearchResults={fieldUpdate.referenceSearchResults}\n                searchingReference={fieldUpdate.searchingReference}\n                showReferenceDropdown={fieldUpdate.showReferenceDropdown}\n                setShowReferenceDropdown={(show) => updateFieldUpdate(fieldUpdate.id, { showReferenceDropdown: show })}\n                onReferenceSelect={(record) => handleReferenceSelect(fieldUpdate.id, record, false)}\n              />\n            </div>\n          </div>\n        </div>\n      ))}\n      <button\n        type=\"button\"\n        onClick={addFieldUpdate}\n        style={{\n          padding: '8px 16px',\n          fontSize: '12px',\n          backgroundColor: '#f0f9ff',\n          color: '#0284c7',\n          border: '1px solid #bae6fd',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '6px',\n          marginTop: '12px'\n        }}\n      >\n        <Plus size={14} />\n        Add Another Field\n      </button>\n    </div>\n  );\n};\n\nexport default MultipleFieldsUpdate;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}