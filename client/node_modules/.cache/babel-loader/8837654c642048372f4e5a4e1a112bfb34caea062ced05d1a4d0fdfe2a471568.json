{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * Error handling utilities\n * Provides consistent error handling and user-friendly error messages\n *//**\n * Gets user-friendly error message from error object\n * @param {Error|object} error - Error object\n * @returns {string} - User-friendly error message\n */export const getErrorMessage=error=>{var _error$message,_error$message2,_error$message3,_error$message4,_error$message5;if(!error)return'An unexpected error occurred. Please try again.';// If it's already a string, return it\nif(typeof error==='string'){return error;}// Check for axios error response\nif(error.response){const{status,data}=error.response;// Handle different HTTP status codes\nswitch(status){case 400:return(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message)||'Invalid request. Please check your input and try again.';case 401:return'Your session has expired. Please log in again.';case 403:return'You do not have permission to perform this action.';case 404:return'The requested resource was not found.';case 409:return(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message)||'A conflict occurred. This record may already exist.';case 422:return(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message)||'Validation failed. Please check your input.';case 429:return'Too many requests. Please wait a moment and try again.';case 500:return(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message)||'Server error. Please try again later.';case 503:return'Service temporarily unavailable. Please try again later.';default:return(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message)||\"Request failed with status \".concat(status,\". Please try again.\");}}// Check for network error\nif(error.code==='ERR_NETWORK'||(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Network Error')){return'Network error. Please check your internet connection and try again.';}// Check for aborted requests (user cancelled or new request started)\nif(error.name==='AbortError'||error.name==='CanceledError'||error.code==='ECONNABORTED'&&(_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('aborted')){return null;// Don't show error for aborted requests\n}// Check for timeout error (only if not aborted)\nif(error.code==='ECONNABORTED'||(_error$message3=error.message)!==null&&_error$message3!==void 0&&_error$message3.includes('timeout')){return'Request timed out. Please try again.';}// Check for CORS error\nif((_error$message4=error.message)!==null&&_error$message4!==void 0&&_error$message4.includes('CORS')||(_error$message5=error.message)!==null&&_error$message5!==void 0&&_error$message5.includes('Cross-Origin')){return'Connection error. Please ensure the server is running and CORS is configured correctly.';}// Check for Salesforce-specific errors\nif(error.errorCode){switch(error.errorCode){case'INVALID_LOGIN':return'Invalid Salesforce credentials. Please check your Salesforce settings.';case'INVALID_FIELD':return'Invalid field value. Please check your input.';case'REQUIRED_FIELD_MISSING':return'Required field is missing. Please fill in all required fields.';case'FIELD_FILTER_VALIDATION_EXCEPTION':return error.message||'Field validation failed. Please check your input.';case'FIELD_CUSTOM_VALIDATION_EXCEPTION':return error.message||'Validation failed. Please check your input.';default:return error.message||'Salesforce error. Please check your input and try again.';}}// Return error message if available\nif(error.message){return error.message;}// Default error message\nreturn'An unexpected error occurred. Please try again.';};/**\n * Gets detailed error information for logging\n * @param {Error|object} error - Error object\n * @returns {object} - Detailed error information\n */export const getErrorDetails=error=>{if(!error)return{};const details={message:error.message||'Unknown error',name:error.name||'Error',stack:error.stack};if(error.response){var _error$config,_error$config2;details.status=error.response.status;details.statusText=error.response.statusText;details.data=error.response.data;details.url=(_error$config=error.config)===null||_error$config===void 0?void 0:_error$config.url;details.method=(_error$config2=error.config)===null||_error$config2===void 0?void 0:_error$config2.method;}if(error.code){details.code=error.code;}if(error.errorCode){details.errorCode=error.errorCode;}return details;};/**\n * Logs error with details\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n */export const logError=function(error){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const errorDetails=getErrorDetails(error);const userMessage=getErrorMessage(error);console.error(\"[\".concat(context,\"] Error:\"),_objectSpread(_objectSpread({},errorDetails),{},{userMessage,timestamp:new Date().toISOString()}));};/**\n * Handles error and returns user-friendly message\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n * @returns {string} - User-friendly error message (null if aborted)\n */export const handleError=function(error){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';// Don't log or show errors for aborted requests\nif((error===null||error===void 0?void 0:error.name)==='AbortError'||(error===null||error===void 0?void 0:error.name)==='CanceledError'){return null;}const errorMessage=getErrorMessage(error);// Don't log if error message is null (aborted request)\nif(errorMessage!==null){logError(error,context);}return errorMessage;};","map":{"version":3,"names":["getErrorMessage","error","_error$message","_error$message2","_error$message3","_error$message4","_error$message5","response","status","data","message","concat","code","includes","name","errorCode","getErrorDetails","details","stack","_error$config","_error$config2","statusText","url","config","method","logError","context","arguments","length","undefined","errorDetails","userMessage","console","_objectSpread","timestamp","Date","toISOString","handleError","errorMessage"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/errorHandler.js"],"sourcesContent":["/**\n * Error handling utilities\n * Provides consistent error handling and user-friendly error messages\n */\n\n/**\n * Gets user-friendly error message from error object\n * @param {Error|object} error - Error object\n * @returns {string} - User-friendly error message\n */\nexport const getErrorMessage = (error) => {\n  if (!error) return 'An unexpected error occurred. Please try again.';\n\n  // If it's already a string, return it\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  // Check for axios error response\n  if (error.response) {\n    const { status, data } = error.response;\n    \n    // Handle different HTTP status codes\n    switch (status) {\n      case 400:\n        return data?.error || data?.message || 'Invalid request. Please check your input and try again.';\n      case 401:\n        return 'Your session has expired. Please log in again.';\n      case 403:\n        return 'You do not have permission to perform this action.';\n      case 404:\n        return 'The requested resource was not found.';\n      case 409:\n        return data?.error || data?.message || 'A conflict occurred. This record may already exist.';\n      case 422:\n        return data?.error || data?.message || 'Validation failed. Please check your input.';\n      case 429:\n        return 'Too many requests. Please wait a moment and try again.';\n      case 500:\n        return data?.error || data?.message || 'Server error. Please try again later.';\n      case 503:\n        return 'Service temporarily unavailable. Please try again later.';\n      default:\n        return data?.error || data?.message || `Request failed with status ${status}. Please try again.`;\n    }\n  }\n\n  // Check for network error\n  if (error.code === 'ERR_NETWORK' || error.message?.includes('Network Error')) {\n    return 'Network error. Please check your internet connection and try again.';\n  }\n\n  // Check for aborted requests (user cancelled or new request started)\n  if (error.name === 'AbortError' || error.name === 'CanceledError' || \n      (error.code === 'ECONNABORTED' && error.message?.includes('aborted'))) {\n    return null; // Don't show error for aborted requests\n  }\n\n  // Check for timeout error (only if not aborted)\n  if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n    return 'Request timed out. Please try again.';\n  }\n\n  // Check for CORS error\n  if (error.message?.includes('CORS') || error.message?.includes('Cross-Origin')) {\n    return 'Connection error. Please ensure the server is running and CORS is configured correctly.';\n  }\n\n  // Check for Salesforce-specific errors\n  if (error.errorCode) {\n    switch (error.errorCode) {\n      case 'INVALID_LOGIN':\n        return 'Invalid Salesforce credentials. Please check your Salesforce settings.';\n      case 'INVALID_FIELD':\n        return 'Invalid field value. Please check your input.';\n      case 'REQUIRED_FIELD_MISSING':\n        return 'Required field is missing. Please fill in all required fields.';\n      case 'FIELD_FILTER_VALIDATION_EXCEPTION':\n        return error.message || 'Field validation failed. Please check your input.';\n      case 'FIELD_CUSTOM_VALIDATION_EXCEPTION':\n        return error.message || 'Validation failed. Please check your input.';\n      default:\n        return error.message || 'Salesforce error. Please check your input and try again.';\n    }\n  }\n\n  // Return error message if available\n  if (error.message) {\n    return error.message;\n  }\n\n  // Default error message\n  return 'An unexpected error occurred. Please try again.';\n};\n\n/**\n * Gets detailed error information for logging\n * @param {Error|object} error - Error object\n * @returns {object} - Detailed error information\n */\nexport const getErrorDetails = (error) => {\n  if (!error) return {};\n\n  const details = {\n    message: error.message || 'Unknown error',\n    name: error.name || 'Error',\n    stack: error.stack\n  };\n\n  if (error.response) {\n    details.status = error.response.status;\n    details.statusText = error.response.statusText;\n    details.data = error.response.data;\n    details.url = error.config?.url;\n    details.method = error.config?.method;\n  }\n\n  if (error.code) {\n    details.code = error.code;\n  }\n\n  if (error.errorCode) {\n    details.errorCode = error.errorCode;\n  }\n\n  return details;\n};\n\n/**\n * Logs error with details\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n */\nexport const logError = (error, context = '') => {\n  const errorDetails = getErrorDetails(error);\n  const userMessage = getErrorMessage(error);\n  \n  console.error(`[${context}] Error:`, {\n    ...errorDetails,\n    userMessage,\n    timestamp: new Date().toISOString()\n  });\n};\n\n/**\n * Handles error and returns user-friendly message\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n * @returns {string} - User-friendly error message (null if aborted)\n */\nexport const handleError = (error, context = '') => {\n  // Don't log or show errors for aborted requests\n  if (error?.name === 'AbortError' || error?.name === 'CanceledError') {\n    return null;\n  }\n  \n  const errorMessage = getErrorMessage(error);\n  \n  // Don't log if error message is null (aborted request)\n  if (errorMessage !== null) {\n    logError(error, context);\n  }\n  \n  return errorMessage;\n};\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}