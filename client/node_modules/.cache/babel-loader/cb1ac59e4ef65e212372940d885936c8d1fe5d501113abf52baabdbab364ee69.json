{"ast":null,"code":"import React from'react';import{ArrowUpDown}from'lucide-react';import'../../../../styles/SortGroupCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SortGroupCard=_ref=>{let{sortBy,sortOrder,groupBy,availableFields,onSortUpdate,onGroupByUpdate}=_ref;const getFieldLabel=fieldName=>{if(typeof fieldName==='string'){const field=availableFields.find(f=>{const fName=typeof f==='string'?f:f.name;return fName===fieldName;});return field?typeof field==='string'?field:field.label||field.name:fieldName;}return fieldName;};return/*#__PURE__*/_jsxs(\"div\",{className:\"query-card sort-group-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(ArrowUpDown,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Sort & Group\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sort-group-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy||'',onChange:e=>{if(e.target.value){onSortUpdate(e.target.value,sortOrder);}else{onSortUpdate(null,'ASC');}},className:\"control-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No sorting\"}),availableFields.map(field=>{const fieldName=typeof field==='string'?field:field.name;const fieldLabel=getFieldLabel(fieldName);return/*#__PURE__*/_jsx(\"option\",{value:fieldName,children:fieldLabel},fieldName);})]})]}),sortBy&&/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder||'ASC',onChange:e=>onSortUpdate(sortBy,e.target.value),className:\"control-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"ASC\",children:\"Ascending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DESC\",children:\"Descending\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Group By\"}),/*#__PURE__*/_jsxs(\"select\",{value:groupBy||'',onChange:e=>onGroupByUpdate(e.target.value||null),className:\"control-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No grouping\"}),availableFields.map(field=>{const fieldName=typeof field==='string'?field:field.name;const fieldLabel=getFieldLabel(fieldName);return/*#__PURE__*/_jsx(\"option\",{value:fieldName,children:fieldLabel},fieldName);})]})]})]})})]});};export default SortGroupCard;","map":{"version":3,"names":["React","ArrowUpDown","jsx","_jsx","jsxs","_jsxs","SortGroupCard","_ref","sortBy","sortOrder","groupBy","availableFields","onSortUpdate","onGroupByUpdate","getFieldLabel","fieldName","field","find","f","fName","name","label","className","children","size","value","onChange","e","target","map","fieldLabel"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/AdvancedReportBuilder/QueryCanvas/cards/SortGroupCard.js"],"sourcesContent":["import React from 'react';\nimport { ArrowUpDown } from 'lucide-react';\nimport '../../../../styles/SortGroupCard.css';\n\nconst SortGroupCard = ({\n  sortBy,\n  sortOrder,\n  groupBy,\n  availableFields,\n  onSortUpdate,\n  onGroupByUpdate\n}) => {\n  const getFieldLabel = (fieldName) => {\n    if (typeof fieldName === 'string') {\n      const field = availableFields.find(f => {\n        const fName = typeof f === 'string' ? f : f.name;\n        return fName === fieldName;\n      });\n      return field ? (typeof field === 'string' ? field : field.label || field.name) : fieldName;\n    }\n    return fieldName;\n  };\n\n  return (\n    <div className=\"query-card sort-group-card\">\n      <div className=\"card-header\">\n        <div className=\"card-title\">\n          <ArrowUpDown size={18} />\n          <span>Sort & Group</span>\n        </div>\n      </div>\n      \n      <div className=\"card-content\">\n        <div className=\"sort-group-controls\">\n          <div className=\"control-group\">\n            <label>Sort By</label>\n            <select\n              value={sortBy || ''}\n              onChange={(e) => {\n                if (e.target.value) {\n                  onSortUpdate(e.target.value, sortOrder);\n                } else {\n                  onSortUpdate(null, 'ASC');\n                }\n              }}\n              className=\"control-select\"\n            >\n              <option value=\"\">No sorting</option>\n              {availableFields.map(field => {\n                const fieldName = typeof field === 'string' ? field : field.name;\n                const fieldLabel = getFieldLabel(fieldName);\n                return (\n                  <option key={fieldName} value={fieldName}>\n                    {fieldLabel}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n\n          {sortBy && (\n            <div className=\"control-group\">\n              <label>Order</label>\n              <select\n                value={sortOrder || 'ASC'}\n                onChange={(e) => onSortUpdate(sortBy, e.target.value)}\n                className=\"control-select\"\n              >\n                <option value=\"ASC\">Ascending</option>\n                <option value=\"DESC\">Descending</option>\n              </select>\n            </div>\n          )}\n\n          <div className=\"control-group\">\n            <label>Group By</label>\n            <select\n              value={groupBy || ''}\n              onChange={(e) => onGroupByUpdate(e.target.value || null)}\n              className=\"control-select\"\n            >\n              <option value=\"\">No grouping</option>\n              {availableFields.map(field => {\n                const fieldName = typeof field === 'string' ? field : field.name;\n                const fieldLabel = getFieldLabel(fieldName);\n                return (\n                  <option key={fieldName} value={fieldName}>\n                    {fieldLabel}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SortGroupCard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}