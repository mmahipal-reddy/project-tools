{"ast":null,"code":"import React from'react';import{X,Plus,Package}from'lucide-react';import FieldChip from'../FieldChip';import'../../../../styles/ObjectCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ObjectCard=_ref=>{let{objectType,fields,onFieldAdd,onFieldRemove}=_ref;const handleDrop=e=>{e.preventDefault();e.stopPropagation();try{const data=JSON.parse(e.dataTransfer.getData('application/json'));if(data.type==='field'&&!data.field.name.includes('.')){onFieldAdd(data.field);}}catch(error){console.error('Error handling drop:',error);}};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();e.dataTransfer.dropEffect='move';};return/*#__PURE__*/_jsxs(\"div\",{className:\"query-card object-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(Package,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:objectType||'Select Object'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",onDrop:handleDrop,onDragOver:handleDragOver,children:fields.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card-empty\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Drag fields here or click + Add Field\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-field-btn\",onClick:()=>{// This will open a field selector\nalert('Use the left panel to drag fields here');},children:[/*#__PURE__*/_jsx(Plus,{size:14}),\" Add Field\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card-fields\",children:[fields.map(field=>{const fieldName=typeof field==='string'?field:field.name;const fieldLabel=typeof field==='string'?field:field.label||field.name;return/*#__PURE__*/_jsx(FieldChip,{label:fieldLabel,name:fieldName,onRemove:()=>onFieldRemove(fieldName)},fieldName);}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-field-btn-small\",onClick:()=>{alert('Use the left panel to drag fields here');},children:[/*#__PURE__*/_jsx(Plus,{size:12}),\" Add Field\"]})]})})]});};export default ObjectCard;","map":{"version":3,"names":["React","X","Plus","Package","FieldChip","jsx","_jsx","jsxs","_jsxs","ObjectCard","_ref","objectType","fields","onFieldAdd","onFieldRemove","handleDrop","e","preventDefault","stopPropagation","data","JSON","parse","dataTransfer","getData","type","field","name","includes","error","console","handleDragOver","dropEffect","className","children","size","onDrop","onDragOver","length","onClick","alert","map","fieldName","fieldLabel","label","onRemove"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/AdvancedReportBuilder/QueryCanvas/cards/ObjectCard.js"],"sourcesContent":["import React from 'react';\nimport { X, Plus, Package } from 'lucide-react';\nimport FieldChip from '../FieldChip';\nimport '../../../../styles/ObjectCard.css';\n\nconst ObjectCard = ({ objectType, fields, onFieldAdd, onFieldRemove }) => {\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    try {\n      const data = JSON.parse(e.dataTransfer.getData('application/json'));\n      if (data.type === 'field' && !data.field.name.includes('.')) {\n        onFieldAdd(data.field);\n      }\n    } catch (error) {\n      console.error('Error handling drop:', error);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  return (\n    <div className=\"query-card object-card\">\n      <div className=\"card-header\">\n        <div className=\"card-title\">\n          <Package size={18} />\n          <span>{objectType || 'Select Object'}</span>\n        </div>\n      </div>\n      \n      <div\n        className=\"card-content\"\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n      >\n        {fields.length === 0 ? (\n          <div className=\"card-empty\">\n            <p>Drag fields here or click + Add Field</p>\n            <button\n              className=\"add-field-btn\"\n              onClick={() => {\n                // This will open a field selector\n                alert('Use the left panel to drag fields here');\n              }}\n            >\n              <Plus size={14} /> Add Field\n            </button>\n          </div>\n        ) : (\n          <div className=\"card-fields\">\n            {fields.map(field => {\n              const fieldName = typeof field === 'string' ? field : field.name;\n              const fieldLabel = typeof field === 'string' ? field : (field.label || field.name);\n              return (\n                <FieldChip\n                  key={fieldName}\n                  label={fieldLabel}\n                  name={fieldName}\n                  onRemove={() => onFieldRemove(fieldName)}\n                />\n              );\n            })}\n            <button\n              className=\"add-field-btn-small\"\n              onClick={() => {\n                alert('Use the left panel to drag fields here');\n              }}\n            >\n              <Plus size={12} /> Add Field\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ObjectCard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}