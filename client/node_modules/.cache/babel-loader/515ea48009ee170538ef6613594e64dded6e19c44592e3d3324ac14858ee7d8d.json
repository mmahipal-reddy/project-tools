{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{Mail}from'lucide-react';import apiClient from'../config/api';import toast from'react-hot-toast';import'../styles/Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const[email,setEmail]=useState('');const[loading,setLoading]=useState(false);const[emailSent,setEmailSent]=useState(false);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const response=await apiClient.post('/auth/forgot-password',{email:email});setEmailSent(true);toast.success(response.data.message);// In development, show the reset token and provide link\nif(response.data.resetToken){console.log('Reset Token (dev only):',response.data.resetToken);const resetLink=\"\".concat(window.location.origin,\"/reset-password?token=\").concat(response.data.resetToken);console.log('Reset Link (dev only):',resetLink);toast.success(\"Reset Token (dev only): \".concat(response.data.resetToken,\"\\nClick here: \").concat(resetLink),{duration:15000});// Also show in alert for easy copy\nsetTimeout(()=>{alert(\"Development Mode - Reset Token:\\n\".concat(response.data.resetToken,\"\\n\\nReset Link:\\n\").concat(resetLink));},500);}}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to send reset email. Please try again.';toast.error(errorMessage);}finally{setLoading(false);}};if(emailSent){return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-icon-wrapper\",children:/*#__PURE__*/_jsx(Mail,{size:40,className:\"login-icon\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Check Your Email\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"We've sent a password reset link to \",email]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'32px'},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:'#08979C',textDecoration:'none',fontSize:'14px',fontFamily:'Poppins',fontWeight:600},children:\"Back to Login\"})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-icon-wrapper\",children:/*#__PURE__*/_jsx(Mail,{size:40,className:\"login-icon\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Forgot Password\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter your email to receive a reset link\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,placeholder:\"Enter your email\",disabled:loading})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Sending...':'Send Reset Link'}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'24px'},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:'#08979C',textDecoration:'none',fontSize:'14px',fontFamily:'Poppins',fontWeight:600},children:\"Back to Login\"})})]})]})});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","useNavigate","Link","Mail","apiClient","toast","jsx","_jsx","jsxs","_jsxs","ForgotPassword","email","setEmail","loading","setLoading","emailSent","setEmailSent","navigate","handleSubmit","e","preventDefault","response","post","success","data","message","resetToken","console","log","resetLink","concat","window","location","origin","duration","setTimeout","alert","error","_error$response","_error$response$data","errorMessage","className","children","size","style","textAlign","marginTop","to","color","textDecoration","fontSize","fontFamily","fontWeight","onSubmit","htmlFor","id","type","value","onChange","target","required","placeholder","disabled"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/ForgotPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { Mail } from 'lucide-react';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport '../styles/Login.css';\n\nconst ForgotPassword = () => {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [emailSent, setEmailSent] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const response = await apiClient.post('/auth/forgot-password', {\n        email: email\n      });\n\n      setEmailSent(true);\n      toast.success(response.data.message);\n      \n      // In development, show the reset token and provide link\n      if (response.data.resetToken) {\n        console.log('Reset Token (dev only):', response.data.resetToken);\n        const resetLink = `${window.location.origin}/reset-password?token=${response.data.resetToken}`;\n        console.log('Reset Link (dev only):', resetLink);\n        toast.success(\n          `Reset Token (dev only): ${response.data.resetToken}\\nClick here: ${resetLink}`,\n          { duration: 15000 }\n        );\n        // Also show in alert for easy copy\n        setTimeout(() => {\n          alert(`Development Mode - Reset Token:\\n${response.data.resetToken}\\n\\nReset Link:\\n${resetLink}`);\n        }, 500);\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || 'Failed to send reset email. Please try again.';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (emailSent) {\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-card fade-in\">\n          <div className=\"login-header\">\n            <div className=\"login-icon-wrapper\">\n              <Mail size={40} className=\"login-icon\" />\n            </div>\n            <h1>Check Your Email</h1>\n            <p>We've sent a password reset link to {email}</p>\n          </div>\n          \n          <div style={{ textAlign: 'center', marginTop: '32px' }}>\n            <Link \n              to=\"/login\" \n              style={{ \n                color: '#08979C', \n                textDecoration: 'none', \n                fontSize: '14px',\n                fontFamily: 'Poppins',\n                fontWeight: 600\n              }}\n            >\n              Back to Login\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-card fade-in\">\n        <div className=\"login-header\">\n          <div className=\"login-icon-wrapper\">\n            <Mail size={40} className=\"login-icon\" />\n          </div>\n          <h1>Forgot Password</h1>\n          <p>Enter your email to receive a reset link</p>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"login-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              placeholder=\"Enter your email\"\n              disabled={loading}\n            />\n          </div>\n          \n          <button \n            type=\"submit\" \n            className=\"btn-primary\"\n            disabled={loading}\n          >\n            {loading ? 'Sending...' : 'Send Reset Link'}\n          </button>\n          \n          <div style={{ textAlign: 'center', marginTop: '24px' }}>\n            <Link \n              to=\"/login\" \n              style={{ \n                color: '#08979C', \n                textDecoration: 'none', \n                fontSize: '14px',\n                fontFamily: 'Poppins',\n                fontWeight: 600\n              }}\n            >\n              Back to Login\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}