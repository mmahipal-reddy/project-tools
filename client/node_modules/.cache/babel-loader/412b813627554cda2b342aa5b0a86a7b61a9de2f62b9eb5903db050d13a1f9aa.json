{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{useForm}from'react-hook-form';import apiClient from'../config/api';import toast from'react-hot-toast';import{saveDraftProject,loadDraftProject,deleteDraftProject}from'../utils/draftStorage';import{getErrorMessage,handleError}from'../utils/errorHandler';import{sanitizeObject}from'../utils/security';import{Upload,FileText,FileJson,FileSpreadsheet,Loader,Search,Info,Menu,LogOut,Send,Plus,X as XIcon,CheckCircle,XCircle,Eye}from'lucide-react';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import PreviewModal from'../components/PreviewModal';import BookmarkButton from'../components/BookmarkButton';import'../styles/ProjectSetup.css';import'../styles/Sidebar.css';import'../styles/GlobalHeader.css';import InformationSection from'./ProjectSetup/components/InformationSection';import PeopleSection from'./ProjectSetup/components/PeopleSection';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProjectSetup=()=>{const navigate=useNavigate();const{user,logout}=useAuth();const{register,handleSubmit,setValue,watch,formState:{errors},trigger,setError,clearErrors,reset}=useForm();const[inputMethod,setInputMethod]=useState('direct');const[loading,setLoading]=useState(false);const[parsedData,setParsedData]=useState(null);const[currentSection,setCurrentSection]=useState(0);const[fieldErrors,setFieldErrors]=useState({});const[saving,setSaving]=useState(false);const[publishing,setPublishing]=useState(false);const[showPublishResultsModal,setShowPublishResultsModal]=useState(false);const[publishResults,setPublishResults]=useState(null);const[showPreviewModal,setShowPreviewModal]=useState(false);const[projectManagers,setProjectManagers]=useState([]);const[loadingProjectManagers,setLoadingProjectManagers]=useState(false);const[accounts,setAccounts]=useState([]);const[loadingAccounts,setLoadingAccounts]=useState(false);const[teamMembers,setTeamMembers]=useState([{member:'',memberId:'',role:''}]);const[teamMemberSearchResults,setTeamMemberSearchResults]=useState({});const[loadingTeamMemberSearch,setLoadingTeamMemberSearch]=useState({});const teamMemberSearchTimeoutRefs=useRef({});const[projectManagerSearchTerm,setProjectManagerSearchTerm]=useState('');const[projectManagerSearchResults,setProjectManagerSearchResults]=useState([]);const[loadingProjectManagerSearch,setLoadingProjectManagerSearch]=useState(false);const[showProjectManagerDropdown,setShowProjectManagerDropdown]=useState(false);const projectManagerSearchTimeoutRef=useRef(null);const dataLoadedRef=useRef(false);const toastShownRef=useRef(false);// State for all People section search fields\nconst peopleSearchFields=['programManager','qualityLead','productivityLead','reportingLead','invoicingLead','projectSupportLead','recruitmentLead','qualificationLead','onboardingLead'];const[peopleSearchTerms,setPeopleSearchTerms]=useState({});const[peopleSearchResults,setPeopleSearchResults]=useState({});const[loadingPeopleSearch,setLoadingPeopleSearch]=useState({});const[showPeopleDropdowns,setShowPeopleDropdowns]=useState({});const peopleSearchTimeoutRefs=useRef({});const sections=['Information','Contributor Active Status','People','Project Team','Rates','Funnel Totals','Funnel Stages','Lever Requisition Actions','Lever Requisition Fields','Lever Admin','Payment Configurations','Activation'];const populateForm=data=>{Object.keys(data).forEach(key=>{if(data[key]!==null&&data[key]!==undefined){setValue(key,data[key]);}});};useEffect(()=>{// Load existing project data from server storage (for editing)\nconst loadExistingData=async()=>{// Prevent duplicate loading in React StrictMode\nif(dataLoadedRef.current)return;try{const projectData=await loadDraftProject();if(projectData){dataLoadedRef.current=true;// Populate form with existing project data\npopulateForm(projectData);// Load team members if they exist\nif(projectData.teamMembers&&Array.isArray(projectData.teamMembers)&&projectData.teamMembers.length>0){setTeamMembers(projectData.teamMembers);}// Load project manager name if it exists\nif(projectData.projectManagerName){setProjectManagerSearchTerm(projectData.projectManagerName);setValue('projectManagerName',projectData.projectManagerName);}// Prevent duplicate toast notifications\nif(!toastShownRef.current){toastShownRef.current=true;toast.success('Project data loaded for editing');}}else{// Clear form and set default values for new project\nreset();setDefaultValues();}}catch(error){const errorMessage=handleError(error,'ProjectSetup - loadProjectData');toast.error(errorMessage);// Reset form to defaults\nreset();setDefaultValues();}};loadExistingData();},[setValue,reset]);// Fetch project managers from Salesforce\nuseEffect(()=>{const fetchProjectManagers=async()=>{setLoadingProjectManagers(true);try{const response=await apiClient.get('/salesforce/project-managers');if(response.data.success){const managers=response.data.projectManagers||[];console.log('Fetched project managers:',managers.length);setProjectManagers(managers);}else{console.warn('Project managers fetch returned success=false:',response.data);}}catch(error){handleError(error,'ProjectSetup - fetchProjectManagers');// Don't show error toast - just log it, as this is optional\n}finally{setLoadingProjectManagers(false);}};fetchProjectManagers();},[]);// Fetch accounts from Salesforce\nuseEffect(()=>{const fetchAccounts=async()=>{setLoadingAccounts(true);try{const response=await apiClient.get('/salesforce/accounts');if(response.data.success){setAccounts(response.data.accounts||[]);}}catch(error){handleError(error,'ProjectSetup - fetchAccounts');// Don't show error toast - just log it, as this is optional\n}finally{setLoadingAccounts(false);}};fetchAccounts();},[]);const setDefaultValues=()=>{// Set default values for dropdowns and other fields\nsetValue('paymentSetupRequired',true);setValue('projectIncentive','0.000');setValue('totalApplied','0');setValue('totalQualified','0');// Set default values for dropdowns (empty strings for most, specific defaults for some)\nsetValue('projectStatus','Draft');setValue('projectType','');setValue('projectPriority',50.0);};const handleFileUpload=async(file,type)=>{setLoading(true);try{const formData=new FormData();formData.append('file',file);const endpoint=type==='json'?'/upload/json':'/upload/csv';const response=await apiClient.post(endpoint,formData,{headers:{'Content-Type':'multipart/form-data'}});setParsedData(response.data.data);populateForm(response.data.data);toast.success(\"\".concat(type.toUpperCase(),\" file parsed successfully!\"));}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error parsing file');}finally{setLoading(false);}};const handleDocumentUpload=async file=>{setLoading(true);try{const formData=new FormData();formData.append('file',file);const response=await apiClient.post('/parse/document',formData,{headers:{'Content-Type':'multipart/form-data'}});setParsedData(response.data.extractedData);populateForm(response.data.extractedData);toast.success(\"Document parsed with \".concat((response.data.confidence*100).toFixed(0),\"% confidence!\"));}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error parsing document');}finally{setLoading(false);}};const onSubmit=async data=>{// Get all form values including unregistered fields\nconst allFormData=watch();// Load existing project data from server storage (for editing)\nlet existingId=null;try{const existingProjectData=await loadDraftProject();if(existingProjectData&&existingProjectData.id){existingId=existingProjectData.id;}}catch(error){handleError(error,'ProjectSetup - loadExistingProjectData');}// Merge form data with submitted data to ensure all fields are captured\nconst completeData=_objectSpread(_objectSpread({},allFormData),data);// Include ALL form data - only skip undefined values\n// This ensures all fields are captured, including empty strings, null, etc.\nconst cleanedData={};Object.keys(completeData).forEach(key=>{const value=completeData[key];// Only skip undefined - include everything else\nif(value!==undefined){// For strings, trim whitespace but keep even empty strings\nif(typeof value==='string'){cleanedData[key]=value.trim();}// For all other types, keep as is\nelse{cleanedData[key]=value;}}});// Preserve the project ID if this is an edit\nif(existingId){cleanedData.id=existingId;}// Include team members in the data (all of them) - ensure they have both name and ID\ncleanedData.teamMembers=teamMembers.map(tm=>({member:tm.member||'',// Name\nmemberId:tm.memberId||'',// ID\nrole:tm.role||'--None--'}));// Ensure projectManager ID is included from form data\nif(allFormData.projectManager!==undefined){cleanedData.projectManager=allFormData.projectManager;}// Ensure projectManagerName is included for reference\nif(allFormData.projectManagerName!==undefined){cleanedData.projectManagerName=allFormData.projectManagerName;}else if(projectManagerSearchTerm){// If name wasn't stored but we have the search term, use it\ncleanedData.projectManagerName=projectManagerSearchTerm;}// Include all People section fields explicitly to ensure they're captured\nconst peopleFields=['programManager','qualityLead','productivityLead','reportingLead','invoicingLead','projectSupportLead','recruitmentLead','qualificationLead','onboardingLead'];peopleFields.forEach(field=>{if(allFormData[field]!==undefined){cleanedData[field]=allFormData[field];}});// Log the data being saved (for debugging)\nconsole.log('Saving project data:',{isEdit:!!existingId,projectId:existingId,totalFields:Object.keys(cleanedData).length,fields:Object.keys(cleanedData),projectManager:cleanedData.projectManager,teamMembersCount:cleanedData.teamMembers?cleanedData.teamMembers.length:0,teamMembers:cleanedData.teamMembers});// Store in server-side persistent storage\ntry{await saveDraftProject(cleanedData);navigate('/confirmation');}catch(error){const errorMessage=handleError(error,'ProjectSetup - saveProjectData');toast.error(errorMessage);}};// Simple Save handler - completely reimplemented from scratch\nconst handleSaveProject=async()=>{// Validate current section first\nconst isValid=await validateCurrentSection();if(!isValid){return;}setSaving(true);try{var _response$data;// Get all form data\nconst allFormData=watch();// Check for existing project\nlet existingId=null;try{const existingDraft=await loadDraftProject();if(existingDraft!==null&&existingDraft!==void 0&&existingDraft.id){existingId=existingDraft.id;}}catch(err){// No existing draft - that's fine\n}// Prepare project data - simple and clean\n// Only include defined values to avoid sending undefined\nconst projectData={};Object.keys(allFormData).forEach(key=>{if(allFormData[key]!==undefined){projectData[key]=allFormData[key];}});// Include team members with name and ID\nprojectData.teamMembers=teamMembers.map(tm=>({member:tm.member||'',memberId:tm.memberId||'',role:tm.role||'--None--'})).filter(tm=>tm.member&&tm.memberId);// Include project manager name\nif(allFormData.projectManagerName){projectData.projectManagerName=allFormData.projectManagerName;}else if(projectManagerSearchTerm){projectData.projectManagerName=projectManagerSearchTerm;}// Sanitize data before sending to server\nconst sanitizedProjectData=sanitizeObject(projectData);// Save to server - simple POST or PUT\nlet response;if(existingId){response=await apiClient.put(\"/projects/\".concat(existingId),sanitizedProjectData);}else{response=await apiClient.post('/projects',sanitizedProjectData);}// Save to drafts for editing\nconst projectId=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.id)||existingId;if(projectId){await saveDraftProject(_objectSpread(_objectSpread({},projectData),{},{id:projectId}));}toast.success('Project saved successfully!');}catch(error){const errorMessage=handleError(error,'ProjectSetup - saveDraft');toast.error(errorMessage);if(error.response){// Server responded with an error - already handled by handleError\n}else{// Network error - server not reachable\ntoast.error('Cannot connect to server. Please ensure the server is running on port 5000.');}}finally{setSaving(false);}};const validateCurrentSection=async()=>{const fields=getRequiredFieldsForSection(currentSection);const values=watch();const newFieldErrors={};let hasErrors=false;// Special validation for Project Team section\nif(currentSection===3){// Validate team members\nconst validTeamMembers=teamMembers.filter(tm=>tm.member&&tm.member.trim()!==''&&tm.role&&tm.role!=='--None--');if(validTeamMembers.length===0){newFieldErrors.teamMembers='At least one team member with a role is required';hasErrors=true;}else{// Validate each team member\nteamMembers.forEach((tm,index)=>{if(tm.member&&tm.member.trim()!==''){if(!tm.role||tm.role==='--None--'){newFieldErrors[\"teamMemberRole_\".concat(index)]='Team Member Role is required';hasErrors=true;}}});}}// Validate all required fields and highlight errors\nfor(const field of fields){if(!values[field]||typeof values[field]==='string'&&values[field].trim()===''){newFieldErrors[field]='This field is required';hasErrors=true;}else if(field.toLowerCase().includes('email')){if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values[field])){newFieldErrors[field]='Invalid email format';hasErrors=true;}}}if(hasErrors){setFieldErrors(newFieldErrors);toast.error(\"Please fill in all required fields in \".concat(sections[currentSection]));return false;}setFieldErrors({});return true;};const getRequiredFieldsForSection=sectionIndex=>{const requiredFields={0:['projectName','shortProjectName','contributorProjectName','appenPartner','projectType','projectPriority','account','hireStartDate','predictedCloseDate','projectStatus'],1:[],// Requirements - no required fields\n2:['projectManager'],// People - Project Manager is required\n3:[],// Project Team - validate team members array\n4:[],// Rates - read-only\n5:[],// Funnel Totals - read-only\n6:[],// Funnel Stages - read-only\n7:[],// Lever Requisition Actions - optional\n8:[],// Lever Requisition Fields - read-only\n9:[],// Lever Admin - optional\n10:['projectPaymentMethod'],// Payment Configurations\n11:[]// Activation - optional\n};return requiredFields[sectionIndex]||[];};const nextSection=async()=>{const isValid=await validateCurrentSection();if(!isValid){return;}if(currentSection<sections.length-1){setCurrentSection(currentSection+1);window.scrollTo(0,0);}};const prevSection=()=>{if(currentSection>0){setCurrentSection(currentSection-1);window.scrollTo(0,0);}};const[sidebarOpen,setSidebarOpen]=useState(true);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsx(\"div\",{className:\"project-setup\",style:{marginLeft:sidebarOpen?'320px':'80px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"setup-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"setup-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle sidebar\",children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"New Project\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Create a new project by entering information directly or attaching a file\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-user-profile\",style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(BookmarkButton,{pageName:\"New Project\",pageType:\"page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})]})]})}),inputMethod==='direct'&&currentSection===0&&/*#__PURE__*/_jsx(\"div\",{className:\"method-selection fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"method-selection-inline\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"method-label\",children:\"Select Input Method:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"method-options-inline\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"method-card-inline active\",onClick:()=>setInputMethod('direct'),children:[/*#__PURE__*/_jsx(FileText,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Direct Input\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"method-card-inline\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Attach File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".doc,.docx,.csv,.xls,.xlsx\",onChange:e=>{const file=e.target.files[0];if(file){handleDocumentUpload(file);setInputMethod('direct');}},style:{display:'none'}})]})]})]})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:48}),/*#__PURE__*/_jsx(\"p\",{children:\"Processing...\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"setup-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-progress\",children:sections.map((section,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"progress-item \".concat(index===currentSection?'active':'',\" \").concat(index<currentSection?'completed':''),onClick:async()=>{// If clicking on a section ahead of current, validate current section first\nif(index>currentSection){const isValid=await validateCurrentSection();if(!isValid){toast.error('Please fill in all required fields in the current section before proceeding');return;}}setCurrentSection(index);window.scrollTo(0,0);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"progress-number\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"progress-label\",children:section})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section fade-in\",children:[currentSection===0&&/*#__PURE__*/_jsx(InformationSection,{register:register,errors:errors,fieldErrors:fieldErrors,watch:watch,accounts:accounts,loadingAccounts:loadingAccounts}),currentSection===1&&/*#__PURE__*/_jsx(RequirementsSection,{register:register,errors:errors}),currentSection===2&&/*#__PURE__*/_jsx(PeopleSection,{register:register,errors:errors,fieldErrors:fieldErrors,setFieldErrors:setFieldErrors,projectManagerSearchTerm:projectManagerSearchTerm,setProjectManagerSearchTerm:setProjectManagerSearchTerm,projectManagerSearchResults:projectManagerSearchResults,setProjectManagerSearchResults:setProjectManagerSearchResults,loadingProjectManagerSearch:loadingProjectManagerSearch,setLoadingProjectManagerSearch:setLoadingProjectManagerSearch,showProjectManagerDropdown:showProjectManagerDropdown,setShowProjectManagerDropdown:setShowProjectManagerDropdown,setValue:setValue,projectManagerSearchTimeoutRef:projectManagerSearchTimeoutRef,peopleSearchTerms:peopleSearchTerms,setPeopleSearchTerms:setPeopleSearchTerms,peopleSearchResults:peopleSearchResults,setPeopleSearchResults:setPeopleSearchResults,loadingPeopleSearch:loadingPeopleSearch,setLoadingPeopleSearch:setLoadingPeopleSearch,showPeopleDropdowns:showPeopleDropdowns,setShowPeopleDropdowns:setShowPeopleDropdowns,peopleSearchTimeoutRefs:peopleSearchTimeoutRefs}),currentSection===3&&/*#__PURE__*/_jsx(ProjectTeamSection,{teamMembers:teamMembers,setTeamMembers:setTeamMembers,teamMemberSearchResults:teamMemberSearchResults,setTeamMemberSearchResults:setTeamMemberSearchResults,loadingTeamMemberSearch:loadingTeamMemberSearch,setLoadingTeamMemberSearch:setLoadingTeamMemberSearch,fieldErrors:fieldErrors,setFieldErrors:setFieldErrors,teamMemberSearchTimeoutRefs:teamMemberSearchTimeoutRefs}),currentSection===4&&/*#__PURE__*/_jsx(RatesSection,{register:register}),currentSection===5&&/*#__PURE__*/_jsx(FunnelTotalsSection,{register:register}),currentSection===6&&/*#__PURE__*/_jsx(FunnelStagesSection,{register:register}),currentSection===7&&/*#__PURE__*/_jsx(LeverRequisitionActionsSection,{register:register,errors:errors}),currentSection===8&&/*#__PURE__*/_jsx(LeverRequisitionFieldsSection,{register:register}),currentSection===9&&/*#__PURE__*/_jsx(LeverAdminSection,{register:register,errors:errors}),currentSection===10&&/*#__PURE__*/_jsx(PaymentConfigurationsSection,{register:register,errors:errors,watch:watch,setValue:setValue}),currentSection===11&&/*#__PURE__*/_jsx(ActivationSection,{register:register,errors:errors})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:prevSection,disabled:currentSection===0,className:\"btn-secondary\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:handleSaveProject,disabled:saving,children:saving?'Saving...':'Save'}),currentSection===sections.length-1?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>{const allFormData=watch();setShowPreviewModal(true);},style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"Preview\"]})}):null,currentSection===sections.length-1?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-primary\",onClick:async e=>{e.preventDefault();const isValid=await validateCurrentSection();if(!isValid){return;}setPublishing(true);try{const allFormData=watch();// Include ALL form data - only skip undefined values\nconst cleanedProjectData={};Object.keys(allFormData).forEach(key=>{const value=allFormData[key];// Include all values except undefined\nif(value!==undefined){if(typeof value==='string'){cleanedProjectData[key]=value.trim();}else{cleanedProjectData[key]=value;}}});// Include team members - filter out empty ones and ensure they have memberId\n// CRITICAL: Only include valid team members with both name and ID\ncleanedProjectData.teamMembers=teamMembers.filter(tm=>tm&&tm.member&&tm.member.trim()!==''&&tm.memberId&&tm.memberId.trim()!==''&&tm.role&&tm.role!=='--None--').map(tm=>({member:tm.member.trim(),memberId:tm.memberId.trim(),role:tm.role}));console.log('Team Members being sent to Salesforce:',{total:teamMembers.length,valid:cleanedProjectData.teamMembers.length,validMembers:cleanedProjectData.teamMembers.map(tm=>({member:tm.member,memberId:tm.memberId?\"\".concat(tm.memberId.substring(0,10),\"...\"):'MISSING',role:tm.role}))});// Include projectManager explicitly\nif(allFormData.projectManager){cleanedProjectData.projectManager=allFormData.projectManager;}// Include all People section fields\nconst peopleFields=['programManager','qualityLead','productivityLead','reportingLead','invoicingLead','projectSupportLead','recruitmentLead','qualificationLead','onboardingLead'];peopleFields.forEach(field=>{if(allFormData[field]!==undefined){cleanedProjectData[field]=allFormData[field];}});// Ensure required fields have defaults if missing\nif(!cleanedProjectData.contributorProjectName||cleanedProjectData.contributorProjectName.trim()===''){cleanedProjectData.contributorProjectName=cleanedProjectData.projectName||'New Project';}console.log('Publishing from ProjectSetup - All fields:',{totalFields:Object.keys(cleanedProjectData).length,fields:Object.keys(cleanedProjectData),projectManager:cleanedProjectData.projectManager,teamMembersCount:cleanedProjectData.teamMembers?cleanedProjectData.teamMembers.length:0});// Call Salesforce API\nconst response=await apiClient.post('/salesforce/create-project',cleanedProjectData,{timeout:300000});if(response.data.success){const projectName=response.data.objectName||cleanedProjectData.projectName||cleanedProjectData.name||'Project';const teamMembers=response.data.teamMembers||[];// Collect team member results\nconst created=teamMembers.filter(tm=>tm.status==='created').length;const errors=teamMembers.filter(tm=>tm.status==='error').length;const skipped=teamMembers.filter(tm=>tm.status==='skipped').length;// Show success modal\nsetPublishResults({published:[{type:'Project',name:projectName,id:response.data.salesforceId,teamMembers:teamMembers.length>0?{created,errors,skipped,details:teamMembers}:null}],failed:[]});setShowPublishResultsModal(true);await deleteDraftProject();}else{// Show error modal\nsetPublishResults({published:[],failed:[{type:'Project',name:cleanedProjectData.projectName||cleanedProjectData.name||'Project',error:getErrorMessage(response.data)}]});setShowPublishResultsModal(true);}}catch(error){const errorMessage=handleError(error,'ProjectSetup - publishProject');toast.error(errorMessage);}finally{setPublishing(false);}},disabled:publishing,style:{marginLeft:'auto'},children:[/*#__PURE__*/_jsx(Send,{size:20,style:{marginRight:'8px'}}),publishing?'Publishing...':'Publish']}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:nextSection,className:\"btn-primary\",style:{marginLeft:'auto'},children:\"Next\"})]})})]})]})}),/*#__PURE__*/_jsx(PreviewModal,{isOpen:showPreviewModal,onClose:()=>setShowPreviewModal(false),objectType:\"project\",formData:watch(),objectLabel:\"Project\",onEdit:()=>{setShowPreviewModal(false);// Form is already in edit mode, just close preview to return to form\n},onClone:clonedData=>{// Populate form with cloned data\nObject.keys(clonedData).forEach(key=>{if(clonedData[key]!==undefined&&clonedData[key]!==null){setValue(key,clonedData[key]);}});}}),showPublishResultsModal&&publishResults&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'12px',boxSizing:'border-box'},onClick:()=>setShowPublishResultsModal(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#ffffff',borderRadius:'8px',width:'90%',maxWidth:'700px',maxHeight:'90vh',display:'flex',flexDirection:'column',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.15)',boxSizing:'border-box',color:'#002329',fontFamily:'Poppins',fontSize:'14px'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'12px 24px',borderBottom:'1px solid #e2e8f0',flexShrink:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[publishResults.failed.length>0?/*#__PURE__*/_jsx(XCircle,{size:24,color:\"#ef4444\"}):/*#__PURE__*/_jsx(CheckCircle,{size:24,color:\"#10b981\"}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'20px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Publish Results\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPublishResultsModal(false),style:{background:'none',border:'none',cursor:'pointer',padding:'4px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'4px',transition:'background-color 0.2s'},onMouseEnter:e=>e.target.style.backgroundColor='#f1f5f9',onMouseLeave:e=>e.target.style.backgroundColor='transparent',children:/*#__PURE__*/_jsx(XIcon,{size:20,color:\"#64748b\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',overflowY:'auto',flex:1},children:[publishResults.published.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 16px 0',fontSize:'14px',fontWeight:600,color:'#10b981',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(CheckCircle,{size:18}),\"Published Successfully (\",publishResults.published.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:publishResults.published.map((obj,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',backgroundColor:'#f0fdf4',border:'1px solid #bbf7d0',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,color:'#002329',marginBottom:'8px'},children:[obj.type,\": \\\"\",obj.name,\"\\\"\"]}),obj.teamMembers&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',fontSize:'13px',color:'#64748b'},children:[obj.teamMembers.created>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px'},children:[\"\\u2713 \",obj.teamMembers.created,\" team member(s) created\"]}),obj.teamMembers.errors>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px',color:'#ef4444'},children:[\"\\u2717 \",obj.teamMembers.errors,\" team member(s) failed\"]}),obj.teamMembers.skipped>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px',color:'#f59e0b'},children:[\"\\u26A0 \",obj.teamMembers.skipped,\" team member(s) skipped\"]}),obj.teamMembers.warning&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px',color:'#f59e0b'},children:[\"\\u26A0 \",obj.teamMembers.warning]})]})]},index))})]}),publishResults.failed.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 16px 0',fontSize:'14px',fontWeight:600,color:'#ef4444',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(XCircle,{size:18}),\"Failed to Publish (\",publishResults.failed.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:publishResults.failed.map((obj,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',backgroundColor:'#fef2f2',border:'1px solid #fecaca',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,color:'#002329',marginBottom:'8px'},children:[obj.type,\": \\\"\",obj.name,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',color:'#ef4444',marginTop:'8px'},children:[\"Error: \",obj.error]})]},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 24px',borderTop:'1px solid #e2e8f0',display:'flex',justifyContent:'flex-end',gap:'12px',flexShrink:0},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPublishResultsModal(false);if(publishResults.failed.length===0){setTimeout(()=>{navigate('/dashboard');},500);}},style:{padding:'6px 12px',backgroundColor:'#08979C',color:'#ffffff',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:600,cursor:'pointer',fontFamily:'Poppins',transition:'background-color 0.2s'},onMouseEnter:e=>e.target.style.backgroundColor='#067a7f',onMouseLeave:e=>e.target.style.backgroundColor='#08979C',children:publishResults.failed.length===0?'Continue':'Close'})})]})})]});};// Section components\nconst RequirementsSection=_ref=>{let{register,errors}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Contributor Active Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"checkbox\"},register('paymentSetupRequired')),{},{defaultChecked:true})),/*#__PURE__*/_jsx(\"span\",{children:\"Payment Setup Required\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('manualActivationRequired'))),/*#__PURE__*/_jsx(\"span\",{children:\"Manual Activation Required\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('clientToolAccountRequired'))),/*#__PURE__*/_jsx(\"span\",{children:\"Client Tool Account Required\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})})]})]});};const ProjectTeamSection=_ref2=>{let{teamMembers,setTeamMembers,teamMemberSearchResults,setTeamMemberSearchResults,loadingTeamMemberSearch,setLoadingTeamMemberSearch,fieldErrors,setFieldErrors,teamMemberSearchTimeoutRefs}=_ref2;const TEAM_MEMBER_ROLES=['--None--','Invoicing Lead','Onboarding Lead','Program Manager','Project Manager','Project Support Lead','Recruitment Lead','Reporting Writer','Tech Lead','Project Lead','Project Team','Productivity Lead'];const searchTeamMember=async(searchTerm,index)=>{if(!searchTerm||searchTerm.trim().length<3){setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));return;}setLoadingTeamMemberSearch(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:true}));try{const response=await apiClient.get(\"/salesforce/search-people?search=\".concat(encodeURIComponent(searchTerm)));if(response.data.success){const people=response.data.people||[];setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:people}));}else{setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));}}catch(error){var _error$response3,_error$response4;handleError(error,'ProjectSetup - searchTeamMember');setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));// Show user-friendly error message for different types of 401 errors\nif(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===401&&(_error$response4=error.response)!==null&&_error$response4!==void 0&&_error$response4.data){const errorMessage=error.response.data.error||error.response.data.message||'';// Check if it's a JWT authentication error\nif(errorMessage.includes('No token provided')||errorMessage.includes('Invalid token')||errorMessage.includes('session has expired')||errorMessage.includes('Authentication required')){toast.error('Your session has expired. Please log in again.');setTimeout(()=>{window.location.href='/login';},2000);}// Check if it's a Salesforce credential error\nelse if(errorMessage.includes('Invalid Salesforce credentials')||errorMessage.includes('Salesforce settings')||errorMessage.includes('Failed to connect to Salesforce')){toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');}// Generic 401 error\nelse{toast.error('Authentication failed. Please log in again.');}}}finally{setLoadingTeamMemberSearch(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:false}));}};const handleTeamMemberChange=(index,value)=>{const updated=[...teamMembers];updated[index]=_objectSpread(_objectSpread({},updated[index]),{},{member:value,memberId:''});setTeamMembers(updated);// Clear errors for this field\nif(fieldErrors[\"teamMember_\".concat(index)]){setFieldErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors[\"teamMember_\".concat(index)];return newErrors;});}};const handleTeamMemberSelect=(index,person)=>{const updated=[...teamMembers];updated[index]=_objectSpread(_objectSpread({},updated[index]),{},{member:person.name||person.email,memberId:person.id});setTeamMembers(updated);setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));};const handleRoleChange=(index,role)=>{const updated=[...teamMembers];updated[index]=_objectSpread(_objectSpread({},updated[index]),{},{role});setTeamMembers(updated);// Clear errors for this field\nif(fieldErrors[\"teamMemberRole_\".concat(index)]){setFieldErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors[\"teamMemberRole_\".concat(index)];return newErrors;});}};const addTeamMember=()=>{setTeamMembers([...teamMembers,{member:'',memberId:'',role:''}]);};const removeTeamMember=index=>{if(teamMembers.length>1){const updated=teamMembers.filter((_,i)=>i!==index);setTeamMembers(updated);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Project Team\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[teamMembers.map((tm,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"* Team Member\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tm.member,onChange:e=>{const value=e.target.value;handleTeamMemberChange(index,value);// Clear previous timeout for this index\nif(teamMemberSearchTimeoutRefs.current[index]){clearTimeout(teamMemberSearchTimeoutRefs.current[index]);}// Clear results if search term is too short\nif(!value||value.trim().length<3){setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));return;}// Debounce search - wait 800ms after user stops typing\nteamMemberSearchTimeoutRefs.current[index]=setTimeout(()=>{searchTeamMember(value.trim(),index);},800);},onFocus:()=>{// Show dropdown if there are existing results\nif(teamMemberSearchResults[index]&&teamMemberSearchResults[index].length>0){// Dropdown will show automatically\n}else if(tm.member&&tm.member.trim().length>=3){// If there's a search term but no results, search again\nsearchTeamMember(tm.member.trim(),index);}},onBlur:()=>{setTimeout(()=>{setTeamMemberSearchResults(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:[]}));},200);},placeholder:\"Search People...\",className:fieldErrors[\"teamMember_\".concat(index)]||fieldErrors.teamMembers?'error-field':'',style:{paddingRight:'36px',fontSize:'12px',padding:'6px 10px',width:'100%',height:'32px'}}),/*#__PURE__*/_jsx(Search,{size:14,style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',color:'#666',pointerEvents:'none'}}),teamMemberSearchResults[index]&&teamMemberSearchResults[index].length>0||loadingTeamMemberSearch[index]?/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'100%',left:0,right:0,backgroundColor:'white',border:'1px solid #ddd',borderRadius:'4px',maxHeight:'200px',overflowY:'auto',zIndex:1000,boxShadow:'0 2px 8px rgba(0,0,0,0.1)',marginTop:'4px'},children:loadingTeamMemberSearch[index]?/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"Searching...\"}):teamMemberSearchResults[index]&&teamMemberSearchResults[index].length>0?teamMemberSearchResults[index].map(person=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleTeamMemberSelect(index,person),style:{padding:'8px 12px',cursor:'pointer',fontSize:'13px',borderBottom:'1px solid #f0f0f0'},onMouseEnter:e=>e.target.style.backgroundColor='#f5f5f5',onMouseLeave:e=>e.target.style.backgroundColor='white',children:[person.name,\" \",person.email?\"(\".concat(person.email,\")\"):'']},person.id)):/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'13px',color:'#666',textAlign:'center'},children:\"No results found\"})}):null]}),(fieldErrors[\"teamMember_\".concat(index)]||fieldErrors.teamMembers)&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Complete this field.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"* Team Member Role\"}),/*#__PURE__*/_jsx(\"select\",{value:tm.role||'--None--',onChange:e=>handleRoleChange(index,e.target.value),className:fieldErrors[\"teamMemberRole_\".concat(index)]?'error-field':'',style:{fontSize:'12px',padding:'6px 10px',width:'100%',height:'32px'},children:TEAM_MEMBER_ROLES.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role},role))}),fieldErrors[\"teamMemberRole_\".concat(index)]&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Complete this field.\"})]}),index>0&&/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{display:'flex',alignItems:'flex-end'},children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>removeTeamMember(index),style:{padding:'8px 12px',backgroundColor:'#fff',color:'#ff4d4f',border:'1px solid #ff4d4f',borderRadius:'4px',cursor:'pointer',fontSize:'13px',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(XIcon,{size:16}),\"Remove\"]})})]},index)),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{gridColumn:'1 / -1',marginTop:'16px'},children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addTeamMember,style:{padding:'10px 20px',backgroundColor:'#08979C',color:'#fff',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'14px',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Team Member\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",style:{marginTop:'24px',padding:'16px',backgroundColor:'#f5f5f5',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'13px',fontWeight:600,marginBottom:'12px',color:'#002329'},children:\"System Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Created By\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,value:\"\",style:{fontSize:'12px',padding:'6px 10px',height:'32px',backgroundColor:'#f0f0f0'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Modified By\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,value:\"\",style:{fontSize:'12px',padding:'6px 10px',height:'32px',backgroundColor:'#f0f0f0'}})]})]})]})]});};const RatesSection=_ref3=>{let{register}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-grid compact-grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Project Incentive\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('projectIncentive')),{},{readOnly:true,defaultValue:\"$0.000\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]})})]});};const FunnelTotalsSection=_ref4=>{let{register}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Funnel Totals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Total Applied\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('totalApplied')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Total Qualified\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('totalQualified')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]})]})]});};const FunnelStagesSection=_ref5=>{let{register}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Funnel Stages\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"# Invited/Available Contributors\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('invitedAvailableContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# Registered Contributors\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('registeredContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"# App Received\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('appReceived')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# Qualified Contributors\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('qualifiedContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# Matched Contributors\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('matchedContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# Active Contributors\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('activeContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# AC Account\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('acAccount')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"# Production Contributors\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('productionContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# Applied Contributors\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('appliedContributors')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"# Removed\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('removed')),{},{readOnly:true,defaultValue:\"0\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]})]})]});};const LeverRequisitionActionsSection=_ref6=>{let{register,errors}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lever Requisition Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-grid compact-grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Requisition Action\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"select\",_objectSpread(_objectSpread({},register('requisitionAction')),{},{children:/*#__PURE__*/_jsx(\"option\",{value:\"--None--\",children:\"--None--\"})}))]})})]});};const LeverRequisitionFieldsSection=_ref7=>{let{register}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lever Requisition Fields\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Req Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverReqName')),{},{readOnly:true,defaultValue:\"--\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Requisition Status\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('requisitionStatus')),{},{readOnly:true,defaultValue:\"No Requisition\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Req Code\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverReqCode')),{},{readOnly:true,defaultValue:\"-\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Time to Fill Start\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverTimeToFillStart')),{},{readOnly:true})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Lever Crowd Hiring Manager Email\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverCrowdHiringManagerEmail')),{},{readOnly:true,defaultValue:\"io\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Time to Fill End\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverTimeToFillEnd')),{},{readOnly:true})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Crowd Owner Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverCrowdOwnerEmail')),{},{readOnly:true,defaultValue:\"mmoola@appen.io\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Req Description\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverReqDescription')),{},{readOnly:true})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Compensation Band\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverCompensationBand')),{},{readOnly:true,defaultValue:\"20-500 USD /hour\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Location\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverLocation')),{},{readOnly:true,defaultValue:\"Remote\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Department\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverDepartment')),{},{readOnly:true,defaultValue:\"General Interest\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Work Type\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverWorkType')),{},{readOnly:true,defaultValue:\"Independent Contractor - Project Based\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever SVP\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverSVP')),{},{readOnly:true,defaultValue:\"Eric de Cavaignac\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever SVP\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('leverSVP2')),{},{readOnly:true,defaultValue:\"Eric de Cavaignac\"})),/*#__PURE__*/_jsx(\"p\",{className:\"field-description\",children:\"This field is calculated upon save\"})]})]})]});};const LeverAdminSection=_ref8=>{let{register,errors}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lever Admin\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Lever Requisition ID\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread({},register('leverRequisitionID')))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lever Requisition Create Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"date\"},register('leverRequisitionCreateDate')))]})]})]});};const PaymentConfigurationsSection=_ref9=>{let{register,errors,watch,setValue}=_ref9;const paymentMethod=watch('projectPaymentMethod');return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Configurations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Project Payment Method *\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('projectPaymentMethod',{required:true})),{},{className:errors.projectPaymentMethod?'error-field':'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--None--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Self-Reported only\",children:\"Self-Reported only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Productivity only\",children:\"Productivity only\"})]})),errors.projectPaymentMethod&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Required\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"checkbox\"},register('requirePMApprovalForProductivity')),{},{checked:paymentMethod==='Self-Reported only',disabled:!paymentMethod||paymentMethod==='Productivity only'})),/*#__PURE__*/_jsx(\"span\",{children:\"Require PM Approval for Productivity\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Release System Tracked Data\",/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('releaseSystemTrackedData')),{},{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Hold\",children:\"Hold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Release\",children:\"Release\"})]}))]})]})]});};const ActivationSection=_ref0=>{let{register,errors}=_ref0;return/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Activation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('activateCommsInvited'))),/*#__PURE__*/_jsx(\"span\",{children:\"Activate Comms Invited\"}),/*#__PURE__*/_jsx(Info,{size:14,className:\"info-icon\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('activateCommsApplied'))),\"Activate Comms Applied\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('activateCommsOnboarding'))),\"Activate Comms Onboarding\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"checkbox\"},register('activateCommsFailed'))),\"Activate Comms Failed\"]})})]})]});};export default ProjectSetup;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useForm","apiClient","toast","saveDraftProject","loadDraftProject","deleteDraftProject","getErrorMessage","handleError","sanitizeObject","Upload","FileText","FileJson","FileSpreadsheet","Loader","Search","Info","Menu","LogOut","Send","Plus","X","XIcon","CheckCircle","XCircle","Eye","useAuth","Sidebar","PreviewModal","BookmarkButton","InformationSection","PeopleSection","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProjectSetup","navigate","user","logout","register","handleSubmit","setValue","watch","formState","errors","trigger","setError","clearErrors","reset","inputMethod","setInputMethod","loading","setLoading","parsedData","setParsedData","currentSection","setCurrentSection","fieldErrors","setFieldErrors","saving","setSaving","publishing","setPublishing","showPublishResultsModal","setShowPublishResultsModal","publishResults","setPublishResults","showPreviewModal","setShowPreviewModal","projectManagers","setProjectManagers","loadingProjectManagers","setLoadingProjectManagers","accounts","setAccounts","loadingAccounts","setLoadingAccounts","teamMembers","setTeamMembers","member","memberId","role","teamMemberSearchResults","setTeamMemberSearchResults","loadingTeamMemberSearch","setLoadingTeamMemberSearch","teamMemberSearchTimeoutRefs","projectManagerSearchTerm","setProjectManagerSearchTerm","projectManagerSearchResults","setProjectManagerSearchResults","loadingProjectManagerSearch","setLoadingProjectManagerSearch","showProjectManagerDropdown","setShowProjectManagerDropdown","projectManagerSearchTimeoutRef","dataLoadedRef","toastShownRef","peopleSearchFields","peopleSearchTerms","setPeopleSearchTerms","peopleSearchResults","setPeopleSearchResults","loadingPeopleSearch","setLoadingPeopleSearch","showPeopleDropdowns","setShowPeopleDropdowns","peopleSearchTimeoutRefs","sections","populateForm","data","Object","keys","forEach","key","undefined","loadExistingData","current","projectData","Array","isArray","length","projectManagerName","success","setDefaultValues","error","errorMessage","fetchProjectManagers","response","get","managers","console","log","warn","fetchAccounts","handleFileUpload","file","type","formData","FormData","append","endpoint","post","headers","concat","toUpperCase","_error$response","_error$response$data","handleDocumentUpload","extractedData","confidence","toFixed","_error$response2","_error$response2$data","onSubmit","allFormData","existingId","existingProjectData","id","completeData","_objectSpread","cleanedData","value","trim","map","tm","projectManager","peopleFields","field","isEdit","projectId","totalFields","fields","teamMembersCount","handleSaveProject","isValid","validateCurrentSection","_response$data","existingDraft","err","filter","sanitizedProjectData","put","getRequiredFieldsForSection","values","newFieldErrors","hasErrors","validTeamMembers","index","toLowerCase","includes","test","sectionIndex","requiredFields","nextSection","window","scrollTo","prevSection","sidebarOpen","setSidebarOpen","className","children","isOpen","toggleSidebar","style","marginLeft","onClick","size","display","alignItems","gap","pageName","pageType","email","charAt","title","accept","onChange","e","target","files","section","RequirementsSection","ProjectTeamSection","RatesSection","FunnelTotalsSection","FunnelStagesSection","LeverRequisitionActionsSection","LeverRequisitionFieldsSection","LeverAdminSection","PaymentConfigurationsSection","ActivationSection","width","disabled","preventDefault","cleanedProjectData","total","valid","validMembers","substring","contributorProjectName","projectName","timeout","objectName","name","created","status","skipped","published","salesforceId","details","failed","marginRight","onClose","objectType","objectLabel","onEdit","onClone","clonedData","position","top","left","right","bottom","backgroundColor","justifyContent","zIndex","padding","boxSizing","borderRadius","maxWidth","maxHeight","flexDirection","boxShadow","color","fontFamily","fontSize","stopPropagation","borderBottom","flexShrink","margin","fontWeight","background","border","cursor","transition","onMouseEnter","onMouseLeave","overflowY","flex","marginBottom","obj","marginTop","warning","borderTop","setTimeout","_ref","defaultChecked","_ref2","TEAM_MEMBER_ROLES","searchTeamMember","searchTerm","prev","encodeURIComponent","people","_error$response3","_error$response4","message","location","href","handleTeamMemberChange","updated","newErrors","handleTeamMemberSelect","person","handleRoleChange","addTeamMember","removeTeamMember","_","i","clearTimeout","onFocus","onBlur","placeholder","paddingRight","height","transform","pointerEvents","textAlign","gridColumn","readOnly","_ref3","defaultValue","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","paymentMethod","required","projectPaymentMethod","checked","_ref0"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/ProjectSetup.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport { saveDraftProject, loadDraftProject, deleteDraftProject } from '../utils/draftStorage';\nimport { getErrorMessage, handleError } from '../utils/errorHandler';\nimport { sanitizeObject } from '../utils/security';\nimport { Upload, FileText, FileJson, FileSpreadsheet, Loader, Search, Info, Menu, LogOut, Send, Plus, X as XIcon, CheckCircle, XCircle, Eye } from 'lucide-react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport PreviewModal from '../components/PreviewModal';\nimport BookmarkButton from '../components/BookmarkButton';\nimport '../styles/ProjectSetup.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\nimport InformationSection from './ProjectSetup/components/InformationSection';\nimport PeopleSection from './ProjectSetup/components/PeopleSection';\n\nconst ProjectSetup = () => {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const { register, handleSubmit, setValue, watch, formState: { errors }, trigger, setError, clearErrors, reset } = useForm();\n  const [inputMethod, setInputMethod] = useState('direct');\n  const [loading, setLoading] = useState(false);\n  const [parsedData, setParsedData] = useState(null);\n  const [currentSection, setCurrentSection] = useState(0);\n  const [fieldErrors, setFieldErrors] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [publishing, setPublishing] = useState(false);\n  const [showPublishResultsModal, setShowPublishResultsModal] = useState(false);\n  const [publishResults, setPublishResults] = useState(null);\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n  const [projectManagers, setProjectManagers] = useState([]);\n  const [loadingProjectManagers, setLoadingProjectManagers] = useState(false);\n  const [accounts, setAccounts] = useState([]);\n  const [loadingAccounts, setLoadingAccounts] = useState(false);\n  const [teamMembers, setTeamMembers] = useState([{ member: '', memberId: '', role: '' }]);\n  const [teamMemberSearchResults, setTeamMemberSearchResults] = useState({});\n  const [loadingTeamMemberSearch, setLoadingTeamMemberSearch] = useState({});\n  const teamMemberSearchTimeoutRefs = useRef({});\n  const [projectManagerSearchTerm, setProjectManagerSearchTerm] = useState('');\n  const [projectManagerSearchResults, setProjectManagerSearchResults] = useState([]);\n  const [loadingProjectManagerSearch, setLoadingProjectManagerSearch] = useState(false);\n  const [showProjectManagerDropdown, setShowProjectManagerDropdown] = useState(false);\n  const projectManagerSearchTimeoutRef = useRef(null);\n  const dataLoadedRef = useRef(false);\n  const toastShownRef = useRef(false);\n\n  // State for all People section search fields\n  const peopleSearchFields = [\n    'programManager', 'qualityLead', 'productivityLead', 'reportingLead',\n    'invoicingLead', 'projectSupportLead', 'recruitmentLead', 'qualificationLead', 'onboardingLead'\n  ];\n  \n  const [peopleSearchTerms, setPeopleSearchTerms] = useState({});\n  const [peopleSearchResults, setPeopleSearchResults] = useState({});\n  const [loadingPeopleSearch, setLoadingPeopleSearch] = useState({});\n  const [showPeopleDropdowns, setShowPeopleDropdowns] = useState({});\n  const peopleSearchTimeoutRefs = useRef({});\n\n  const sections = [\n    'Information',\n    'Contributor Active Status',\n    'People',\n    'Project Team',\n    'Rates',\n    'Funnel Totals',\n    'Funnel Stages',\n    'Lever Requisition Actions',\n    'Lever Requisition Fields',\n    'Lever Admin',\n    'Payment Configurations',\n    'Activation'\n  ];\n\n  const populateForm = (data) => {\n    Object.keys(data).forEach(key => {\n      if (data[key] !== null && data[key] !== undefined) {\n        setValue(key, data[key]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    // Load existing project data from server storage (for editing)\n    const loadExistingData = async () => {\n      // Prevent duplicate loading in React StrictMode\n      if (dataLoadedRef.current) return;\n      \n      try {\n        const projectData = await loadDraftProject();\n        if (projectData) {\n          dataLoadedRef.current = true;\n          // Populate form with existing project data\n          populateForm(projectData);\n          // Load team members if they exist\n          if (projectData.teamMembers && Array.isArray(projectData.teamMembers) && projectData.teamMembers.length > 0) {\n            setTeamMembers(projectData.teamMembers);\n          }\n          \n          // Load project manager name if it exists\n          if (projectData.projectManagerName) {\n            setProjectManagerSearchTerm(projectData.projectManagerName);\n            setValue('projectManagerName', projectData.projectManagerName);\n          }\n          \n          // Prevent duplicate toast notifications\n          if (!toastShownRef.current) {\n            toastShownRef.current = true;\n            toast.success('Project data loaded for editing');\n          }\n        } else {\n          // Clear form and set default values for new project\n          reset();\n          setDefaultValues();\n        }\n      } catch (error) {\n        const errorMessage = handleError(error, 'ProjectSetup - loadProjectData');\n        toast.error(errorMessage);\n        // Reset form to defaults\n        reset();\n        setDefaultValues();\n      }\n    };\n    \n    loadExistingData();\n  }, [setValue, reset]);\n\n  // Fetch project managers from Salesforce\n  useEffect(() => {\n    const fetchProjectManagers = async () => {\n      setLoadingProjectManagers(true);\n      try {\n        const response = await apiClient.get('/salesforce/project-managers');\n        if (response.data.success) {\n          const managers = response.data.projectManagers || [];\n          console.log('Fetched project managers:', managers.length);\n          setProjectManagers(managers);\n        } else {\n          console.warn('Project managers fetch returned success=false:', response.data);\n        }\n      } catch (error) {\n        handleError(error, 'ProjectSetup - fetchProjectManagers');\n        // Don't show error toast - just log it, as this is optional\n      } finally {\n        setLoadingProjectManagers(false);\n      }\n    };\n    fetchProjectManagers();\n  }, []);\n\n  // Fetch accounts from Salesforce\n  useEffect(() => {\n    const fetchAccounts = async () => {\n      setLoadingAccounts(true);\n      try {\n        const response = await apiClient.get('/salesforce/accounts');\n        if (response.data.success) {\n          setAccounts(response.data.accounts || []);\n        }\n      } catch (error) {\n        handleError(error, 'ProjectSetup - fetchAccounts');\n        // Don't show error toast - just log it, as this is optional\n      } finally {\n        setLoadingAccounts(false);\n      }\n    };\n    fetchAccounts();\n  }, []);\n\n  const setDefaultValues = () => {\n    // Set default values for dropdowns and other fields\n    setValue('paymentSetupRequired', true);\n    setValue('projectIncentive', '0.000');\n    setValue('totalApplied', '0');\n    setValue('totalQualified', '0');\n    // Set default values for dropdowns (empty strings for most, specific defaults for some)\n    setValue('projectStatus', 'Draft');\n    setValue('projectType', '');\n    setValue('projectPriority', 50.0);\n  };\n\n  const handleFileUpload = async (file, type) => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const endpoint = type === 'json' ? '/upload/json' : '/upload/csv';\n      const response = await apiClient.post(endpoint, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      setParsedData(response.data.data);\n      populateForm(response.data.data);\n      toast.success(`${type.toUpperCase()} file parsed successfully!`);\n    } catch (error) {\n      toast.error(error.response?.data?.error || 'Error parsing file');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDocumentUpload = async (file) => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await apiClient.post('/parse/document', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      setParsedData(response.data.extractedData);\n      populateForm(response.data.extractedData);\n      toast.success(`Document parsed with ${(response.data.confidence * 100).toFixed(0)}% confidence!`);\n    } catch (error) {\n      toast.error(error.response?.data?.error || 'Error parsing document');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSubmit = async (data) => {\n    // Get all form values including unregistered fields\n    const allFormData = watch();\n    \n    // Load existing project data from server storage (for editing)\n    let existingId = null;\n    try {\n      const existingProjectData = await loadDraftProject();\n      if (existingProjectData && existingProjectData.id) {\n        existingId = existingProjectData.id;\n      }\n    } catch (error) {\n      handleError(error, 'ProjectSetup - loadExistingProjectData');\n    }\n    \n    // Merge form data with submitted data to ensure all fields are captured\n    const completeData = {\n      ...allFormData,\n      ...data\n    };\n    \n    // Include ALL form data - only skip undefined values\n    // This ensures all fields are captured, including empty strings, null, etc.\n    const cleanedData = {};\n    Object.keys(completeData).forEach(key => {\n      const value = completeData[key];\n      // Only skip undefined - include everything else\n      if (value !== undefined) {\n        // For strings, trim whitespace but keep even empty strings\n        if (typeof value === 'string') {\n          cleanedData[key] = value.trim();\n        }\n        // For all other types, keep as is\n        else {\n          cleanedData[key] = value;\n        }\n      }\n    });\n    \n    // Preserve the project ID if this is an edit\n    if (existingId) {\n      cleanedData.id = existingId;\n    }\n    \n    // Include team members in the data (all of them) - ensure they have both name and ID\n    cleanedData.teamMembers = teamMembers.map(tm => ({\n      member: tm.member || '', // Name\n      memberId: tm.memberId || '', // ID\n      role: tm.role || '--None--'\n    }));\n    \n    // Ensure projectManager ID is included from form data\n    if (allFormData.projectManager !== undefined) {\n      cleanedData.projectManager = allFormData.projectManager;\n    }\n    \n    // Ensure projectManagerName is included for reference\n    if (allFormData.projectManagerName !== undefined) {\n      cleanedData.projectManagerName = allFormData.projectManagerName;\n    } else if (projectManagerSearchTerm) {\n      // If name wasn't stored but we have the search term, use it\n      cleanedData.projectManagerName = projectManagerSearchTerm;\n    }\n    \n    // Include all People section fields explicitly to ensure they're captured\n    const peopleFields = [\n      'programManager', 'qualityLead', 'productivityLead', 'reportingLead',\n      'invoicingLead', 'projectSupportLead', 'recruitmentLead', \n      'qualificationLead', 'onboardingLead'\n    ];\n    \n    peopleFields.forEach(field => {\n      if (allFormData[field] !== undefined) {\n        cleanedData[field] = allFormData[field];\n      }\n    });\n    \n    // Log the data being saved (for debugging)\n    console.log('Saving project data:', {\n      isEdit: !!existingId,\n      projectId: existingId,\n      totalFields: Object.keys(cleanedData).length,\n      fields: Object.keys(cleanedData),\n      projectManager: cleanedData.projectManager,\n      teamMembersCount: cleanedData.teamMembers ? cleanedData.teamMembers.length : 0,\n      teamMembers: cleanedData.teamMembers\n    });\n    \n    // Store in server-side persistent storage\n    try {\n      await saveDraftProject(cleanedData);\n      navigate('/confirmation');\n    } catch (error) {\n      const errorMessage = handleError(error, 'ProjectSetup - saveProjectData');\n      toast.error(errorMessage);\n    }\n  };\n\n  // Simple Save handler - completely reimplemented from scratch\n  const handleSaveProject = async () => {\n    // Validate current section first\n    const isValid = await validateCurrentSection();\n    if (!isValid) {\n      return;\n    }\n\n    setSaving(true);\n    try {\n      // Get all form data\n      const allFormData = watch();\n      \n      // Check for existing project\n      let existingId = null;\n      try {\n        const existingDraft = await loadDraftProject();\n        if (existingDraft?.id) {\n          existingId = existingDraft.id;\n        }\n      } catch (err) {\n        // No existing draft - that's fine\n      }\n      \n      // Prepare project data - simple and clean\n      // Only include defined values to avoid sending undefined\n      const projectData = {};\n      Object.keys(allFormData).forEach(key => {\n        if (allFormData[key] !== undefined) {\n          projectData[key] = allFormData[key];\n        }\n      });\n      \n      // Include team members with name and ID\n      projectData.teamMembers = teamMembers\n        .map(tm => ({\n          member: tm.member || '',\n          memberId: tm.memberId || '',\n          role: tm.role || '--None--'\n        }))\n        .filter(tm => tm.member && tm.memberId);\n      \n      // Include project manager name\n      if (allFormData.projectManagerName) {\n        projectData.projectManagerName = allFormData.projectManagerName;\n      } else if (projectManagerSearchTerm) {\n        projectData.projectManagerName = projectManagerSearchTerm;\n      }\n      \n      // Sanitize data before sending to server\n      const sanitizedProjectData = sanitizeObject(projectData);\n      \n      // Save to server - simple POST or PUT\n      let response;\n      if (existingId) {\n        response = await apiClient.put(`/projects/${existingId}`, sanitizedProjectData);\n      } else {\n        response = await apiClient.post('/projects', sanitizedProjectData);\n      }\n      \n      // Save to drafts for editing\n      const projectId = response.data?.id || existingId;\n      if (projectId) {\n        await saveDraftProject({ ...projectData, id: projectId });\n      }\n      \n      toast.success('Project saved successfully!');\n    } catch (error) {\n      const errorMessage = handleError(error, 'ProjectSetup - saveDraft');\n      toast.error(errorMessage);\n      \n      if (error.response) {\n        // Server responded with an error - already handled by handleError\n      } else {\n        // Network error - server not reachable\n        toast.error('Cannot connect to server. Please ensure the server is running on port 5000.');\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const validateCurrentSection = async () => {\n    const fields = getRequiredFieldsForSection(currentSection);\n    const values = watch();\n    const newFieldErrors = {};\n    let hasErrors = false;\n    \n    // Special validation for Project Team section\n    if (currentSection === 3) {\n      // Validate team members\n      const validTeamMembers = teamMembers.filter(tm => tm.member && tm.member.trim() !== '' && tm.role && tm.role !== '--None--');\n      if (validTeamMembers.length === 0) {\n        newFieldErrors.teamMembers = 'At least one team member with a role is required';\n        hasErrors = true;\n      } else {\n        // Validate each team member\n        teamMembers.forEach((tm, index) => {\n          if (tm.member && tm.member.trim() !== '') {\n            if (!tm.role || tm.role === '--None--') {\n              newFieldErrors[`teamMemberRole_${index}`] = 'Team Member Role is required';\n              hasErrors = true;\n            }\n          }\n        });\n      }\n    }\n    \n    // Validate all required fields and highlight errors\n    for (const field of fields) {\n      if (!values[field] || (typeof values[field] === 'string' && values[field].trim() === '')) {\n        newFieldErrors[field] = 'This field is required';\n        hasErrors = true;\n      } else if (field.toLowerCase().includes('email')) {\n        if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values[field])) {\n          newFieldErrors[field] = 'Invalid email format';\n          hasErrors = true;\n        }\n      }\n    }\n    \n    if (hasErrors) {\n      setFieldErrors(newFieldErrors);\n      toast.error(`Please fill in all required fields in ${sections[currentSection]}`);\n      return false;\n    }\n    \n    setFieldErrors({});\n    return true;\n  };\n\n  const getRequiredFieldsForSection = (sectionIndex) => {\n    const requiredFields = {\n      0: ['projectName', 'shortProjectName', 'contributorProjectName', 'appenPartner', 'projectType', 'projectPriority', 'account', 'hireStartDate', 'predictedCloseDate', 'projectStatus'],\n      1: [], // Requirements - no required fields\n      2: ['projectManager'], // People - Project Manager is required\n      3: [], // Project Team - validate team members array\n      4: [], // Rates - read-only\n      5: [], // Funnel Totals - read-only\n      6: [], // Funnel Stages - read-only\n      7: [], // Lever Requisition Actions - optional\n      8: [], // Lever Requisition Fields - read-only\n      9: [], // Lever Admin - optional\n      10: ['projectPaymentMethod'], // Payment Configurations\n      11: [] // Activation - optional\n    };\n    return requiredFields[sectionIndex] || [];\n  };\n\n  const nextSection = async () => {\n    const isValid = await validateCurrentSection();\n    if (!isValid) {\n      return;\n    }\n    \n    if (currentSection < sections.length - 1) {\n      setCurrentSection(currentSection + 1);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const prevSection = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      \n      <div className=\"project-setup\" style={{ marginLeft: sidebarOpen ? '320px' : '80px' }}>\n        <div className=\"setup-container\">\n          <div className=\"setup-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button \n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                  aria-label=\"Toggle sidebar\"\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">New Project</h1>\n                  <p className=\"page-subtitle\">Create a new project by entering information directly or attaching a file</p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\" style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n                <BookmarkButton pageName=\"New Project\" pageType=\"page\" />\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                  <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                    <LogOut size={18} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        {inputMethod === 'direct' && currentSection === 0 && (\n          <div className=\"method-selection fade-in\">\n            <div className=\"method-selection-inline\">\n              <label className=\"method-label\">Select Input Method:</label>\n              <div className=\"method-options-inline\">\n                <button\n                  className=\"method-card-inline active\"\n                  onClick={() => setInputMethod('direct')}\n                >\n                  <FileText size={16} />\n                  <span>Direct Input</span>\n                </button>\n                <label className=\"method-card-inline\">\n                  <Upload size={16} />\n                  <span>Attach File</span>\n                  <input\n                    type=\"file\"\n                    accept=\".doc,.docx,.csv,.xls,.xlsx\"\n                    onChange={(e) => {\n                      const file = e.target.files[0];\n                      if (file) {\n                        handleDocumentUpload(file);\n                        setInputMethod('direct');\n                      }\n                    }}\n                    style={{ display: 'none' }}\n                  />\n                </label>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {loading && (\n          <div className=\"loading-overlay\">\n            <Loader className=\"spinner\" size={48} />\n            <p>Processing...</p>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit(onSubmit)} className=\"setup-form\">\n          <div className=\"section-progress\">\n            {sections.map((section, index) => (\n              <div\n                key={index}\n                className={`progress-item ${index === currentSection ? 'active' : ''} ${index < currentSection ? 'completed' : ''}`}\n                onClick={async () => {\n                  // If clicking on a section ahead of current, validate current section first\n                  if (index > currentSection) {\n                    const isValid = await validateCurrentSection();\n                    if (!isValid) {\n                      toast.error('Please fill in all required fields in the current section before proceeding');\n                      return;\n                    }\n                  }\n                  setCurrentSection(index);\n                  window.scrollTo(0, 0);\n                }}\n              >\n                <span className=\"progress-number\">{index + 1}</span>\n                <span className=\"progress-label\">{section}</span>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"form-section fade-in\">\n            {currentSection === 0 && (\n              <InformationSection \n                register={register} \n                errors={errors} \n                fieldErrors={fieldErrors} \n                watch={watch}\n                accounts={accounts}\n                loadingAccounts={loadingAccounts}\n              />\n            )}\n            {currentSection === 1 && (\n              <RequirementsSection register={register} errors={errors} />\n            )}\n            {currentSection === 2 && (\n              <PeopleSection \n                register={register} \n                errors={errors} \n                fieldErrors={fieldErrors}\n                setFieldErrors={setFieldErrors}\n                projectManagerSearchTerm={projectManagerSearchTerm}\n                setProjectManagerSearchTerm={setProjectManagerSearchTerm}\n                projectManagerSearchResults={projectManagerSearchResults}\n                setProjectManagerSearchResults={setProjectManagerSearchResults}\n                loadingProjectManagerSearch={loadingProjectManagerSearch}\n                setLoadingProjectManagerSearch={setLoadingProjectManagerSearch}\n                showProjectManagerDropdown={showProjectManagerDropdown}\n                setShowProjectManagerDropdown={setShowProjectManagerDropdown}\n                setValue={setValue}\n                projectManagerSearchTimeoutRef={projectManagerSearchTimeoutRef}\n                peopleSearchTerms={peopleSearchTerms}\n                setPeopleSearchTerms={setPeopleSearchTerms}\n                peopleSearchResults={peopleSearchResults}\n                setPeopleSearchResults={setPeopleSearchResults}\n                loadingPeopleSearch={loadingPeopleSearch}\n                setLoadingPeopleSearch={setLoadingPeopleSearch}\n                showPeopleDropdowns={showPeopleDropdowns}\n                setShowPeopleDropdowns={setShowPeopleDropdowns}\n                peopleSearchTimeoutRefs={peopleSearchTimeoutRefs}\n              />\n            )}\n            {currentSection === 3 && (\n              <ProjectTeamSection \n                teamMembers={teamMembers}\n                setTeamMembers={setTeamMembers}\n                teamMemberSearchResults={teamMemberSearchResults}\n                setTeamMemberSearchResults={setTeamMemberSearchResults}\n                loadingTeamMemberSearch={loadingTeamMemberSearch}\n                setLoadingTeamMemberSearch={setLoadingTeamMemberSearch}\n                fieldErrors={fieldErrors}\n                setFieldErrors={setFieldErrors}\n                teamMemberSearchTimeoutRefs={teamMemberSearchTimeoutRefs}\n              />\n            )}\n            {currentSection === 4 && (\n              <RatesSection register={register} />\n            )}\n            {currentSection === 5 && (\n              <FunnelTotalsSection register={register} />\n            )}\n            {currentSection === 6 && (\n              <FunnelStagesSection register={register} />\n            )}\n            {currentSection === 7 && (\n              <LeverRequisitionActionsSection register={register} errors={errors} />\n            )}\n            {currentSection === 8 && (\n              <LeverRequisitionFieldsSection register={register} />\n            )}\n            {currentSection === 9 && (\n              <LeverAdminSection register={register} errors={errors} />\n            )}\n            {currentSection === 10 && (\n              <PaymentConfigurationsSection register={register} errors={errors} watch={watch} setValue={setValue} />\n            )}\n            {currentSection === 11 && (\n              <ActivationSection register={register} errors={errors} />\n            )}\n          </div>\n\n          <div className=\"form-actions\">\n            <div style={{ display: 'flex', gap: '12px', alignItems: 'center', width: '100%' }}>\n              <button\n                type=\"button\"\n                onClick={prevSection}\n                disabled={currentSection === 0}\n                className=\"btn-secondary\"\n              >\n                Previous\n              </button>\n              <button \n                type=\"button\" \n                className=\"btn-secondary\" \n                onClick={handleSaveProject}\n                disabled={saving}\n              >\n                {saving ? 'Saving...' : 'Save'}\n              </button>\n              {currentSection === sections.length - 1 ? (\n                <>\n                  <button \n                    type=\"button\" \n                    className=\"btn-secondary\" \n                    onClick={() => {\n                      const allFormData = watch();\n                      setShowPreviewModal(true);\n                    }}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                  >\n                    <Eye size={16} />\n                    Preview\n                  </button>\n                </>\n              ) : null}\n              {currentSection === sections.length - 1 ? (\n                <button \n                  type=\"button\" \n                  className=\"btn-primary\" \n                  onClick={async (e) => {\n                    e.preventDefault();\n                    const isValid = await validateCurrentSection();\n                    if (!isValid) {\n                      return;\n                    }\n\n                    setPublishing(true);\n                    try {\n                      const allFormData = watch();\n                      // Include ALL form data - only skip undefined values\n                      const cleanedProjectData = {};\n                      Object.keys(allFormData).forEach(key => {\n                        const value = allFormData[key];\n                        // Include all values except undefined\n                        if (value !== undefined) {\n                          if (typeof value === 'string') {\n                            cleanedProjectData[key] = value.trim();\n                          } else {\n                            cleanedProjectData[key] = value;\n                          }\n                        }\n                      });\n                      \n                      // Include team members - filter out empty ones and ensure they have memberId\n                      // CRITICAL: Only include valid team members with both name and ID\n                      cleanedProjectData.teamMembers = teamMembers\n                        .filter(tm => \n                          tm && \n                          tm.member && tm.member.trim() !== '' && \n                          tm.memberId && tm.memberId.trim() !== '' &&\n                          tm.role && tm.role !== '--None--'\n                        )\n                        .map(tm => ({\n                          member: tm.member.trim(),\n                          memberId: tm.memberId.trim(),\n                          role: tm.role\n                        }));\n                      \n                      console.log('Team Members being sent to Salesforce:', {\n                        total: teamMembers.length,\n                        valid: cleanedProjectData.teamMembers.length,\n                        validMembers: cleanedProjectData.teamMembers.map(tm => ({\n                          member: tm.member,\n                          memberId: tm.memberId ? `${tm.memberId.substring(0, 10)}...` : 'MISSING',\n                          role: tm.role\n                        }))\n                      });\n                      \n                      // Include projectManager explicitly\n                      if (allFormData.projectManager) {\n                        cleanedProjectData.projectManager = allFormData.projectManager;\n                      }\n                      \n                      // Include all People section fields\n                      const peopleFields = [\n                        'programManager', 'qualityLead', 'productivityLead', 'reportingLead',\n                        'invoicingLead', 'projectSupportLead', 'recruitmentLead', \n                        'qualificationLead', 'onboardingLead'\n                      ];\n                      peopleFields.forEach(field => {\n                        if (allFormData[field] !== undefined) {\n                          cleanedProjectData[field] = allFormData[field];\n                        }\n                      });\n                      \n                      // Ensure required fields have defaults if missing\n                      if (!cleanedProjectData.contributorProjectName || cleanedProjectData.contributorProjectName.trim() === '') {\n                        cleanedProjectData.contributorProjectName = cleanedProjectData.projectName || 'New Project';\n                      }\n                      \n                      console.log('Publishing from ProjectSetup - All fields:', {\n                        totalFields: Object.keys(cleanedProjectData).length,\n                        fields: Object.keys(cleanedProjectData),\n                        projectManager: cleanedProjectData.projectManager,\n                        teamMembersCount: cleanedProjectData.teamMembers ? cleanedProjectData.teamMembers.length : 0\n                      });\n                      \n                      // Call Salesforce API\n                      const response = await apiClient.post('/salesforce/create-project', cleanedProjectData, {\n                        timeout: 300000\n                      });\n                      \n                      if (response.data.success) {\n                        const projectName = response.data.objectName || cleanedProjectData.projectName || cleanedProjectData.name || 'Project';\n                        const teamMembers = response.data.teamMembers || [];\n                        \n                        // Collect team member results\n                        const created = teamMembers.filter(tm => tm.status === 'created').length;\n                        const errors = teamMembers.filter(tm => tm.status === 'error').length;\n                        const skipped = teamMembers.filter(tm => tm.status === 'skipped').length;\n                        \n                        // Show success modal\n                        setPublishResults({\n                          published: [{\n                            type: 'Project',\n                            name: projectName,\n                            id: response.data.salesforceId,\n                            teamMembers: teamMembers.length > 0 ? {\n                              created,\n                              errors,\n                              skipped,\n                              details: teamMembers\n                            } : null\n                          }],\n                          failed: []\n                        });\n                        setShowPublishResultsModal(true);\n                        \n                        await deleteDraftProject();\n                      } else {\n                        // Show error modal\n                        setPublishResults({\n                          published: [],\n                          failed: [{\n                            type: 'Project',\n                            name: cleanedProjectData.projectName || cleanedProjectData.name || 'Project',\n                            error: getErrorMessage(response.data)\n                          }]\n                        });\n                        setShowPublishResultsModal(true);\n                      }\n                    } catch (error) {\n                      const errorMessage = handleError(error, 'ProjectSetup - publishProject');\n                      toast.error(errorMessage);\n                    } finally {\n                      setPublishing(false);\n                    }\n                  }}\n                  disabled={publishing}\n                  style={{ marginLeft: 'auto' }}\n                >\n                  <Send size={20} style={{ marginRight: '8px' }} />\n                  {publishing ? 'Publishing...' : 'Publish'}\n                </button>\n              ) : (\n                <button \n                  type=\"button\" \n                  onClick={nextSection} \n                  className=\"btn-primary\"\n                  style={{ marginLeft: 'auto' }}\n                >\n                  Next\n                </button>\n              )}\n            </div>\n          </div>\n        </form>\n        </div>\n      </div>\n\n      {/* Preview Modal */}\n      <PreviewModal\n        isOpen={showPreviewModal}\n        onClose={() => setShowPreviewModal(false)}\n        objectType=\"project\"\n        formData={watch()}\n        objectLabel=\"Project\"\n        onEdit={() => {\n          setShowPreviewModal(false);\n          // Form is already in edit mode, just close preview to return to form\n        }}\n        onClone={(clonedData) => {\n          // Populate form with cloned data\n          Object.keys(clonedData).forEach(key => {\n            if (clonedData[key] !== undefined && clonedData[key] !== null) {\n              setValue(key, clonedData[key]);\n            }\n          });\n        }}\n      />\n\n      {/* Publish Results Modal */}\n      {showPublishResultsModal && publishResults && (\n        <div \n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n            padding: '12px',\n            boxSizing: 'border-box'\n          }}\n          onClick={() => setShowPublishResultsModal(false)}\n        >\n          <div \n            style={{\n              backgroundColor: '#ffffff',\n              borderRadius: '8px',\n              width: '90%',\n              maxWidth: '700px',\n              maxHeight: '90vh',\n              display: 'flex',\n              flexDirection: 'column',\n              boxShadow: '0 4px 20px rgba(0, 0, 0, 0.15)',\n              boxSizing: 'border-box',\n              color: '#002329',\n              fontFamily: 'Poppins',\n              fontSize: '14px'\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Modal Header */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              padding: '12px 24px',\n              borderBottom: '1px solid #e2e8f0',\n              flexShrink: 0\n            }}>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px'\n              }}>\n                {publishResults.failed.length > 0 ? (\n                  <XCircle size={24} color=\"#ef4444\" />\n                ) : (\n                  <CheckCircle size={24} color=\"#10b981\" />\n                )}\n                <h2 style={{\n                  margin: 0,\n                  fontSize: '20px',\n                  fontWeight: 600,\n                  color: '#002329',\n                  fontFamily: 'Poppins'\n                }}>\n                  Publish Results\n                </h2>\n              </div>\n              <button\n                onClick={() => setShowPublishResultsModal(false)}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  cursor: 'pointer',\n                  padding: '4px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  borderRadius: '4px',\n                  transition: 'background-color 0.2s'\n                }}\n                onMouseEnter={(e) => e.target.style.backgroundColor = '#f1f5f9'}\n                onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n              >\n                <XIcon size={20} color=\"#64748b\" />\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div style={{\n              padding: '24px',\n              overflowY: 'auto',\n              flex: 1\n            }}>\n              {/* Published Objects */}\n              {publishResults.published.length > 0 && (\n                <div style={{ marginBottom: '24px' }}>\n                  <h3 style={{\n                    margin: '0 0 16px 0',\n                    fontSize: '14px',\n                    fontWeight: 600,\n                    color: '#10b981',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <CheckCircle size={18} />\n                    Published Successfully ({publishResults.published.length})\n                  </h3>\n                  <div style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: '12px'\n                  }}>\n                    {publishResults.published.map((obj, index) => (\n                      <div key={index} style={{\n                        padding: '16px',\n                        backgroundColor: '#f0fdf4',\n                        border: '1px solid #bbf7d0',\n                        borderRadius: '8px'\n                      }}>\n                        <div style={{\n                          fontWeight: 600,\n                          color: '#002329',\n                          marginBottom: '8px'\n                        }}>\n                          {obj.type}: \"{obj.name}\"\n                        </div>\n                        {obj.teamMembers && (\n                          <div style={{\n                            marginTop: '8px',\n                            fontSize: '13px',\n                            color: '#64748b'\n                          }}>\n                            {obj.teamMembers.created > 0 && (\n                              <div style={{ marginBottom: '4px' }}>\n                                 {obj.teamMembers.created} team member(s) created\n                              </div>\n                            )}\n                            {obj.teamMembers.errors > 0 && (\n                              <div style={{ marginBottom: '4px', color: '#ef4444' }}>\n                                 {obj.teamMembers.errors} team member(s) failed\n                              </div>\n                            )}\n                            {obj.teamMembers.skipped > 0 && (\n                              <div style={{ marginBottom: '4px', color: '#f59e0b' }}>\n                                 {obj.teamMembers.skipped} team member(s) skipped\n                              </div>\n                            )}\n                            {obj.teamMembers.warning && (\n                              <div style={{ marginBottom: '4px', color: '#f59e0b' }}>\n                                 {obj.teamMembers.warning}\n                              </div>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Failed Objects */}\n              {publishResults.failed.length > 0 && (\n                <div>\n                  <h3 style={{\n                    margin: '0 0 16px 0',\n                    fontSize: '14px',\n                    fontWeight: 600,\n                    color: '#ef4444',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <XCircle size={18} />\n                    Failed to Publish ({publishResults.failed.length})\n                  </h3>\n                  <div style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: '12px'\n                  }}>\n                    {publishResults.failed.map((obj, index) => (\n                      <div key={index} style={{\n                        padding: '16px',\n                        backgroundColor: '#fef2f2',\n                        border: '1px solid #fecaca',\n                        borderRadius: '8px'\n                      }}>\n                        <div style={{\n                          fontWeight: 600,\n                          color: '#002329',\n                          marginBottom: '8px'\n                        }}>\n                          {obj.type}: \"{obj.name}\"\n                        </div>\n                        <div style={{\n                          fontSize: '13px',\n                          color: '#ef4444',\n                          marginTop: '8px'\n                        }}>\n                          Error: {obj.error}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div style={{\n              padding: '16px 24px',\n              borderTop: '1px solid #e2e8f0',\n              display: 'flex',\n              justifyContent: 'flex-end',\n              gap: '12px',\n              flexShrink: 0\n            }}>\n              <button\n                onClick={() => {\n                  setShowPublishResultsModal(false);\n                  if (publishResults.failed.length === 0) {\n                    setTimeout(() => {\n                      navigate('/dashboard');\n                    }, 500);\n                  }\n                }}\n                style={{\n                  padding: '6px 12px',\n                  backgroundColor: '#08979C',\n                  color: '#ffffff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  fontSize: '14px',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  fontFamily: 'Poppins',\n                  transition: 'background-color 0.2s'\n                }}\n                onMouseEnter={(e) => e.target.style.backgroundColor = '#067a7f'}\n                onMouseLeave={(e) => e.target.style.backgroundColor = '#08979C'}\n              >\n                {publishResults.failed.length === 0 ? 'Continue' : 'Close'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Section components\nconst RequirementsSection = ({ register, errors }) => (\n  <div className=\"section-content\">\n    <h2>Contributor Active Status</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('paymentSetupRequired')} defaultChecked />\n          <span>Payment Setup Required</span>\n          <Info size={14} className=\"info-icon\" />\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('manualActivationRequired')} />\n          <span>Manual Activation Required</span>\n          <Info size={14} className=\"info-icon\" />\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('clientToolAccountRequired')} />\n          <span>Client Tool Account Required</span>\n          <Info size={14} className=\"info-icon\" />\n        </label>\n      </div>\n    </div>\n  </div>\n);\n\nconst ProjectTeamSection = ({ \n  teamMembers, \n  setTeamMembers, \n  teamMemberSearchResults, \n  setTeamMemberSearchResults,\n  loadingTeamMemberSearch,\n  setLoadingTeamMemberSearch,\n  fieldErrors,\n  setFieldErrors,\n  teamMemberSearchTimeoutRefs\n}) => {\n  const TEAM_MEMBER_ROLES = [\n    '--None--',\n    'Invoicing Lead',\n    'Onboarding Lead',\n    'Program Manager',\n    'Project Manager',\n    'Project Support Lead',\n    'Recruitment Lead',\n    'Reporting Writer',\n    'Tech Lead',\n    'Project Lead',\n    'Project Team',\n    'Productivity Lead'\n  ];\n\n  const searchTeamMember = async (searchTerm, index) => {\n    if (!searchTerm || searchTerm.trim().length < 3) {\n      setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n      return;\n    }\n\n    setLoadingTeamMemberSearch(prev => ({ ...prev, [index]: true }));\n    try {\n      const response = await apiClient.get(`/salesforce/search-people?search=${encodeURIComponent(searchTerm)}`);\n      if (response.data.success) {\n        const people = response.data.people || [];\n        setTeamMemberSearchResults(prev => ({ ...prev, [index]: people }));\n      } else {\n        setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n      }\n    } catch (error) {\n      handleError(error, 'ProjectSetup - searchTeamMember');\n      setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n      \n      // Show user-friendly error message for different types of 401 errors\n      if (error.response?.status === 401 && error.response?.data) {\n        const errorMessage = error.response.data.error || error.response.data.message || '';\n        // Check if it's a JWT authentication error\n        if (errorMessage.includes('No token provided') || \n            errorMessage.includes('Invalid token') || \n            errorMessage.includes('session has expired') ||\n            errorMessage.includes('Authentication required')) {\n          toast.error('Your session has expired. Please log in again.');\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 2000);\n        } \n        // Check if it's a Salesforce credential error\n        else if (errorMessage.includes('Invalid Salesforce credentials') || \n                 errorMessage.includes('Salesforce settings') ||\n                 errorMessage.includes('Failed to connect to Salesforce')) {\n          toast.error('Invalid Salesforce credentials. Please check your Salesforce settings.');\n        }\n        // Generic 401 error\n        else {\n          toast.error('Authentication failed. Please log in again.');\n        }\n      }\n    } finally {\n      setLoadingTeamMemberSearch(prev => ({ ...prev, [index]: false }));\n    }\n  };\n\n  const handleTeamMemberChange = (index, value) => {\n    const updated = [...teamMembers];\n    updated[index] = { ...updated[index], member: value, memberId: '' };\n    setTeamMembers(updated);\n    \n    // Clear errors for this field\n    if (fieldErrors[`teamMember_${index}`]) {\n      setFieldErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[`teamMember_${index}`];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleTeamMemberSelect = (index, person) => {\n    const updated = [...teamMembers];\n    updated[index] = { ...updated[index], member: person.name || person.email, memberId: person.id };\n    setTeamMembers(updated);\n    setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n  };\n\n  const handleRoleChange = (index, role) => {\n    const updated = [...teamMembers];\n    updated[index] = { ...updated[index], role };\n    setTeamMembers(updated);\n    \n    // Clear errors for this field\n    if (fieldErrors[`teamMemberRole_${index}`]) {\n      setFieldErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[`teamMemberRole_${index}`];\n        return newErrors;\n      });\n    }\n  };\n\n  const addTeamMember = () => {\n    setTeamMembers([...teamMembers, { member: '', memberId: '', role: '' }]);\n  };\n\n  const removeTeamMember = (index) => {\n    if (teamMembers.length > 1) {\n      const updated = teamMembers.filter((_, i) => i !== index);\n      setTeamMembers(updated);\n    }\n  };\n\n  return (\n    <div className=\"section-content\">\n      <h2>Project Team</h2>\n      <div className=\"form-grid compact-grid\">\n        {teamMembers.map((tm, index) => (\n          <React.Fragment key={index}>\n            <div className=\"form-group\" style={{ position: 'relative' }}>\n              <label>\n                * Team Member\n              </label>\n              <div style={{ position: 'relative' }}>\n                <input\n                  type=\"text\"\n                  value={tm.member}\n                  onChange={(e) => {\n                    const value = e.target.value;\n                    handleTeamMemberChange(index, value);\n                    \n                    // Clear previous timeout for this index\n                    if (teamMemberSearchTimeoutRefs.current[index]) {\n                      clearTimeout(teamMemberSearchTimeoutRefs.current[index]);\n                    }\n                    \n                    // Clear results if search term is too short\n                    if (!value || value.trim().length < 3) {\n                      setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n                      return;\n                    }\n                    \n                    // Debounce search - wait 800ms after user stops typing\n                    teamMemberSearchTimeoutRefs.current[index] = setTimeout(() => {\n                      searchTeamMember(value.trim(), index);\n                    }, 800);\n                  }}\n                  onFocus={() => {\n                    // Show dropdown if there are existing results\n                    if (teamMemberSearchResults[index] && teamMemberSearchResults[index].length > 0) {\n                      // Dropdown will show automatically\n                    } else if (tm.member && tm.member.trim().length >= 3) {\n                      // If there's a search term but no results, search again\n                      searchTeamMember(tm.member.trim(), index);\n                    }\n                  }}\n                  onBlur={() => {\n                    setTimeout(() => {\n                      setTeamMemberSearchResults(prev => ({ ...prev, [index]: [] }));\n                    }, 200);\n                  }}\n                  placeholder=\"Search People...\"\n                  className={fieldErrors[`teamMember_${index}`] || fieldErrors.teamMembers ? 'error-field' : ''}\n                  style={{ paddingRight: '36px', fontSize: '12px', padding: '6px 10px', width: '100%', height: '32px' }}\n                />\n                      <Search size={14} style={{ position: 'absolute', right: '10px', top: '50%', transform: 'translateY(-50%)', color: '#666', pointerEvents: 'none' }} />\n                {(teamMemberSearchResults[index] && teamMemberSearchResults[index].length > 0) || loadingTeamMemberSearch[index] ? (\n                  <div style={{\n                    position: 'absolute',\n                    top: '100%',\n                    left: 0,\n                    right: 0,\n                    backgroundColor: 'white',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    maxHeight: '200px',\n                    overflowY: 'auto',\n                    zIndex: 1000,\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                    marginTop: '4px'\n                  }}>\n                    {loadingTeamMemberSearch[index] ? (\n                      <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>Searching...</div>\n                    ) : teamMemberSearchResults[index] && teamMemberSearchResults[index].length > 0 ? (\n                      teamMemberSearchResults[index].map(person => (\n                        <div\n                          key={person.id}\n                          onClick={() => handleTeamMemberSelect(index, person)}\n                          style={{\n                            padding: '8px 12px',\n                            cursor: 'pointer',\n                            fontSize: '13px',\n                            borderBottom: '1px solid #f0f0f0'\n                          }}\n                          onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\n                          onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}\n                        >\n                          {person.name} {person.email ? `(${person.email})` : ''}\n                        </div>\n                      ))\n                    ) : (\n                      <div style={{ padding: '8px', fontSize: '13px', color: '#666', textAlign: 'center' }}>No results found</div>\n                    )}\n                  </div>\n                ) : null}\n              </div>\n              {(fieldErrors[`teamMember_${index}`] || fieldErrors.teamMembers) && (\n                <span className=\"error\">Complete this field.</span>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label>\n                * Team Member Role\n              </label>\n              <select\n                value={tm.role || '--None--'}\n                onChange={(e) => handleRoleChange(index, e.target.value)}\n                className={fieldErrors[`teamMemberRole_${index}`] ? 'error-field' : ''}\n                style={{ fontSize: '12px', padding: '6px 10px', width: '100%', height: '32px' }}\n              >\n                {TEAM_MEMBER_ROLES.map(role => (\n                  <option key={role} value={role}>{role}</option>\n                ))}\n              </select>\n              {fieldErrors[`teamMemberRole_${index}`] && (\n                <span className=\"error\">Complete this field.</span>\n              )}\n            </div>\n            {index > 0 && (\n              <div className=\"form-group\" style={{ display: 'flex', alignItems: 'flex-end' }}>\n                <button\n                  type=\"button\"\n                  onClick={() => removeTeamMember(index)}\n                  style={{\n                    padding: '8px 12px',\n                    backgroundColor: '#fff',\n                    color: '#ff4d4f',\n                    border: '1px solid #ff4d4f',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '13px',\n                    fontFamily: 'Poppins',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '4px'\n                  }}\n                >\n                  <XIcon size={16} />\n                  Remove\n                </button>\n              </div>\n            )}\n          </React.Fragment>\n        ))}\n        <div className=\"form-group\" style={{ gridColumn: '1 / -1', marginTop: '16px' }}>\n          <button\n            type=\"button\"\n            onClick={addTeamMember}\n            style={{\n              padding: '10px 20px',\n              backgroundColor: '#08979C',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontFamily: 'Poppins',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n          >\n            <Plus size={16} />\n            Add Team Member\n          </button>\n        </div>\n      </div>\n      <div className=\"section-content\" style={{ marginTop: '24px', padding: '16px', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\n        <h3 style={{ fontSize: '13px', fontWeight: 600, marginBottom: '12px', color: '#002329' }}>System Information</h3>\n        <div className=\"form-grid compact-grid\">\n          <div className=\"form-group\">\n            <label>Created By</label>\n            <input type=\"text\" readOnly value=\"\" style={{ fontSize: '12px', padding: '6px 10px', height: '32px', backgroundColor: '#f0f0f0' }} />\n          </div>\n          <div className=\"form-group\">\n            <label>Last Modified By</label>\n            <input type=\"text\" readOnly value=\"\" style={{ fontSize: '12px', padding: '6px 10px', height: '32px', backgroundColor: '#f0f0f0' }} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst RatesSection = ({ register }) => (\n  <div className=\"section-content\">\n    <h2>Rates</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>Project Incentive</label>\n        <input {...register('projectIncentive')} readOnly defaultValue=\"$0.000\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst FunnelTotalsSection = ({ register }) => (\n  <div className=\"section-content\">\n    <h2>Funnel Totals</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          Total Applied\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('totalApplied')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          Total Qualified\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('totalQualified')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst FunnelStagesSection = ({ register }) => (\n  <div className=\"section-content\">\n    <h2>Funnel Stages</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          # Invited/Available Contributors\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('invitedAvailableContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># Registered Contributors</label>\n        <input {...register('registeredContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          # App Received\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('appReceived')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># Qualified Contributors</label>\n        <input {...register('qualifiedContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># Matched Contributors</label>\n        <input {...register('matchedContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># Active Contributors</label>\n        <input {...register('activeContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># AC Account</label>\n        <input {...register('acAccount')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          # Production Contributors\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('productionContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label># Applied Contributors</label>\n        <input {...register('appliedContributors')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          # Removed\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('removed')} readOnly defaultValue=\"0\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst LeverRequisitionActionsSection = ({ register, errors }) => (\n  <div className=\"section-content\">\n    <h2>Lever Requisition Actions</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          Requisition Action\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <select {...register('requisitionAction')}>\n          <option value=\"--None--\">--None--</option>\n        </select>\n      </div>\n    </div>\n  </div>\n);\n\nconst LeverRequisitionFieldsSection = ({ register }) => (\n  <div className=\"section-content\">\n    <h2>Lever Requisition Fields</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>Lever Req Name</label>\n        <input {...register('leverReqName')} readOnly defaultValue=\"--\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Requisition Status</label>\n        <input {...register('requisitionStatus')} readOnly defaultValue=\"No Requisition\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Req Code</label>\n        <input {...register('leverReqCode')} readOnly defaultValue=\"-\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Time to Fill Start</label>\n        <input {...register('leverTimeToFillStart')} readOnly />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          Lever Crowd Hiring Manager Email\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('leverCrowdHiringManagerEmail')} readOnly defaultValue=\"io\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Time to Fill End</label>\n        <input {...register('leverTimeToFillEnd')} readOnly />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Crowd Owner Email</label>\n        <input {...register('leverCrowdOwnerEmail')} readOnly defaultValue=\"mmoola@appen.io\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Req Description</label>\n        <input {...register('leverReqDescription')} readOnly />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Compensation Band</label>\n        <input {...register('leverCompensationBand')} readOnly defaultValue=\"20-500 USD /hour\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Location</label>\n        <input {...register('leverLocation')} readOnly defaultValue=\"Remote\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Department</label>\n        <input {...register('leverDepartment')} readOnly defaultValue=\"General Interest\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Work Type</label>\n        <input {...register('leverWorkType')} readOnly defaultValue=\"Independent Contractor - Project Based\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever SVP</label>\n        <input {...register('leverSVP')} readOnly defaultValue=\"Eric de Cavaignac\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Lever SVP</label>\n        <input {...register('leverSVP2')} readOnly defaultValue=\"Eric de Cavaignac\" />\n        <p className=\"field-description\">This field is calculated upon save</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst LeverAdminSection = ({ register, errors }) => (\n  <div className=\"section-content\">\n    <h2>Lever Admin</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          Lever Requisition ID\n          <Info size={14} className=\"info-icon\" />\n        </label>\n        <input {...register('leverRequisitionID')} />\n      </div>\n      <div className=\"form-group\">\n        <label>Lever Requisition Create Date</label>\n        <input type=\"date\" {...register('leverRequisitionCreateDate')} />\n      </div>\n    </div>\n  </div>\n);\n\nconst PaymentConfigurationsSection = ({ register, errors, watch, setValue }) => {\n  const paymentMethod = watch('projectPaymentMethod');\n  \n  return (\n    <div className=\"section-content\">\n      <h2>Payment Configurations</h2>\n      <div className=\"form-grid compact-grid\">\n        <div className=\"form-group\">\n          <label>\n            Project Payment Method *\n            <Info size={14} className=\"info-icon\" />\n          </label>\n          <select {...register('projectPaymentMethod', { required: true })} className={errors.projectPaymentMethod ? 'error-field' : ''}>\n            <option value=\"\">--None--</option>\n            <option value=\"Self-Reported only\">Self-Reported only</option>\n            <option value=\"Productivity only\">Productivity only</option>\n          </select>\n          {errors.projectPaymentMethod && <span className=\"error\">Required</span>}\n        </div>\n        <div className=\"form-group\">\n          <label>\n            <input type=\"checkbox\" {...register('requirePMApprovalForProductivity')} \n              checked={paymentMethod === 'Self-Reported only'} \n              disabled={!paymentMethod || paymentMethod === 'Productivity only'}\n            />\n            <span>Require PM Approval for Productivity</span>\n            <Info size={14} className=\"info-icon\" />\n          </label>\n        </div>\n        <div className=\"form-group\">\n          <label>\n            Release System Tracked Data\n            <Info size={14} className=\"info-icon\" />\n          </label>\n          <select {...register('releaseSystemTrackedData')}>\n            <option value=\"Hold\">Hold</option>\n            <option value=\"Release\">Release</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ActivationSection = ({ register, errors }) => (\n  <div className=\"section-content\">\n    <h2>Activation</h2>\n    <div className=\"form-grid compact-grid\">\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('activateCommsInvited')} />\n          <span>Activate Comms Invited</span>\n          <Info size={14} className=\"info-icon\" />\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('activateCommsApplied')} />\n          Activate Comms Applied\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('activateCommsOnboarding')} />\n          Activate Comms Onboarding\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <label>\n          <input type=\"checkbox\" {...register('activateCommsFailed')} />\n          Activate Comms Failed\n        </label>\n      </div>\n    </div>\n  </div>\n);\n\nexport default ProjectSetup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}