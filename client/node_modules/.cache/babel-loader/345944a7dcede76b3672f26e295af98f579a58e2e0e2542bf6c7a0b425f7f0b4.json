{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = text => {\n  _s();\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    let rafId = null;\n    try {\n      rafId = requestAnimationFrame(() => {\n        checkTruncation();\n        // Also check after a small delay to catch any async updates\n        setTimeout(checkTruncation, 100);\n      });\n    } catch (error) {\n      console.warn('Error in requestAnimationFrame:', error);\n      // Fallback to setTimeout\n      setTimeout(checkTruncation, 100);\n    }\n\n    // Recheck on window resize\n    const handleResize = () => {\n      try {\n        requestAnimationFrame(() => {\n          checkTruncation();\n        });\n      } catch (error) {\n        checkTruncation();\n      }\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    let observerTimeout = null;\n    // Use a timeout to ensure ref.current is available\n    try {\n      observerTimeout = setTimeout(() => {\n        if (ref.current && typeof MutationObserver !== 'undefined') {\n          try {\n            observer = new MutationObserver(() => {\n              checkTruncation();\n            });\n            observer.observe(ref.current, {\n              childList: true,\n              subtree: true,\n              characterData: true,\n              attributes: true,\n              attributeFilter: ['style', 'class']\n            });\n          } catch (error) {\n            console.warn('Error creating MutationObserver:', error);\n          }\n        }\n      }, 0);\n    } catch (error) {\n      console.warn('Error setting up MutationObserver:', error);\n    }\n    return () => {\n      try {\n        if (rafId) {\n          cancelAnimationFrame(rafId);\n        }\n        if (observerTimeout) {\n          clearTimeout(observerTimeout);\n        }\n        window.removeEventListener('resize', handleResize);\n        if (observer) {\n          observer.disconnect();\n        }\n      } catch (error) {\n        console.warn('Error cleaning up tooltip hook:', error);\n      }\n    };\n  }, [text]);\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n_s(useTruncatedTooltip, \"ytTCSDLmhVtQddEvMNkK3x3pees=\");","map":{"version":3,"names":["useState","useRef","useEffect","useTruncatedTooltip","text","_s","isTruncated","setIsTruncated","showTooltip","setShowTooltip","ref","checkTruncation","current","element","isTextTruncated","scrollWidth","clientWidth","scrollHeight","clientHeight","rafId","requestAnimationFrame","setTimeout","error","console","warn","handleResize","window","addEventListener","observer","observerTimeout","MutationObserver","observe","childList","subtree","characterData","attributes","attributeFilter","cancelAnimationFrame","clearTimeout","removeEventListener","disconnect","handleMouseEnter","handleMouseLeave"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/useTruncatedTooltip.js"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = (text) => {\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || \n                                element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    let rafId = null;\n    try {\n      rafId = requestAnimationFrame(() => {\n        checkTruncation();\n        // Also check after a small delay to catch any async updates\n        setTimeout(checkTruncation, 100);\n      });\n    } catch (error) {\n      console.warn('Error in requestAnimationFrame:', error);\n      // Fallback to setTimeout\n      setTimeout(checkTruncation, 100);\n    }\n    \n    // Recheck on window resize\n    const handleResize = () => {\n      try {\n        requestAnimationFrame(() => {\n          checkTruncation();\n        });\n      } catch (error) {\n        checkTruncation();\n      }\n    };\n    \n    window.addEventListener('resize', handleResize);\n    \n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    let observerTimeout = null;\n    // Use a timeout to ensure ref.current is available\n    try {\n      observerTimeout = setTimeout(() => {\n        if (ref.current && typeof MutationObserver !== 'undefined') {\n          try {\n            observer = new MutationObserver(() => {\n              checkTruncation();\n            });\n            observer.observe(ref.current, {\n              childList: true,\n              subtree: true,\n              characterData: true,\n              attributes: true,\n              attributeFilter: ['style', 'class']\n            });\n          } catch (error) {\n            console.warn('Error creating MutationObserver:', error);\n          }\n        }\n      }, 0);\n    } catch (error) {\n      console.warn('Error setting up MutationObserver:', error);\n    }\n    \n    return () => {\n      try {\n        if (rafId) {\n          cancelAnimationFrame(rafId);\n        }\n        if (observerTimeout) {\n          clearTimeout(observerTimeout);\n        }\n        window.removeEventListener('resize', handleResize);\n        if (observer) {\n          observer.disconnect();\n        }\n      } catch (error) {\n        console.warn('Error cleaning up tooltip hook:', error);\n      }\n    };\n  }, [text]);\n\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}