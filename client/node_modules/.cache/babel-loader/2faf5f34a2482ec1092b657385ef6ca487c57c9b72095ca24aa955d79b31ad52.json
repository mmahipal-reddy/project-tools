{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{FileText,BarChart3,Search,Clock}from'lucide-react';import'./RecentItems.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecentItems=()=>{const navigate=useNavigate();const[recentItems,setRecentItems]=useState([]);useEffect(()=>{// Load recent items from localStorage\nconst stored=localStorage.getItem('recentItems');if(stored){try{const items=JSON.parse(stored);// Filter out items older than 30 days\nconst thirtyDaysAgo=Date.now()-30*24*60*60*1000;const validItems=items.filter(item=>{const itemTime=new Date(item.lastAccessed).getTime();return itemTime>thirtyDaysAgo;});setRecentItems(validItems.slice(0,5));}catch(error){console.error('Error parsing recent items:',error);}}},[]);if(recentItems.length===0){return null;}const getItemIcon=type=>{switch(type){case'project':return/*#__PURE__*/_jsx(FileText,{size:16,className:\"item-icon\"});case'dashboard':return/*#__PURE__*/_jsx(BarChart3,{size:16,className:\"item-icon\"});case'report':return/*#__PURE__*/_jsx(Search,{size:16,className:\"item-icon\"});default:return/*#__PURE__*/_jsx(FileText,{size:16,className:\"item-icon\"});}};const formatTime=dateString=>{if(!dateString)return'';const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffHours=Math.floor(diffMs/3600000);const diffDays=Math.floor(diffMs/86400000);if(diffHours<24)return\"\".concat(diffHours,\" hours ago\");if(diffDays<7)return\"\".concat(diffDays,\" days ago\");return date.toLocaleDateString();};const handleItemClick=item=>{if(item.link){navigate(item.link);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"recent-items-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Recent Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recent-items-list\",children:recentItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recent-item\",onClick:()=>handleItemClick(item),children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-icon-wrapper\",children:getItemIcon(item.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-title\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-meta\",children:[/*#__PURE__*/_jsx(Clock,{size:12}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(item.lastAccessed)})]})]})]},item.id||index))})]});};export default RecentItems;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","FileText","BarChart3","Search","Clock","jsx","_jsx","jsxs","_jsxs","RecentItems","navigate","recentItems","setRecentItems","stored","localStorage","getItem","items","JSON","parse","thirtyDaysAgo","Date","now","validItems","filter","item","itemTime","lastAccessed","getTime","slice","error","console","length","getItemIcon","type","size","className","formatTime","dateString","date","diffMs","diffHours","Math","floor","diffDays","concat","toLocaleDateString","handleItemClick","link","children","map","index","onClick","title","id"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/Welcome/RecentItems.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FileText, BarChart3, Search, Clock } from 'lucide-react';\nimport './RecentItems.css';\n\nconst RecentItems = () => {\n  const navigate = useNavigate();\n  const [recentItems, setRecentItems] = useState([]);\n\n  useEffect(() => {\n    // Load recent items from localStorage\n    const stored = localStorage.getItem('recentItems');\n    if (stored) {\n      try {\n        const items = JSON.parse(stored);\n        // Filter out items older than 30 days\n        const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);\n        const validItems = items.filter(item => {\n          const itemTime = new Date(item.lastAccessed).getTime();\n          return itemTime > thirtyDaysAgo;\n        });\n        setRecentItems(validItems.slice(0, 5));\n      } catch (error) {\n        console.error('Error parsing recent items:', error);\n      }\n    }\n  }, []);\n\n  if (recentItems.length === 0) {\n    return null;\n  }\n\n  const getItemIcon = (type) => {\n    switch (type) {\n      case 'project':\n        return <FileText size={16} className=\"item-icon\" />;\n      case 'dashboard':\n        return <BarChart3 size={16} className=\"item-icon\" />;\n      case 'report':\n        return <Search size={16} className=\"item-icon\" />;\n      default:\n        return <FileText size={16} className=\"item-icon\" />;\n    }\n  };\n\n  const formatTime = (dateString) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffHours < 24) return `${diffHours} hours ago`;\n    if (diffDays < 7) return `${diffDays} days ago`;\n    return date.toLocaleDateString();\n  };\n\n  const handleItemClick = (item) => {\n    if (item.link) {\n      navigate(item.link);\n    }\n  };\n\n  return (\n    <div className=\"recent-items-card\">\n      <h3 className=\"card-title\">Recent Items</h3>\n      <div className=\"recent-items-list\">\n        {recentItems.map((item, index) => (\n          <div\n            key={item.id || index}\n            className=\"recent-item\"\n            onClick={() => handleItemClick(item)}\n          >\n            <div className=\"item-icon-wrapper\">\n              {getItemIcon(item.type)}\n            </div>\n            <div className=\"item-content\">\n              <div className=\"item-title\">{item.title}</div>\n              <div className=\"item-meta\">\n                <Clock size={12} />\n                <span>{formatTime(item.lastAccessed)}</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RecentItems;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}