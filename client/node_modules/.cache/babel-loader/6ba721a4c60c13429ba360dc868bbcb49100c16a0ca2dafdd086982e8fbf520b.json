{"ast":null,"code":"import React from'react';import{CheckCircle2,XCircle,AlertCircle,Loader2}from'lucide-react';import'./SystemStatus.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SystemStatus=_ref=>{var _status$salesforce,_status$salesforce2,_status$backend,_status$backend2,_status$queueSchedule,_status$queueSchedule2,_status$database,_status$database2;let{status,loading}=_ref;if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"system-status-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"System Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-loading\",children:[/*#__PURE__*/_jsx(Loader2,{size:16,className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Checking status...\"})]})]});}if(!status)return null;const getStatusIcon=statusValue=>{switch(statusValue){case'connected':case'healthy':case'operational':case'running':case'configured':return/*#__PURE__*/_jsx(CheckCircle2,{size:16,className:\"status-icon status-ok\"});case'not_configured':case'not_run':return/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"status-icon status-warning\"});default:return/*#__PURE__*/_jsx(XCircle,{size:16,className:\"status-icon status-error\"});}};const getStatusText=statusValue=>{switch(statusValue){case'connected':return'Connected';case'healthy':return'Healthy';case'operational':return'Operational';case'running':return'Running';case'configured':return'Configured';case'not_configured':return'Not Configured';case'not_run':return'Not Run';default:return'Error';}};const formatUptime=seconds=>{if(!seconds)return'N/A';const days=Math.floor(seconds/86400);const hours=Math.floor(seconds%86400/3600);if(days>0)return\"\".concat(days,\"d \").concat(hours,\"h\");if(hours>0)return\"\".concat(hours,\"h\");return\"\".concat(Math.floor(seconds/60),\"m\");};const formatTime=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/60000);if(diffMins<60)return\"\".concat(diffMins,\" min ago\");const diffHours=Math.floor(diffMs/3600000);if(diffHours<24)return\"\".concat(diffHours,\" hours ago\");return date.toLocaleDateString();};const statusItems=[{label:'Salesforce API',status:((_status$salesforce=status.salesforce)===null||_status$salesforce===void 0?void 0:_status$salesforce.status)||'unknown',details:(_status$salesforce2=status.salesforce)!==null&&_status$salesforce2!==void 0&&_status$salesforce2.responseTime?\"Response: \".concat(status.salesforce.responseTime,\"ms\"):null},{label:'Backend API',status:((_status$backend=status.backend)===null||_status$backend===void 0?void 0:_status$backend.status)||'unknown',details:(_status$backend2=status.backend)!==null&&_status$backend2!==void 0&&_status$backend2.uptime?\"Uptime: \".concat(formatUptime(status.backend.uptime)):null},{label:'Queue Scheduler',status:((_status$queueSchedule=status.queueScheduler)===null||_status$queueSchedule===void 0?void 0:_status$queueSchedule.status)||'unknown',details:(_status$queueSchedule2=status.queueScheduler)!==null&&_status$queueSchedule2!==void 0&&_status$queueSchedule2.lastRun?\"Last run: \".concat(formatTime(status.queueScheduler.lastRun)):null},{label:'Database',status:((_status$database=status.database)===null||_status$database===void 0?void 0:_status$database.status)||'unknown',details:(_status$database2=status.database)!==null&&_status$database2!==void 0&&_status$database2.lastBackup?\"Last backup: \".concat(formatTime(status.database.lastBackup)):'File-based storage'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"system-status-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"System Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-list\",children:statusItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-header\",children:[getStatusIcon(item.status),/*#__PURE__*/_jsx(\"span\",{className:\"status-label\",children:item.label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-text status-\".concat(item.status),children:getStatusText(item.status)}),item.details&&/*#__PURE__*/_jsx(\"span\",{className:\"status-meta\",children:item.details})]})]},index))})]});};export default SystemStatus;","map":{"version":3,"names":["React","CheckCircle2","XCircle","AlertCircle","Loader2","jsx","_jsx","jsxs","_jsxs","SystemStatus","_ref","_status$salesforce","_status$salesforce2","_status$backend","_status$backend2","_status$queueSchedule","_status$queueSchedule2","_status$database","_status$database2","status","loading","className","children","size","getStatusIcon","statusValue","getStatusText","formatUptime","seconds","days","Math","floor","hours","concat","formatTime","dateString","date","Date","now","diffMs","diffMins","diffHours","toLocaleDateString","statusItems","label","salesforce","details","responseTime","backend","uptime","queueScheduler","lastRun","database","lastBackup","map","item","index"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/Welcome/SystemStatus.js"],"sourcesContent":["import React from 'react';\nimport { CheckCircle2, XCircle, AlertCircle, Loader2 } from 'lucide-react';\nimport './SystemStatus.css';\n\nconst SystemStatus = ({ status, loading }) => {\n  if (loading) {\n    return (\n      <div className=\"system-status-card\">\n        <h3 className=\"card-title\">System Status</h3>\n        <div className=\"status-loading\">\n          <Loader2 size={16} className=\"spinner\" />\n          <span>Checking status...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!status) return null;\n\n  const getStatusIcon = (statusValue) => {\n    switch (statusValue) {\n      case 'connected':\n      case 'healthy':\n      case 'operational':\n      case 'running':\n      case 'configured':\n        return <CheckCircle2 size={16} className=\"status-icon status-ok\" />;\n      case 'not_configured':\n      case 'not_run':\n        return <AlertCircle size={16} className=\"status-icon status-warning\" />;\n      default:\n        return <XCircle size={16} className=\"status-icon status-error\" />;\n    }\n  };\n\n  const getStatusText = (statusValue) => {\n    switch (statusValue) {\n      case 'connected':\n        return 'Connected';\n      case 'healthy':\n        return 'Healthy';\n      case 'operational':\n        return 'Operational';\n      case 'running':\n        return 'Running';\n      case 'configured':\n        return 'Configured';\n      case 'not_configured':\n        return 'Not Configured';\n      case 'not_run':\n        return 'Not Run';\n      default:\n        return 'Error';\n    }\n  };\n\n  const formatUptime = (seconds) => {\n    if (!seconds) return 'N/A';\n    const days = Math.floor(seconds / 86400);\n    const hours = Math.floor((seconds % 86400) / 3600);\n    if (days > 0) return `${days}d ${hours}h`;\n    if (hours > 0) return `${hours}h`;\n    return `${Math.floor(seconds / 60)}m`;\n  };\n\n  const formatTime = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    if (diffMins < 60) return `${diffMins} min ago`;\n    const diffHours = Math.floor(diffMs / 3600000);\n    if (diffHours < 24) return `${diffHours} hours ago`;\n    return date.toLocaleDateString();\n  };\n\n  const statusItems = [\n    {\n      label: 'Salesforce API',\n      status: status.salesforce?.status || 'unknown',\n      details: status.salesforce?.responseTime \n        ? `Response: ${status.salesforce.responseTime}ms`\n        : null\n    },\n    {\n      label: 'Backend API',\n      status: status.backend?.status || 'unknown',\n      details: status.backend?.uptime \n        ? `Uptime: ${formatUptime(status.backend.uptime)}`\n        : null\n    },\n    {\n      label: 'Queue Scheduler',\n      status: status.queueScheduler?.status || 'unknown',\n      details: status.queueScheduler?.lastRun \n        ? `Last run: ${formatTime(status.queueScheduler.lastRun)}`\n        : null\n    },\n    {\n      label: 'Database',\n      status: status.database?.status || 'unknown',\n      details: status.database?.lastBackup \n        ? `Last backup: ${formatTime(status.database.lastBackup)}`\n        : 'File-based storage'\n    }\n  ];\n\n  return (\n    <div className=\"system-status-card\">\n      <h3 className=\"card-title\">System Status</h3>\n      <div className=\"status-list\">\n        {statusItems.map((item, index) => (\n          <div key={index} className=\"status-item\">\n            <div className=\"status-header\">\n              {getStatusIcon(item.status)}\n              <span className=\"status-label\">{item.label}</span>\n            </div>\n            <div className=\"status-details\">\n              <span className={`status-text status-${item.status}`}>\n                {getStatusText(item.status)}\n              </span>\n              {item.details && (\n                <span className=\"status-meta\">{item.details}</span>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SystemStatus;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}