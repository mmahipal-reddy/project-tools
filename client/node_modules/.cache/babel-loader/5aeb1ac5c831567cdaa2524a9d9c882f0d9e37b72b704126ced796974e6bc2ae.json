{"ast":null,"code":"/**\n * Client Tool Account Availability Validation\n * Checks if accounts are available for assignment\n *//**\n * Checks if an account is available for assignment\n * @param {Object} account - The account object\n * @param {string} projectId - The project ID to assign to\n * @param {Array} projects - Array of all projects\n * @returns {Object} - { isAvailable: boolean, reason: string|null }\n */export const checkAccountAvailability=(account,projectId,projects)=>{if(!account){return{isAvailable:false,reason:'Account not found'};}// Check if account is deactivated\nif(account.deactivated){return{isAvailable:false,reason:'Account is deactivated'};}// Check if account is already mapped to a different project\nconst existingProject=projects.find(p=>p.id!==projectId&&p.clientToolAccountUsed===account.id);if(existingProject){return{isAvailable:false,reason:\"Account is already mapped to project: \".concat(existingProject.name),existingProjectId:existingProject.id,existingProjectName:existingProject.name};}return{isAvailable:true,reason:null};};/**\n * Checks availability for multiple accounts\n * @param {Array} accounts - Array of account objects\n * @param {string} projectId - The project ID\n * @param {Array} projects - Array of all projects\n * @returns {Object} - Map of accountId to availability status\n */export const checkMultipleAccountAvailability=(accounts,projectId,projects)=>{const availabilityMap={};accounts.forEach(account=>{if(account&&account.id){availabilityMap[account.id]=checkAccountAvailability(account,projectId,projects);}});return availabilityMap;};/**\n * Filters available accounts from a list\n * @param {Array} accounts - Array of account objects\n * @param {string} projectId - The project ID\n * @param {Array} projects - Array of all projects\n * @returns {Array} - Array of available accounts\n */export const filterAvailableAccounts=(accounts,projectId,projects)=>{return accounts.filter(account=>{const availability=checkAccountAvailability(account,projectId,projects);return availability.isAvailable;});};","map":{"version":3,"names":["checkAccountAvailability","account","projectId","projects","isAvailable","reason","deactivated","existingProject","find","p","id","clientToolAccountUsed","concat","name","existingProjectId","existingProjectName","checkMultipleAccountAvailability","accounts","availabilityMap","forEach","filterAvailableAccounts","filter","availability"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/clientToolAccountAvailability.js"],"sourcesContent":["/**\n * Client Tool Account Availability Validation\n * Checks if accounts are available for assignment\n */\n\n/**\n * Checks if an account is available for assignment\n * @param {Object} account - The account object\n * @param {string} projectId - The project ID to assign to\n * @param {Array} projects - Array of all projects\n * @returns {Object} - { isAvailable: boolean, reason: string|null }\n */\nexport const checkAccountAvailability = (account, projectId, projects) => {\n  if (!account) {\n    return {\n      isAvailable: false,\n      reason: 'Account not found'\n    };\n  }\n\n  // Check if account is deactivated\n  if (account.deactivated) {\n    return {\n      isAvailable: false,\n      reason: 'Account is deactivated'\n    };\n  }\n\n  // Check if account is already mapped to a different project\n  const existingProject = projects.find(\n    p => p.id !== projectId && p.clientToolAccountUsed === account.id\n  );\n\n  if (existingProject) {\n    return {\n      isAvailable: false,\n      reason: `Account is already mapped to project: ${existingProject.name}`,\n      existingProjectId: existingProject.id,\n      existingProjectName: existingProject.name\n    };\n  }\n\n  return {\n    isAvailable: true,\n    reason: null\n  };\n};\n\n/**\n * Checks availability for multiple accounts\n * @param {Array} accounts - Array of account objects\n * @param {string} projectId - The project ID\n * @param {Array} projects - Array of all projects\n * @returns {Object} - Map of accountId to availability status\n */\nexport const checkMultipleAccountAvailability = (accounts, projectId, projects) => {\n  const availabilityMap = {};\n\n  accounts.forEach(account => {\n    if (account && account.id) {\n      availabilityMap[account.id] = checkAccountAvailability(account, projectId, projects);\n    }\n  });\n\n  return availabilityMap;\n};\n\n/**\n * Filters available accounts from a list\n * @param {Array} accounts - Array of account objects\n * @param {string} projectId - The project ID\n * @param {Array} projects - Array of all projects\n * @returns {Array} - Array of available accounts\n */\nexport const filterAvailableAccounts = (accounts, projectId, projects) => {\n  return accounts.filter(account => {\n    const availability = checkAccountAvailability(account, projectId, projects);\n    return availability.isAvailable;\n  });\n};\n\n"],"mappings":"AAAA;AACA;AACA;AACA,GAEA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAA,wBAAwB,CAAGA,CAACC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,GAAK,CACxE,GAAI,CAACF,OAAO,CAAE,CACZ,MAAO,CACLG,WAAW,CAAE,KAAK,CAClBC,MAAM,CAAE,mBACV,CAAC,CACH,CAEA;AACA,GAAIJ,OAAO,CAACK,WAAW,CAAE,CACvB,MAAO,CACLF,WAAW,CAAE,KAAK,CAClBC,MAAM,CAAE,wBACV,CAAC,CACH,CAEA;AACA,KAAM,CAAAE,eAAe,CAAGJ,QAAQ,CAACK,IAAI,CACnCC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKR,SAAS,EAAIO,CAAC,CAACE,qBAAqB,GAAKV,OAAO,CAACS,EACjE,CAAC,CAED,GAAIH,eAAe,CAAE,CACnB,MAAO,CACLH,WAAW,CAAE,KAAK,CAClBC,MAAM,0CAAAO,MAAA,CAA2CL,eAAe,CAACM,IAAI,CAAE,CACvEC,iBAAiB,CAAEP,eAAe,CAACG,EAAE,CACrCK,mBAAmB,CAAER,eAAe,CAACM,IACvC,CAAC,CACH,CAEA,MAAO,CACLT,WAAW,CAAE,IAAI,CACjBC,MAAM,CAAE,IACV,CAAC,CACH,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAW,gCAAgC,CAAGA,CAACC,QAAQ,CAAEf,SAAS,CAAEC,QAAQ,GAAK,CACjF,KAAM,CAAAe,eAAe,CAAG,CAAC,CAAC,CAE1BD,QAAQ,CAACE,OAAO,CAAClB,OAAO,EAAI,CAC1B,GAAIA,OAAO,EAAIA,OAAO,CAACS,EAAE,CAAE,CACzBQ,eAAe,CAACjB,OAAO,CAACS,EAAE,CAAC,CAAGV,wBAAwB,CAACC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAC,CACtF,CACF,CAAC,CAAC,CAEF,MAAO,CAAAe,eAAe,CACxB,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAE,uBAAuB,CAAGA,CAACH,QAAQ,CAAEf,SAAS,CAAEC,QAAQ,GAAK,CACxE,MAAO,CAAAc,QAAQ,CAACI,MAAM,CAACpB,OAAO,EAAI,CAChC,KAAM,CAAAqB,YAAY,CAAGtB,wBAAwB,CAACC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAC,CAC3E,MAAO,CAAAmB,YAAY,CAAClB,WAAW,CACjC,CAAC,CAAC,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}