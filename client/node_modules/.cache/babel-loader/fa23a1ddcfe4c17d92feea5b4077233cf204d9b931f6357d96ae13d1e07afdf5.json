{"ast":null,"code":"import React,{useState}from'react';import{ChevronUp,ChevronDown,Loader}from'lucide-react';import DualProductivityCell from'./DualProductivityCell';import StatusBadge from'./StatusBadge';import'./ApprovalsTable.css';// Map Salesforce field names to client-side field names for sorting\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const mapSalesforceToClientField=salesforceFieldName=>{const reverseMap={'Transaction_ID__c':'transactionId','Contact__r.Name':'contributorName','Contact__r.Email':'email','Project_Objective__r.Name':'projectObjectiveName','Transaction_Date__c':'transactionDate','Variance_Percent__c':'variancePercent','Payrate__c':'payrate','Total_Payment__c':'totalPayment','Status__c':'status'};return reverseMap[salesforceFieldName]||salesforceFieldName;};const ApprovalsTable=_ref=>{let{records,loading,onRowClick,onSort,sortBy,sortOrder,selectedRows,onRowSelect}=_ref;const[hoveredRow,setHoveredRow]=useState(null);const formatCurrency=amount=>{if(amount===null||amount===undefined||amount===0)return'$0.00';return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:2,maximumFractionDigits:2}).format(amount);};const formatDate=dateString=>{if(!dateString)return'';try{const date=new Date(dateString);return date.toISOString().split('T')[0];// YYYY-MM-DD format\n}catch(_unused){return'';}};const formatNumber=num=>{if(num===null||num===undefined)return'0';return new Intl.NumberFormat('en-US').format(num);};const handleSort=column=>{if(onSort){// Map Salesforce field name to client-side field name\nconst clientField=mapSalesforceToClientField(column);const currentClientField=mapSalesforceToClientField(sortBy);const newOrder=currentClientField===clientField&&sortOrder==='DESC'?'ASC':'DESC';onSort(clientField,newOrder);}};const handleRowClick=record=>{if(onRowClick){onRowClick(record);}};const handleRowSelect=(e,recordId)=>{e.stopPropagation();if(onRowSelect){onRowSelect(recordId);}};const isRowSelected=recordId=>{return selectedRows&&selectedRows.includes(recordId);};const SortIcon=_ref2=>{let{column}=_ref2;// Map both to client-side field names for comparison\nconst clientColumn=mapSalesforceToClientField(column);if(sortBy!==clientColumn)return null;return sortOrder==='ASC'?/*#__PURE__*/_jsx(ChevronUp,{size:14}):/*#__PURE__*/_jsx(ChevronDown,{size:14});};if(loading&&records.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"approvals-table-loading\",children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading approvals...\"})]});}if(records.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"approvals-table-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No records found\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"approvals-table-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"approvals-table-scroll-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"approvals-table\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{rowSpan:\"2\",className:\"table-checkbox-col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedRows&&selectedRows.length===records.length&&records.length>0,onChange:e=>{if(e.target.checked){onRowSelect&&records.forEach(r=>onRowSelect(r.id));}else{onRowSelect&&(selectedRows===null||selectedRows===void 0?void 0:selectedRows.forEach(id=>onRowSelect(id)));}}})}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Transaction_ID__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Transaction ID\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Transaction_ID__c\"})]}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Contact__r.Name'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Contributor\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Contact__r.Name\"})]}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable col-email\",onClick:()=>handleSort('Contact__r.Email'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Contact__r.Email\"})]}),/*#__PURE__*/_jsx(\"th\",{rowSpan:\"2\",className:\"sortable col-project\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Project\"})}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Project_Objective__r.Name'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Project Objective\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Project_Objective__r.Name\"})]}),/*#__PURE__*/_jsx(\"th\",{rowSpan:\"2\",className:\"sortable\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Account\"})}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Transaction_Date__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Transaction Date\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Transaction_Date__c\"})]}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",className:\"productivity-header\",children:\"Productivity\"}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Variance_Percent__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Variance %\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Variance_Percent__c\"})]}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Payrate__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Payrate\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Payrate__c\"})]}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Total_Payment__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Payment\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Total_Payment__c\"})]}),/*#__PURE__*/_jsxs(\"th\",{rowSpan:\"2\",className:\"sortable\",onClick:()=>handleSort('Status__c'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(SortIcon,{column:\"Status__c\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"productivity-sub-header\",children:\"Self-Reported\"}),/*#__PURE__*/_jsx(\"th\",{className:\"productivity-sub-header\",children:\"System Tracked\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:(()=>{// Final deduplication layer: Filter duplicates by ID before rendering\n// This is a safety net in case duplicates somehow make it through state management\nconst seenIds=new Set();const uniqueRecords=records.filter(record=>{if(!record||!record.id)return false;if(seenIds.has(record.id)){console.warn(\"[ApprovalsTable] Duplicate record filtered in render: \".concat(record.id));return false;}seenIds.add(record.id);return true;});// Log if duplicates were found\nif(records.length!==uniqueRecords.length){console.warn(\"[ApprovalsTable] Deduplication: \".concat(records.length,\" records received, \").concat(uniqueRecords.length,\" unique records after filtering\"));}return uniqueRecords.map(record=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row \".concat(isRowSelected(record.id)?'selected':'',\" \").concat(hoveredRow===record.id?'hovered':''),onClick:()=>handleRowClick(record),onMouseEnter:()=>setHoveredRow(record.id),onMouseLeave:()=>setHoveredRow(null),children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-checkbox-col\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isRowSelected(record.id),onChange:e=>handleRowSelect(e,record.id)})}),/*#__PURE__*/_jsx(\"td\",{children:record.transactionId||record.id}),/*#__PURE__*/_jsx(\"td\",{children:record.contributorName||''}),/*#__PURE__*/_jsx(\"td\",{className:\"col-email\",children:record.email||''}),/*#__PURE__*/_jsx(\"td\",{className:\"col-project\",children:record.projectName||''}),/*#__PURE__*/_jsx(\"td\",{children:record.projectObjectiveName||''}),/*#__PURE__*/_jsx(\"td\",{children:record.accountName||''}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(record.transactionDate)}),/*#__PURE__*/_jsx(\"td\",{className:\"productivity-cell productivity-self-reported\",children:/*#__PURE__*/_jsx(DualProductivityCell,{selfReportedHours:record.selfReportedHours,systemTrackedHours:record.systemTrackedHours,selfReportedUnits:record.selfReportedUnits,systemTrackedUnits:record.systemTrackedUnits,showSelfReported:true})}),/*#__PURE__*/_jsx(\"td\",{className:\"productivity-cell productivity-system-tracked\",children:/*#__PURE__*/_jsx(DualProductivityCell,{selfReportedHours:record.selfReportedHours,systemTrackedHours:record.systemTrackedHours,selfReportedUnits:record.selfReportedUnits,systemTrackedUnits:record.systemTrackedUnits,showSelfReported:false})}),/*#__PURE__*/_jsxs(\"td\",{className:\"variance-cell \".concat(record.variancePercent>0?'positive':record.variancePercent<0?'negative':'zero'),children:[formatNumber(record.variancePercent),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(record.payrate)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(record.totalPayment)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(StatusBadge,{status:record.status})})]},record.id));})()})]})})});};export default ApprovalsTable;","map":{"version":3,"names":["React","useState","ChevronUp","ChevronDown","Loader","DualProductivityCell","StatusBadge","jsx","_jsx","jsxs","_jsxs","mapSalesforceToClientField","salesforceFieldName","reverseMap","ApprovalsTable","_ref","records","loading","onRowClick","onSort","sortBy","sortOrder","selectedRows","onRowSelect","hoveredRow","setHoveredRow","formatCurrency","amount","undefined","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDate","dateString","date","Date","toISOString","split","_unused","formatNumber","num","handleSort","column","clientField","currentClientField","newOrder","handleRowClick","record","handleRowSelect","e","recordId","stopPropagation","isRowSelected","includes","SortIcon","_ref2","clientColumn","size","length","className","children","rowSpan","type","checked","onChange","target","forEach","r","id","onClick","colSpan","seenIds","Set","uniqueRecords","filter","has","console","warn","concat","add","map","onMouseEnter","onMouseLeave","transactionId","contributorName","email","projectName","projectObjectiveName","accountName","transactionDate","selfReportedHours","systemTrackedHours","selfReportedUnits","systemTrackedUnits","showSelfReported","variancePercent","payrate","totalPayment","status"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/ProjectManagement/PMApprovals/components/ApprovalsTable.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { ChevronUp, ChevronDown, Loader } from 'lucide-react';\nimport DualProductivityCell from './DualProductivityCell';\nimport StatusBadge from './StatusBadge';\nimport './ApprovalsTable.css';\n\n// Map Salesforce field names to client-side field names for sorting\nconst mapSalesforceToClientField = (salesforceFieldName) => {\n  const reverseMap = {\n    'Transaction_ID__c': 'transactionId',\n    'Contact__r.Name': 'contributorName',\n    'Contact__r.Email': 'email',\n    'Project_Objective__r.Name': 'projectObjectiveName',\n    'Transaction_Date__c': 'transactionDate',\n    'Variance_Percent__c': 'variancePercent',\n    'Payrate__c': 'payrate',\n    'Total_Payment__c': 'totalPayment',\n    'Status__c': 'status'\n  };\n  return reverseMap[salesforceFieldName] || salesforceFieldName;\n};\n\nconst ApprovalsTable = ({ \n  records, \n  loading, \n  onRowClick,\n  onSort,\n  sortBy,\n  sortOrder,\n  selectedRows,\n  onRowSelect\n}) => {\n  const [hoveredRow, setHoveredRow] = useState(null);\n\n  const formatCurrency = (amount) => {\n    if (amount === null || amount === undefined || amount === 0) return '$0.00';\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount);\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '';\n    try {\n      const date = new Date(dateString);\n      return date.toISOString().split('T')[0]; // YYYY-MM-DD format\n    } catch {\n      return '';\n    }\n  };\n\n  const formatNumber = (num) => {\n    if (num === null || num === undefined) return '0';\n    return new Intl.NumberFormat('en-US').format(num);\n  };\n\n  const handleSort = (column) => {\n    if (onSort) {\n      // Map Salesforce field name to client-side field name\n      const clientField = mapSalesforceToClientField(column);\n      const currentClientField = mapSalesforceToClientField(sortBy);\n      const newOrder = currentClientField === clientField && sortOrder === 'DESC' ? 'ASC' : 'DESC';\n      onSort(clientField, newOrder);\n    }\n  };\n\n  const handleRowClick = (record) => {\n    if (onRowClick) {\n      onRowClick(record);\n    }\n  };\n\n  const handleRowSelect = (e, recordId) => {\n    e.stopPropagation();\n    if (onRowSelect) {\n      onRowSelect(recordId);\n    }\n  };\n\n  const isRowSelected = (recordId) => {\n    return selectedRows && selectedRows.includes(recordId);\n  };\n\n  const SortIcon = ({ column }) => {\n    // Map both to client-side field names for comparison\n    const clientColumn = mapSalesforceToClientField(column);\n    if (sortBy !== clientColumn) return null;\n    return sortOrder === 'ASC' ? <ChevronUp size={14} /> : <ChevronDown size={14} />;\n  };\n\n  if (loading && records.length === 0) {\n    return (\n      <div className=\"approvals-table-loading\">\n        <Loader className=\"spinning\" size={24} />\n        <p>Loading approvals...</p>\n      </div>\n    );\n  }\n\n  if (records.length === 0) {\n    return (\n      <div className=\"approvals-table-empty\">\n        <p>No records found</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"approvals-table-container\">\n      <div className=\"approvals-table-scroll-wrapper\">\n        <table className=\"approvals-table\">\n        <thead>\n          <tr>\n            <th rowSpan=\"2\" className=\"table-checkbox-col\">\n              <input\n                type=\"checkbox\"\n                checked={selectedRows && selectedRows.length === records.length && records.length > 0}\n                onChange={(e) => {\n                  if (e.target.checked) {\n                    onRowSelect && records.forEach(r => onRowSelect(r.id));\n                  } else {\n                    onRowSelect && selectedRows?.forEach(id => onRowSelect(id));\n                  }\n                }}\n              />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Transaction_ID__c')}\n            >\n              <span>Transaction ID</span>\n              <SortIcon column=\"Transaction_ID__c\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Contact__r.Name')}\n            >\n              <span>Contributor</span>\n              <SortIcon column=\"Contact__r.Name\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable col-email\" \n              onClick={() => handleSort('Contact__r.Email')}\n            >\n              <span>Email</span>\n              <SortIcon column=\"Contact__r.Email\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable col-project\"\n            >\n              <span>Project</span>\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Project_Objective__r.Name')}\n            >\n              <span>Project Objective</span>\n              <SortIcon column=\"Project_Objective__r.Name\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\"\n            >\n              <span>Account</span>\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Transaction_Date__c')}\n            >\n              <span>Transaction Date</span>\n              <SortIcon column=\"Transaction_Date__c\" />\n            </th>\n            <th colSpan=\"2\" className=\"productivity-header\">Productivity</th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Variance_Percent__c')}\n            >\n              <span>Variance %</span>\n              <SortIcon column=\"Variance_Percent__c\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Payrate__c')}\n            >\n              <span>Payrate</span>\n              <SortIcon column=\"Payrate__c\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Total_Payment__c')}\n            >\n              <span>Total Payment</span>\n              <SortIcon column=\"Total_Payment__c\" />\n            </th>\n            <th \n              rowSpan=\"2\"\n              className=\"sortable\" \n              onClick={() => handleSort('Status__c')}\n            >\n              <span>Status</span>\n              <SortIcon column=\"Status__c\" />\n            </th>\n          </tr>\n          <tr>\n            <th className=\"productivity-sub-header\">Self-Reported</th>\n            <th className=\"productivity-sub-header\">System Tracked</th>\n          </tr>\n        </thead>\n        <tbody>\n          {(() => {\n            // Final deduplication layer: Filter duplicates by ID before rendering\n            // This is a safety net in case duplicates somehow make it through state management\n            const seenIds = new Set();\n            const uniqueRecords = records.filter(record => {\n              if (!record || !record.id) return false;\n              if (seenIds.has(record.id)) {\n                console.warn(`[ApprovalsTable] Duplicate record filtered in render: ${record.id}`);\n                return false;\n              }\n              seenIds.add(record.id);\n              return true;\n            });\n            \n            // Log if duplicates were found\n            if (records.length !== uniqueRecords.length) {\n              console.warn(`[ApprovalsTable] Deduplication: ${records.length} records received, ${uniqueRecords.length} unique records after filtering`);\n            }\n            \n            return uniqueRecords.map((record) => (\n              <tr\n                key={record.id}\n                className={`table-row ${isRowSelected(record.id) ? 'selected' : ''} ${hoveredRow === record.id ? 'hovered' : ''}`}\n                onClick={() => handleRowClick(record)}\n                onMouseEnter={() => setHoveredRow(record.id)}\n                onMouseLeave={() => setHoveredRow(null)}\n              >\n              <td className=\"table-checkbox-col\" onClick={(e) => e.stopPropagation()}>\n                <input\n                  type=\"checkbox\"\n                  checked={isRowSelected(record.id)}\n                  onChange={(e) => handleRowSelect(e, record.id)}\n                />\n              </td>\n              <td>{record.transactionId || record.id}</td>\n              <td>{record.contributorName || ''}</td>\n              <td className=\"col-email\">{record.email || ''}</td>\n              <td className=\"col-project\">{record.projectName || ''}</td>\n              <td>{record.projectObjectiveName || ''}</td>\n              <td>{record.accountName || ''}</td>\n              <td>{formatDate(record.transactionDate)}</td>\n              <td className=\"productivity-cell productivity-self-reported\">\n                <DualProductivityCell\n                  selfReportedHours={record.selfReportedHours}\n                  systemTrackedHours={record.systemTrackedHours}\n                  selfReportedUnits={record.selfReportedUnits}\n                  systemTrackedUnits={record.systemTrackedUnits}\n                  showSelfReported={true}\n                />\n              </td>\n              <td className=\"productivity-cell productivity-system-tracked\">\n                <DualProductivityCell\n                  selfReportedHours={record.selfReportedHours}\n                  systemTrackedHours={record.systemTrackedHours}\n                  selfReportedUnits={record.selfReportedUnits}\n                  systemTrackedUnits={record.systemTrackedUnits}\n                  showSelfReported={false}\n                />\n              </td>\n              <td className={`variance-cell ${record.variancePercent > 0 ? 'positive' : record.variancePercent < 0 ? 'negative' : 'zero'}`}>\n                {formatNumber(record.variancePercent)}%\n              </td>\n              <td>{formatCurrency(record.payrate)}</td>\n              <td>{formatCurrency(record.totalPayment)}</td>\n              <td>\n                <StatusBadge status={record.status} />\n              </td>\n            </tr>\n            ));\n          })()}\n        </tbody>\n      </table>\n      </div>\n    </div>\n  );\n};\n\nexport default ApprovalsTable;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}