{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// CrowdDashboard utilities\nimport{BASELINE_STORAGE_KEY,THRESHOLDS_STORAGE_KEY,HISTORICAL_DATA_KEY}from'./constants';import*as XLSX from'xlsx';import toast from'react-hot-toast';/**\n * Load baseline data from localStorage\n */export const loadBaselineData=()=>{try{const saved=localStorage.getItem(BASELINE_STORAGE_KEY);if(saved){return JSON.parse(saved);}}catch(error){// Silently fail baseline loading\n}return null;};/**\n * Save current dashboard state as baseline\n */export const saveBaselineData=dashboardState=>{try{const stateWithTimestamp=_objectSpread(_objectSpread({},dashboardState),{},{savedAt:dashboardState.savedAt||new Date().toISOString()});localStorage.setItem(BASELINE_STORAGE_KEY,JSON.stringify(stateWithTimestamp));return true;}catch(error){return false;}};/**\n * Format number with K/M suffixes\n */export const formatNumber=num=>{if(num>=1000000){return(num/1000000).toFixed(1)+'M';}else if(num>=1000){return(num/1000).toFixed(1)+'k';}return num.toString();};/**\n * Format date string\n */export const formatDate=dateString=>{if(!dateString)return'Never';const date=new Date(dateString);return date.toLocaleString('en-US',{month:'short',day:'numeric',year:'numeric',hour:'2-digit',minute:'2-digit'});};/**\n * Get metric color based on thresholds\n */export const getMetricColor=(key,value,thresholds)=>{const threshold=thresholds[key];if(!threshold)return'green';if(threshold.max!==undefined&&value>threshold.max)return'red';if(threshold.min!==undefined&&value<threshold.min)return'red';return threshold.color||'green';};/**\n * Export widget data to Excel\n */export const exportToExcel=(widgetKey,data,widgetName,metrics,kycStatus,byProject,byCountryLanguage,bySource)=>{try{let worksheetData=[];let fileName='';switch(widgetKey){case'baseMetrics':worksheetData=[['Metric','Value'],['Target HC',metrics.targetHC],['Total Applications',metrics.totalApplications],['Total Qualified',metrics.totalQualified],['Total Active on Projects',metrics.totalActiveOnProjects],['Total Productive',metrics.totalProductive],['Onboarding Contributors',metrics.onboardingContributors],['Active Contributors',metrics.activeContributors],['Avg App Received to Applied (days)',metrics.avgAppReceivedToApplied],['Avg App Received to Active (days)',metrics.avgAppReceivedToActive],['Last Refreshed',formatDate(metrics.lastRefreshed)]];fileName='Crowd_Dashboard_Metrics';break;case'kycStatus':worksheetData=[['KYC Status','Count'],...kycStatus.map(item=>[item.status||'Unknown',item.count||0])];fileName='KYC_Status';break;case'byProject':worksheetData=[['Project Name','Active Contributors'],...byProject.map(item=>[item.projectName||'Unknown',item.count||0])];fileName='Active_Contributors_by_Project';break;case'byCountryLanguage':const countryLangData=[];countryLangData.push(['Country','Language','Count']);byCountryLanguage.forEach(item=>{Object.keys(item).forEach(key=>{if(key!=='country'&&item[key]>0){countryLangData.push([item.country||'Unknown',key,item[key]]);}});});worksheetData=countryLangData;fileName='Active_Contributors_by_Country_Language';break;case'bySource':worksheetData=[['Source Details','Contributors'],...bySource.map(item=>[item.source||'Unknown',item.count||0])];fileName='Contributors_by_Source_Details';break;default:toast.error('Export not available for this widget');return;}const ws=XLSX.utils.aoa_to_sheet(worksheetData);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,widgetName||'Data');const timestamp=new Date().toISOString().split('T')[0];XLSX.writeFile(wb,\"\".concat(fileName,\"_\").concat(timestamp,\".xlsx\"));toast.success(\"\".concat(widgetName||'Data',\" exported successfully\"));}catch(error){toast.error('Failed to export data');}};/**\n * Get trend data for a metric\n */export const getTrendData=(metricKey,historicalData)=>{if(!historicalData||historicalData.length===0)return[];return historicalData.map(snapshot=>{var _snapshot$metrics;return{date:new Date(snapshot.timestamp).toLocaleDateString(),value:((_snapshot$metrics=snapshot.metrics)===null||_snapshot$metrics===void 0?void 0:_snapshot$metrics[metricKey])||0};}).slice(-30);// Last 30 data points\n};/**\n * Apply filters to data\n */export const applyFilters=(data,widgetKey,debouncedFilters)=>{if(!data||data.length===0)return[];let filtered=data;// Apply status filter\nif(debouncedFilters.status&&widgetKey==='kycStatus'){const searchTerm=debouncedFilters.status.toLowerCase().trim();if(searchTerm){filtered=filtered.filter(item=>{var _item$status;return(_item$status=item.status)===null||_item$status===void 0?void 0:_item$status.toLowerCase().includes(searchTerm);});}}// Apply project filter\nif(debouncedFilters.project&&widgetKey==='byProject'){const searchTerm=debouncedFilters.project.toLowerCase().trim();if(searchTerm){filtered=filtered.filter(item=>{var _item$projectName;return(_item$projectName=item.projectName)===null||_item$projectName===void 0?void 0:_item$projectName.toLowerCase().includes(searchTerm);});}}// Apply country filter\nif(debouncedFilters.country&&widgetKey==='byCountryLanguage'){const searchTerm=debouncedFilters.country.toLowerCase().trim();if(searchTerm){filtered=filtered.filter(item=>{var _item$country;return(_item$country=item.country)===null||_item$country===void 0?void 0:_item$country.toLowerCase().includes(searchTerm);});}}return filtered;};/**\n * Load thresholds from localStorage\n */export const loadThresholds=()=>{try{const saved=localStorage.getItem(THRESHOLDS_STORAGE_KEY);if(saved){return JSON.parse(saved);}}catch(error){// Silently fail threshold loading\n}return{targetHC:{min:0,max:33,color:'red'},totalApplications:{min:67,color:'green'},avgAppReceivedToApplied:{max:15,color:'green'},avgAppReceivedToActive:{max:33,color:'green'}};};/**\n * Save thresholds to localStorage\n */export const saveThresholds=thresholds=>{try{localStorage.setItem(THRESHOLDS_STORAGE_KEY,JSON.stringify(thresholds));return true;}catch(error){return false;}};","map":{"version":3,"names":["BASELINE_STORAGE_KEY","THRESHOLDS_STORAGE_KEY","HISTORICAL_DATA_KEY","XLSX","toast","loadBaselineData","saved","localStorage","getItem","JSON","parse","error","saveBaselineData","dashboardState","stateWithTimestamp","_objectSpread","savedAt","Date","toISOString","setItem","stringify","formatNumber","num","toFixed","toString","formatDate","dateString","date","toLocaleString","month","day","year","hour","minute","getMetricColor","key","value","thresholds","threshold","max","undefined","min","color","exportToExcel","widgetKey","data","widgetName","metrics","kycStatus","byProject","byCountryLanguage","bySource","worksheetData","fileName","targetHC","totalApplications","totalQualified","totalActiveOnProjects","totalProductive","onboardingContributors","activeContributors","avgAppReceivedToApplied","avgAppReceivedToActive","lastRefreshed","map","item","status","count","projectName","countryLangData","push","forEach","Object","keys","country","source","ws","utils","aoa_to_sheet","wb","book_new","book_append_sheet","timestamp","split","writeFile","concat","success","getTrendData","metricKey","historicalData","length","snapshot","_snapshot$metrics","toLocaleDateString","slice","applyFilters","debouncedFilters","filtered","searchTerm","toLowerCase","trim","filter","_item$status","includes","project","_item$projectName","_item$country","loadThresholds","saveThresholds"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/CrowdDashboard/utils.js"],"sourcesContent":["// CrowdDashboard utilities\n\nimport { BASELINE_STORAGE_KEY, THRESHOLDS_STORAGE_KEY, HISTORICAL_DATA_KEY } from './constants';\nimport * as XLSX from 'xlsx';\nimport toast from 'react-hot-toast';\n\n/**\n * Load baseline data from localStorage\n */\nexport const loadBaselineData = () => {\n  try {\n    const saved = localStorage.getItem(BASELINE_STORAGE_KEY);\n    if (saved) {\n      return JSON.parse(saved);\n    }\n  } catch (error) {\n    // Silently fail baseline loading\n  }\n  return null;\n};\n\n/**\n * Save current dashboard state as baseline\n */\nexport const saveBaselineData = (dashboardState) => {\n  try {\n    const stateWithTimestamp = {\n      ...dashboardState,\n      savedAt: dashboardState.savedAt || new Date().toISOString()\n    };\n    localStorage.setItem(BASELINE_STORAGE_KEY, JSON.stringify(stateWithTimestamp));\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * Format number with K/M suffixes\n */\nexport const formatNumber = (num) => {\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1) + 'M';\n  } else if (num >= 1000) {\n    return (num / 1000).toFixed(1) + 'k';\n  }\n  return num.toString();\n};\n\n/**\n * Format date string\n */\nexport const formatDate = (dateString) => {\n  if (!dateString) return 'Never';\n  const date = new Date(dateString);\n  return date.toLocaleString('en-US', { \n    month: 'short', \n    day: 'numeric', \n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\n/**\n * Get metric color based on thresholds\n */\nexport const getMetricColor = (key, value, thresholds) => {\n  const threshold = thresholds[key];\n  if (!threshold) return 'green';\n  \n  if (threshold.max !== undefined && value > threshold.max) return 'red';\n  if (threshold.min !== undefined && value < threshold.min) return 'red';\n  return threshold.color || 'green';\n};\n\n/**\n * Export widget data to Excel\n */\nexport const exportToExcel = (widgetKey, data, widgetName, metrics, kycStatus, byProject, byCountryLanguage, bySource) => {\n  try {\n    let worksheetData = [];\n    let fileName = '';\n\n    switch(widgetKey) {\n      case 'baseMetrics':\n        worksheetData = [\n          ['Metric', 'Value'],\n          ['Target HC', metrics.targetHC],\n          ['Total Applications', metrics.totalApplications],\n          ['Total Qualified', metrics.totalQualified],\n          ['Total Active on Projects', metrics.totalActiveOnProjects],\n          ['Total Productive', metrics.totalProductive],\n          ['Onboarding Contributors', metrics.onboardingContributors],\n          ['Active Contributors', metrics.activeContributors],\n          ['Avg App Received to Applied (days)', metrics.avgAppReceivedToApplied],\n          ['Avg App Received to Active (days)', metrics.avgAppReceivedToActive],\n          ['Last Refreshed', formatDate(metrics.lastRefreshed)]\n        ];\n        fileName = 'Crowd_Dashboard_Metrics';\n        break;\n      case 'kycStatus':\n        worksheetData = [\n          ['KYC Status', 'Count'],\n          ...kycStatus.map(item => [item.status || 'Unknown', item.count || 0])\n        ];\n        fileName = 'KYC_Status';\n        break;\n      case 'byProject':\n        worksheetData = [\n          ['Project Name', 'Active Contributors'],\n          ...byProject.map(item => [item.projectName || 'Unknown', item.count || 0])\n        ];\n        fileName = 'Active_Contributors_by_Project';\n        break;\n      case 'byCountryLanguage':\n        const countryLangData = [];\n        countryLangData.push(['Country', 'Language', 'Count']);\n        byCountryLanguage.forEach(item => {\n          Object.keys(item).forEach(key => {\n            if (key !== 'country' && item[key] > 0) {\n              countryLangData.push([item.country || 'Unknown', key, item[key]]);\n            }\n          });\n        });\n        worksheetData = countryLangData;\n        fileName = 'Active_Contributors_by_Country_Language';\n        break;\n      case 'bySource':\n        worksheetData = [\n          ['Source Details', 'Contributors'],\n          ...bySource.map(item => [item.source || 'Unknown', item.count || 0])\n        ];\n        fileName = 'Contributors_by_Source_Details';\n        break;\n      default:\n        toast.error('Export not available for this widget');\n        return;\n    }\n\n    const ws = XLSX.utils.aoa_to_sheet(worksheetData);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, widgetName || 'Data');\n    \n    const timestamp = new Date().toISOString().split('T')[0];\n    XLSX.writeFile(wb, `${fileName}_${timestamp}.xlsx`);\n    toast.success(`${widgetName || 'Data'} exported successfully`);\n  } catch (error) {\n    toast.error('Failed to export data');\n  }\n};\n\n/**\n * Get trend data for a metric\n */\nexport const getTrendData = (metricKey, historicalData) => {\n  if (!historicalData || historicalData.length === 0) return [];\n  \n  return historicalData.map(snapshot => ({\n    date: new Date(snapshot.timestamp).toLocaleDateString(),\n    value: snapshot.metrics?.[metricKey] || 0\n  })).slice(-30); // Last 30 data points\n};\n\n/**\n * Apply filters to data\n */\nexport const applyFilters = (data, widgetKey, debouncedFilters) => {\n  if (!data || data.length === 0) return [];\n  \n  let filtered = data;\n  \n  // Apply status filter\n  if (debouncedFilters.status && widgetKey === 'kycStatus') {\n    const searchTerm = debouncedFilters.status.toLowerCase().trim();\n    if (searchTerm) {\n      filtered = filtered.filter(item => \n        item.status?.toLowerCase().includes(searchTerm)\n      );\n    }\n  }\n  \n  // Apply project filter\n  if (debouncedFilters.project && widgetKey === 'byProject') {\n    const searchTerm = debouncedFilters.project.toLowerCase().trim();\n    if (searchTerm) {\n      filtered = filtered.filter(item => \n        item.projectName?.toLowerCase().includes(searchTerm)\n      );\n    }\n  }\n  \n  // Apply country filter\n  if (debouncedFilters.country && widgetKey === 'byCountryLanguage') {\n    const searchTerm = debouncedFilters.country.toLowerCase().trim();\n    if (searchTerm) {\n      filtered = filtered.filter(item => \n        item.country?.toLowerCase().includes(searchTerm)\n      );\n    }\n  }\n  \n  return filtered;\n};\n\n/**\n * Load thresholds from localStorage\n */\nexport const loadThresholds = () => {\n  try {\n    const saved = localStorage.getItem(THRESHOLDS_STORAGE_KEY);\n    if (saved) {\n      return JSON.parse(saved);\n    }\n  } catch (error) {\n    // Silently fail threshold loading\n  }\n  return {\n    targetHC: { min: 0, max: 33, color: 'red' },\n    totalApplications: { min: 67, color: 'green' },\n    avgAppReceivedToApplied: { max: 15, color: 'green' },\n    avgAppReceivedToActive: { max: 33, color: 'green' }\n  };\n};\n\n/**\n * Save thresholds to localStorage\n */\nexport const saveThresholds = (thresholds) => {\n  try {\n    localStorage.setItem(THRESHOLDS_STORAGE_KEY, JSON.stringify(thresholds));\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}