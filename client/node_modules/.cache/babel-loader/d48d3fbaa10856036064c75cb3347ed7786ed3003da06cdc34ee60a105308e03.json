{"ast":null,"code":"/**\n * Error handling utilities\n * Provides consistent error handling and user-friendly error messages\n */\n\n/**\n * Gets user-friendly error message from error object\n * @param {Error|object} error - Error object\n * @returns {string} - User-friendly error message\n */\nexport const getErrorMessage = error => {\n  var _error$message, _error$message2, _error$message3, _error$message4, _error$message5;\n  if (!error) return 'An unexpected error occurred. Please try again.';\n\n  // If it's already a string, return it\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  // Check for axios error response\n  if (error.response) {\n    const {\n      status,\n      data\n    } = error.response;\n\n    // Handle different HTTP status codes\n    switch (status) {\n      case 400:\n        return (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || 'Invalid request. Please check your input and try again.';\n      case 401:\n        return 'Your session has expired. Please log in again.';\n      case 403:\n        return 'You do not have permission to perform this action.';\n      case 404:\n        return 'The requested resource was not found.';\n      case 409:\n        return (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || 'A conflict occurred. This record may already exist.';\n      case 422:\n        return (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || 'Validation failed. Please check your input.';\n      case 429:\n        return 'Too many requests. Please wait a moment and try again.';\n      case 500:\n        return (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || 'Server error. Please try again later.';\n      case 503:\n        return 'Service temporarily unavailable. Please try again later.';\n      default:\n        return (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || `Request failed with status ${status}. Please try again.`;\n    }\n  }\n\n  // Check for network error\n  if (error.code === 'ERR_NETWORK' || (_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('Network Error')) {\n    return 'Network error. Please check your internet connection and try again.';\n  }\n\n  // Check for aborted requests (user cancelled or new request started)\n  if (error.name === 'AbortError' || error.name === 'CanceledError' || error.code === 'ECONNABORTED' && (_error$message2 = error.message) !== null && _error$message2 !== void 0 && _error$message2.includes('aborted')) {\n    return null; // Don't show error for aborted requests\n  }\n\n  // Check for timeout error (only if not aborted)\n  if (error.code === 'ECONNABORTED' || (_error$message3 = error.message) !== null && _error$message3 !== void 0 && _error$message3.includes('timeout')) {\n    return 'Request timed out. Please try again.';\n  }\n\n  // Check for CORS error\n  if ((_error$message4 = error.message) !== null && _error$message4 !== void 0 && _error$message4.includes('CORS') || (_error$message5 = error.message) !== null && _error$message5 !== void 0 && _error$message5.includes('Cross-Origin')) {\n    return 'Connection error. Please ensure the server is running and CORS is configured correctly.';\n  }\n\n  // Check for Salesforce-specific errors\n  if (error.errorCode) {\n    switch (error.errorCode) {\n      case 'INVALID_LOGIN':\n        return 'Invalid Salesforce credentials. Please check your Salesforce settings.';\n      case 'INVALID_FIELD':\n        return 'Invalid field value. Please check your input.';\n      case 'REQUIRED_FIELD_MISSING':\n        return 'Required field is missing. Please fill in all required fields.';\n      case 'FIELD_FILTER_VALIDATION_EXCEPTION':\n        return error.message || 'Field validation failed. Please check your input.';\n      case 'FIELD_CUSTOM_VALIDATION_EXCEPTION':\n        return error.message || 'Validation failed. Please check your input.';\n      default:\n        return error.message || 'Salesforce error. Please check your input and try again.';\n    }\n  }\n\n  // Return error message if available\n  if (error.message) {\n    return error.message;\n  }\n\n  // Default error message\n  return 'An unexpected error occurred. Please try again.';\n};\n\n/**\n * Gets detailed error information for logging\n * @param {Error|object} error - Error object\n * @returns {object} - Detailed error information\n */\nexport const getErrorDetails = error => {\n  if (!error) return {};\n  const details = {\n    message: error.message || 'Unknown error',\n    name: error.name || 'Error',\n    stack: error.stack\n  };\n  if (error.response) {\n    var _error$config, _error$config2;\n    details.status = error.response.status;\n    details.statusText = error.response.statusText;\n    details.data = error.response.data;\n    details.url = (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url;\n    details.method = (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method;\n  }\n  if (error.code) {\n    details.code = error.code;\n  }\n  if (error.errorCode) {\n    details.errorCode = error.errorCode;\n  }\n  return details;\n};\n\n/**\n * Logs error with details\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n */\nexport const logError = (error, context = '') => {\n  const errorDetails = getErrorDetails(error);\n  const userMessage = getErrorMessage(error);\n  console.error(`[${context}] Error:`, {\n    ...errorDetails,\n    userMessage,\n    timestamp: new Date().toISOString()\n  });\n};\n\n/**\n * Handles error and returns user-friendly message\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n * @returns {string} - User-friendly error message (null if aborted)\n */\nexport const handleError = (error, context = '') => {\n  // Don't log or show errors for aborted requests\n  if ((error === null || error === void 0 ? void 0 : error.name) === 'AbortError' || (error === null || error === void 0 ? void 0 : error.name) === 'CanceledError') {\n    return null;\n  }\n  const errorMessage = getErrorMessage(error);\n\n  // Don't log if error message is null (aborted request)\n  if (errorMessage !== null) {\n    logError(error, context);\n  }\n  return errorMessage;\n};","map":{"version":3,"names":["getErrorMessage","error","_error$message","_error$message2","_error$message3","_error$message4","_error$message5","response","status","data","message","code","includes","name","errorCode","getErrorDetails","details","stack","_error$config","_error$config2","statusText","url","config","method","logError","context","errorDetails","userMessage","console","timestamp","Date","toISOString","handleError","errorMessage"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/utils/errorHandler.js"],"sourcesContent":["/**\n * Error handling utilities\n * Provides consistent error handling and user-friendly error messages\n */\n\n/**\n * Gets user-friendly error message from error object\n * @param {Error|object} error - Error object\n * @returns {string} - User-friendly error message\n */\nexport const getErrorMessage = (error) => {\n  if (!error) return 'An unexpected error occurred. Please try again.';\n\n  // If it's already a string, return it\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  // Check for axios error response\n  if (error.response) {\n    const { status, data } = error.response;\n    \n    // Handle different HTTP status codes\n    switch (status) {\n      case 400:\n        return data?.error || data?.message || 'Invalid request. Please check your input and try again.';\n      case 401:\n        return 'Your session has expired. Please log in again.';\n      case 403:\n        return 'You do not have permission to perform this action.';\n      case 404:\n        return 'The requested resource was not found.';\n      case 409:\n        return data?.error || data?.message || 'A conflict occurred. This record may already exist.';\n      case 422:\n        return data?.error || data?.message || 'Validation failed. Please check your input.';\n      case 429:\n        return 'Too many requests. Please wait a moment and try again.';\n      case 500:\n        return data?.error || data?.message || 'Server error. Please try again later.';\n      case 503:\n        return 'Service temporarily unavailable. Please try again later.';\n      default:\n        return data?.error || data?.message || `Request failed with status ${status}. Please try again.`;\n    }\n  }\n\n  // Check for network error\n  if (error.code === 'ERR_NETWORK' || error.message?.includes('Network Error')) {\n    return 'Network error. Please check your internet connection and try again.';\n  }\n\n  // Check for aborted requests (user cancelled or new request started)\n  if (error.name === 'AbortError' || error.name === 'CanceledError' || \n      (error.code === 'ECONNABORTED' && error.message?.includes('aborted'))) {\n    return null; // Don't show error for aborted requests\n  }\n\n  // Check for timeout error (only if not aborted)\n  if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n    return 'Request timed out. Please try again.';\n  }\n\n  // Check for CORS error\n  if (error.message?.includes('CORS') || error.message?.includes('Cross-Origin')) {\n    return 'Connection error. Please ensure the server is running and CORS is configured correctly.';\n  }\n\n  // Check for Salesforce-specific errors\n  if (error.errorCode) {\n    switch (error.errorCode) {\n      case 'INVALID_LOGIN':\n        return 'Invalid Salesforce credentials. Please check your Salesforce settings.';\n      case 'INVALID_FIELD':\n        return 'Invalid field value. Please check your input.';\n      case 'REQUIRED_FIELD_MISSING':\n        return 'Required field is missing. Please fill in all required fields.';\n      case 'FIELD_FILTER_VALIDATION_EXCEPTION':\n        return error.message || 'Field validation failed. Please check your input.';\n      case 'FIELD_CUSTOM_VALIDATION_EXCEPTION':\n        return error.message || 'Validation failed. Please check your input.';\n      default:\n        return error.message || 'Salesforce error. Please check your input and try again.';\n    }\n  }\n\n  // Return error message if available\n  if (error.message) {\n    return error.message;\n  }\n\n  // Default error message\n  return 'An unexpected error occurred. Please try again.';\n};\n\n/**\n * Gets detailed error information for logging\n * @param {Error|object} error - Error object\n * @returns {object} - Detailed error information\n */\nexport const getErrorDetails = (error) => {\n  if (!error) return {};\n\n  const details = {\n    message: error.message || 'Unknown error',\n    name: error.name || 'Error',\n    stack: error.stack\n  };\n\n  if (error.response) {\n    details.status = error.response.status;\n    details.statusText = error.response.statusText;\n    details.data = error.response.data;\n    details.url = error.config?.url;\n    details.method = error.config?.method;\n  }\n\n  if (error.code) {\n    details.code = error.code;\n  }\n\n  if (error.errorCode) {\n    details.errorCode = error.errorCode;\n  }\n\n  return details;\n};\n\n/**\n * Logs error with details\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n */\nexport const logError = (error, context = '') => {\n  const errorDetails = getErrorDetails(error);\n  const userMessage = getErrorMessage(error);\n  \n  console.error(`[${context}] Error:`, {\n    ...errorDetails,\n    userMessage,\n    timestamp: new Date().toISOString()\n  });\n};\n\n/**\n * Handles error and returns user-friendly message\n * @param {Error|object} error - Error object\n * @param {string} context - Context where error occurred\n * @returns {string} - User-friendly error message (null if aborted)\n */\nexport const handleError = (error, context = '') => {\n  // Don't log or show errors for aborted requests\n  if (error?.name === 'AbortError' || error?.name === 'CanceledError') {\n    return null;\n  }\n  \n  const errorMessage = getErrorMessage(error);\n  \n  // Don't log if error message is null (aborted request)\n  if (errorMessage !== null) {\n    logError(error, context);\n  }\n  \n  return errorMessage;\n};\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}