{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Bookmark,BookmarkCheck}from'lucide-react';import{useLocation}from'react-router-dom';import{addBookmark,removeBookmark,isBookmarked}from'../utils/crossFeature/bookmarks';import toast from'react-hot-toast';/**\n * Bookmark button component to add/remove bookmarks for the current page\n * Should be placed in page headers\n */import{jsx as _jsx}from\"react/jsx-runtime\";const BookmarkButton=_ref=>{let{pageName,pageType='page'}=_ref;const location=useLocation();const[bookmarked,setBookmarked]=useState(false);useEffect(()=>{const path=location.pathname;const currentBookmarked=isBookmarked(pageType,path);setBookmarked(currentBookmarked);},[location.pathname,pageType]);const handleToggleBookmark=()=>{const path=location.pathname;const name=pageName||path.split('/').filter(p=>p).pop()||'Page';if(bookmarked){const result=removeBookmark(pageType,path);if(result.success){setBookmarked(false);toast.success('Bookmark removed');}}else{const result=addBookmark({type:pageType,id:path,name:name,path:path,description:\"Bookmark for \".concat(name)});if(result.success){setBookmarked(true);toast.success('Page bookmarked');}else{toast.error(result.error||'Failed to add bookmark');}}};return/*#__PURE__*/_jsx(\"button\",{onClick:handleToggleBookmark,style:{background:'none',border:'none',cursor:'pointer',padding:'8px',display:'flex',alignItems:'center',justifyContent:'center',color:bookmarked?'#0176d3':'#666',transition:'color 0.2s'},title:bookmarked?'Remove bookmark':'Add bookmark',children:bookmarked?/*#__PURE__*/_jsx(BookmarkCheck,{size:18}):/*#__PURE__*/_jsx(Bookmark,{size:18})});};export default BookmarkButton;","map":{"version":3,"names":["React","useState","useEffect","Bookmark","BookmarkCheck","useLocation","addBookmark","removeBookmark","isBookmarked","toast","jsx","_jsx","BookmarkButton","_ref","pageName","pageType","location","bookmarked","setBookmarked","path","pathname","currentBookmarked","handleToggleBookmark","name","split","filter","p","pop","result","success","type","id","description","concat","error","onClick","style","background","border","cursor","padding","display","alignItems","justifyContent","color","transition","title","children","size"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/BookmarkButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Bookmark, BookmarkCheck } from 'lucide-react';\nimport { useLocation } from 'react-router-dom';\nimport { addBookmark, removeBookmark, isBookmarked } from '../utils/crossFeature/bookmarks';\nimport toast from 'react-hot-toast';\n\n/**\n * Bookmark button component to add/remove bookmarks for the current page\n * Should be placed in page headers\n */\nconst BookmarkButton = ({ pageName, pageType = 'page' }) => {\n  const location = useLocation();\n  const [bookmarked, setBookmarked] = useState(false);\n\n  useEffect(() => {\n    const path = location.pathname;\n    const currentBookmarked = isBookmarked(pageType, path);\n    setBookmarked(currentBookmarked);\n  }, [location.pathname, pageType]);\n\n  const handleToggleBookmark = () => {\n    const path = location.pathname;\n    const name = pageName || path.split('/').filter(p => p).pop() || 'Page';\n    \n    if (bookmarked) {\n      const result = removeBookmark(pageType, path);\n      if (result.success) {\n        setBookmarked(false);\n        toast.success('Bookmark removed');\n      }\n    } else {\n      const result = addBookmark({\n        type: pageType,\n        id: path,\n        name: name,\n        path: path,\n        description: `Bookmark for ${name}`\n      });\n      if (result.success) {\n        setBookmarked(true);\n        toast.success('Page bookmarked');\n      } else {\n        toast.error(result.error || 'Failed to add bookmark');\n      }\n    }\n  };\n\n  return (\n    <button\n      onClick={handleToggleBookmark}\n      style={{\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        padding: '8px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: bookmarked ? '#0176d3' : '#666',\n        transition: 'color 0.2s'\n      }}\n      title={bookmarked ? 'Remove bookmark' : 'Add bookmark'}\n    >\n      {bookmarked ? <BookmarkCheck size={18} /> : <Bookmark size={18} />}\n    </button>\n  );\n};\n\nexport default BookmarkButton;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,CAAEC,aAAa,KAAQ,cAAc,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,cAAc,CAAEC,YAAY,KAAQ,iCAAiC,CAC3F,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAEnC;AACA;AACA;AACA,GAHA,OAAAC,GAAA,IAAAC,IAAA,yBAIA,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAqC,IAApC,CAAEC,QAAQ,CAAEC,QAAQ,CAAG,MAAO,CAAC,CAAAF,IAAA,CACrD,KAAM,CAAAG,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,IAAI,CAAGH,QAAQ,CAACI,QAAQ,CAC9B,KAAM,CAAAC,iBAAiB,CAAGb,YAAY,CAACO,QAAQ,CAAEI,IAAI,CAAC,CACtDD,aAAa,CAACG,iBAAiB,CAAC,CAClC,CAAC,CAAE,CAACL,QAAQ,CAACI,QAAQ,CAAEL,QAAQ,CAAC,CAAC,CAEjC,KAAM,CAAAO,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAH,IAAI,CAAGH,QAAQ,CAACI,QAAQ,CAC9B,KAAM,CAAAG,IAAI,CAAGT,QAAQ,EAAIK,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,CAAC,EAAIA,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,EAAI,MAAM,CAEvE,GAAIV,UAAU,CAAE,CACd,KAAM,CAAAW,MAAM,CAAGrB,cAAc,CAACQ,QAAQ,CAAEI,IAAI,CAAC,CAC7C,GAAIS,MAAM,CAACC,OAAO,CAAE,CAClBX,aAAa,CAAC,KAAK,CAAC,CACpBT,KAAK,CAACoB,OAAO,CAAC,kBAAkB,CAAC,CACnC,CACF,CAAC,IAAM,CACL,KAAM,CAAAD,MAAM,CAAGtB,WAAW,CAAC,CACzBwB,IAAI,CAAEf,QAAQ,CACdgB,EAAE,CAAEZ,IAAI,CACRI,IAAI,CAAEA,IAAI,CACVJ,IAAI,CAAEA,IAAI,CACVa,WAAW,iBAAAC,MAAA,CAAkBV,IAAI,CACnC,CAAC,CAAC,CACF,GAAIK,MAAM,CAACC,OAAO,CAAE,CAClBX,aAAa,CAAC,IAAI,CAAC,CACnBT,KAAK,CAACoB,OAAO,CAAC,iBAAiB,CAAC,CAClC,CAAC,IAAM,CACLpB,KAAK,CAACyB,KAAK,CAACN,MAAM,CAACM,KAAK,EAAI,wBAAwB,CAAC,CACvD,CACF,CACF,CAAC,CAED,mBACEvB,IAAA,WACEwB,OAAO,CAAEb,oBAAqB,CAC9Bc,KAAK,CAAE,CACLC,UAAU,CAAE,MAAM,CAClBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,SAAS,CACjBC,OAAO,CAAE,KAAK,CACdC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,KAAK,CAAE3B,UAAU,CAAG,SAAS,CAAG,MAAM,CACtC4B,UAAU,CAAE,YACd,CAAE,CACFC,KAAK,CAAE7B,UAAU,CAAG,iBAAiB,CAAG,cAAe,CAAA8B,QAAA,CAEtD9B,UAAU,cAAGN,IAAA,CAACP,aAAa,EAAC4C,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGrC,IAAA,CAACR,QAAQ,EAAC6C,IAAI,CAAE,EAAG,CAAE,CAAC,CAC5D,CAAC,CAEb,CAAC,CAED,cAAe,CAAApC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}