{"ast":null,"code":"import React,{useState}from'react';import ObjectCard from'./cards/ObjectCard';import RelationshipCard from'./cards/RelationshipCard';import SubqueryCard from'./cards/SubqueryCard';import FilterCard from'./cards/FilterCard';import SortGroupCard from'./cards/SortGroupCard';import EmptyState from'./EmptyState';import InfoModal from'../InfoModal';import'../../../styles/QueryCanvas.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const QueryCanvas=_ref=>{var _reportConfig$relatio,_reportConfig$subquer;let{reportConfig,// Legacy single-object methods\nonFieldAdd,onFieldRemove,onRelationshipAdd,onRelationshipRemove,onSubqueryAdd,onSubqueryRemove,onFilterAdd,onFilterRemove,onSortUpdate,onGroupByUpdate,onConfigUpdate,// New multi-object methods\nonObjectAdd,onObjectRemove,onFieldAddToObject,onFieldRemoveFromObject,onFieldReorderInObject,onRelationshipAddToObject,onRelationshipRemoveFromObject,onSubqueryAddToObject,onSubqueryRemoveFromObject,onFilterAddToObject,onFilterRemoveFromObject}=_ref;const[showInfoModal,setShowInfoModal]=useState(false);const[infoMessage,setInfoMessage]=useState('');const handleDrop=e=>{e.preventDefault();try{const dataStr=e.dataTransfer.getData('application/json');if(!dataStr){return;// No data to process\n}const data=JSON.parse(dataStr);if(data.type==='field'){// In multi-object mode, route to the correct object based on sourceObjectType\nif(isMultiObjectMode&&data.sourceObjectType&&onFieldAddToObject){onFieldAddToObject(data.sourceObjectType,data.field);}else{onFieldAdd(data.field);}}else if(data.type==='relationship'){// In multi-object mode, add to first object; otherwise use legacy method\nif(isMultiObjectMode&&onRelationshipAddToObject&&reportConfig.objects&&reportConfig.objects.length>0){onRelationshipAddToObject(reportConfig.objects[0].objectType,data.relationship);}else{onRelationshipAdd(data.relationship);}}else if(data.type==='relationship-field'){var _data$field;// Add field from relationship\nconst fieldName=typeof data.field==='string'?data.field:data.field.name;const fieldLabel=typeof data.field==='string'?data.field:data.field.label||data.field.name;const fieldWithPath={name:\"\".concat(data.relationshipName,\".\").concat(fieldName),label:\"\".concat(data.relationshipName,\" \").concat(fieldLabel),type:((_data$field=data.field)===null||_data$field===void 0?void 0:_data$field.type)||'string'};// In multi-object mode, add to first object; otherwise use legacy method\nif(isMultiObjectMode&&onFieldAddToObject&&reportConfig.objects&&reportConfig.objects.length>0){onFieldAddToObject(reportConfig.objects[0].objectType,fieldWithPath);}else{onFieldAdd(fieldWithPath);}}else if(data.type==='subquery'){// In multi-object mode, add to first object; otherwise use legacy method\nif(isMultiObjectMode&&onSubqueryAddToObject&&reportConfig.objects&&reportConfig.objects.length>0){onSubqueryAddToObject(reportConfig.objects[0].objectType,data.subquery);}else{onSubqueryAdd(data.subquery);}}else if(data.type==='subquery-field'){var _data$field2;// Add field from subquery\nconst fieldName=typeof data.field==='string'?data.field:data.field.name;const fieldLabel=typeof data.field==='string'?data.field:data.field.label||data.field.name;const fieldWithPath={name:\"SUBQUERY:\".concat(data.relationshipName,\".\").concat(fieldName),label:\"\".concat(data.relationshipName,\" \").concat(fieldLabel),type:((_data$field2=data.field)===null||_data$field2===void 0?void 0:_data$field2.type)||'string'};// In multi-object mode, add to first object; otherwise use legacy method\nif(isMultiObjectMode&&onFieldAddToObject&&reportConfig.objects&&reportConfig.objects.length>0){onFieldAddToObject(reportConfig.objects[0].objectType,fieldWithPath);}else{onFieldAdd(fieldWithPath);}}}catch(error){console.error('Error handling drop:',error);// Silently fail - don't show browser alert\n}};const handleDragOver=e=>{e.preventDefault();e.dataTransfer.dropEffect='move';};// Support both multi-object and legacy single-object modes\nconst isMultiObjectMode=reportConfig&&reportConfig.objects&&reportConfig.objects.length>0;const hasObjects=isMultiObjectMode||reportConfig&&reportConfig.objectType;// Legacy single-object field filtering - ensure these are always defined\nconst allFields=(reportConfig===null||reportConfig===void 0?void 0:reportConfig.fields)||[];const primaryObjectFields=allFields.filter(f=>{const fieldName=typeof f==='string'?f:(f===null||f===void 0?void 0:f.name)||'';return fieldName&&!fieldName.includes('.')&&!fieldName.startsWith('SUBQUERY:');});const relationshipFields=allFields.filter(f=>{const fieldName=typeof f==='string'?f:(f===null||f===void 0?void 0:f.name)||'';return fieldName&&fieldName.includes('.')&&!fieldName.startsWith('SUBQUERY:');});const subqueryFields=allFields.filter(f=>{const fieldName=typeof f==='string'?f:(f===null||f===void 0?void 0:f.name)||'';return fieldName&&fieldName.startsWith('SUBQUERY:');});if(!hasObjects){return/*#__PURE__*/_jsx(\"div\",{className:\"query-canvas\",onDrop:handleDrop,onDragOver:handleDragOver,children:/*#__PURE__*/_jsx(EmptyState,{onObjectSelect:objectType=>{if(onObjectAdd){onObjectAdd(objectType);}else{onConfigUpdate({objectType});}}})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"query-canvas\",onDrop:handleDrop,onDragOver:handleDragOver,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"canvas-content\",children:[isMultiObjectMode&&reportConfig.objects.map((objConfig,index)=>{var _objConfig$relationsh,_objConfig$subqueries;const objFields=objConfig.fields||[];const objRelationshipFields=objFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.includes('.')&&!fieldName.startsWith('SUBQUERY:');});const objSubqueryFields=objFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.startsWith('SUBQUERY:');});const objPrimaryFields=objFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return!fieldName.includes('.')&&!fieldName.startsWith('SUBQUERY:');});return/*#__PURE__*/_jsxs(\"div\",{className:\"object-card-container\",children:[/*#__PURE__*/_jsx(ObjectCard,{objectType:objConfig.objectType,fields:objPrimaryFields,onFieldAdd:field=>{// Always use the multi-object method when in multi-object mode\nif(onFieldAddToObject){onFieldAddToObject(objConfig.objectType,field);}else{onFieldAdd(field);}},onFieldRemove:fieldName=>{if(onFieldRemoveFromObject){onFieldRemoveFromObject(objConfig.objectType,fieldName);}else{onFieldRemove(fieldName);}},onFieldReorder:(fromIndex,toIndex)=>{if(onFieldReorderInObject){onFieldReorderInObject(objConfig.objectType,fromIndex,toIndex);}},onRemove:onObjectRemove?()=>onObjectRemove(objConfig.objectType):undefined,showRemove:true}),(_objConfig$relationsh=objConfig.relationships)===null||_objConfig$relationsh===void 0?void 0:_objConfig$relationsh.map(relationship=>{const relFields=objRelationshipFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.startsWith(\"\".concat(relationship.relationshipName,\".\"));});return/*#__PURE__*/_jsx(RelationshipCard,{relationship:relationship,fields:relFields,onFieldAdd:field=>(onFieldAddToObject===null||onFieldAddToObject===void 0?void 0:onFieldAddToObject(objConfig.objectType,field))||(onFieldAdd===null||onFieldAdd===void 0?void 0:onFieldAdd(field)),onFieldRemove:fieldName=>(onFieldRemoveFromObject===null||onFieldRemoveFromObject===void 0?void 0:onFieldRemoveFromObject(objConfig.objectType,fieldName))||(onFieldRemove===null||onFieldRemove===void 0?void 0:onFieldRemove(fieldName)),onRemove:()=>(onRelationshipRemoveFromObject===null||onRelationshipRemoveFromObject===void 0?void 0:onRelationshipRemoveFromObject(objConfig.objectType,relationship.relationshipName))||(onRelationshipRemove===null||onRelationshipRemove===void 0?void 0:onRelationshipRemove(relationship.relationshipName))},relationship.relationshipName);}),(_objConfig$subqueries=objConfig.subqueries)===null||_objConfig$subqueries===void 0?void 0:_objConfig$subqueries.map(subquery=>{const subFields=objSubqueryFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.startsWith(\"SUBQUERY:\".concat(subquery.relationshipName,\".\"));});return/*#__PURE__*/_jsx(SubqueryCard,{subquery:subquery,fields:subFields,onFieldAdd:field=>(onFieldAddToObject===null||onFieldAddToObject===void 0?void 0:onFieldAddToObject(objConfig.objectType,field))||(onFieldAdd===null||onFieldAdd===void 0?void 0:onFieldAdd(field)),onFieldRemove:fieldName=>(onFieldRemoveFromObject===null||onFieldRemoveFromObject===void 0?void 0:onFieldRemoveFromObject(objConfig.objectType,fieldName))||(onFieldRemove===null||onFieldRemove===void 0?void 0:onFieldRemove(fieldName)),onRemove:()=>(onSubqueryRemoveFromObject===null||onSubqueryRemoveFromObject===void 0?void 0:onSubqueryRemoveFromObject(objConfig.objectType,subquery.relationshipName))||(onSubqueryRemove===null||onSubqueryRemove===void 0?void 0:onSubqueryRemove(subquery.relationshipName))},subquery.relationshipName);}),objConfig.filters&&objConfig.filters.length>0&&/*#__PURE__*/_jsx(FilterCard,{filters:objConfig.filters,onFilterAdd:filter=>(onFilterAddToObject===null||onFilterAddToObject===void 0?void 0:onFilterAddToObject(objConfig.objectType,filter))||(onFilterAdd===null||onFilterAdd===void 0?void 0:onFilterAdd(filter)),onFilterRemove:filterIndex=>(onFilterRemoveFromObject===null||onFilterRemoveFromObject===void 0?void 0:onFilterRemoveFromObject(objConfig.objectType,filterIndex))||(onFilterRemove===null||onFilterRemove===void 0?void 0:onFilterRemove(filterIndex)),availableFields:objFields})]},objConfig.objectType);}),!isMultiObjectMode&&reportConfig.objectType&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ObjectCard,{objectType:reportConfig.objectType,fields:primaryObjectFields,onFieldAdd:onFieldAdd,onFieldRemove:onFieldRemove}),(_reportConfig$relatio=reportConfig.relationships)===null||_reportConfig$relatio===void 0?void 0:_reportConfig$relatio.map(relationship=>{const relFields=relationshipFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.startsWith(\"\".concat(relationship.relationshipName,\".\"));});return/*#__PURE__*/_jsx(RelationshipCard,{relationship:relationship,fields:relFields,onFieldAdd:onFieldAdd,onFieldRemove:onFieldRemove,onRemove:()=>onRelationshipRemove(relationship.relationshipName)},relationship.relationshipName);}),(_reportConfig$subquer=reportConfig.subqueries)===null||_reportConfig$subquer===void 0?void 0:_reportConfig$subquer.map(subquery=>{const subFields=subqueryFields.filter(f=>{const fieldName=typeof f==='string'?f:f.name;return fieldName.startsWith(\"SUBQUERY:\".concat(subquery.relationshipName,\".\"));});return/*#__PURE__*/_jsx(SubqueryCard,{subquery:subquery,fields:subFields,onFieldAdd:onFieldAdd,onFieldRemove:onFieldRemove,onRemove:()=>onSubqueryRemove(subquery.relationshipName)},subquery.relationshipName);}),reportConfig.filters&&(reportConfig.filters.length>0||reportConfig.objectType)&&/*#__PURE__*/_jsx(FilterCard,{filters:reportConfig.filters,onFilterAdd:onFilterAdd,onFilterRemove:onFilterRemove,availableFields:reportConfig.fields||[]}),reportConfig.fields&&reportConfig.fields.length>0&&/*#__PURE__*/_jsx(SortGroupCard,{sortBy:reportConfig.sortBy,sortOrder:reportConfig.sortOrder,groupBy:reportConfig.groupBy,availableFields:reportConfig.fields,onSortUpdate:onSortUpdate,onGroupByUpdate:onGroupByUpdate}),reportConfig.objectType&&/*#__PURE__*/_jsx(\"div\",{className:\"add-relationship-section\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-relationship-btn\",onClick:()=>{setInfoMessage('Click on a relationship in the left panel to add it to your report.');setShowInfoModal(true);},children:\"+ Add Relationship\"})}),reportConfig.objectType&&/*#__PURE__*/_jsx(\"div\",{className:\"add-subquery-section\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-subquery-btn\",onClick:()=>{setInfoMessage('Click on a child record in the left panel to add it to your report.');setShowInfoModal(true);},children:\"+ Add Child Records\"})})]}),isMultiObjectMode&&/*#__PURE__*/_jsx(\"div\",{className:\"add-object-section\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-object-btn\",onClick:()=>{setInfoMessage('Select an object from the left panel to add it to your report.');setShowInfoModal(true);},children:\"+ Add Another Object\"})})]}),/*#__PURE__*/_jsx(InfoModal,{show:showInfoModal,message:infoMessage,onClose:()=>setShowInfoModal(false),title:\"How to Add\"})]});};export default QueryCanvas;","map":{"version":3,"names":["React","useState","ObjectCard","RelationshipCard","SubqueryCard","FilterCard","SortGroupCard","EmptyState","InfoModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QueryCanvas","_ref","_reportConfig$relatio","_reportConfig$subquer","reportConfig","onFieldAdd","onFieldRemove","onRelationshipAdd","onRelationshipRemove","onSubqueryAdd","onSubqueryRemove","onFilterAdd","onFilterRemove","onSortUpdate","onGroupByUpdate","onConfigUpdate","onObjectAdd","onObjectRemove","onFieldAddToObject","onFieldRemoveFromObject","onFieldReorderInObject","onRelationshipAddToObject","onRelationshipRemoveFromObject","onSubqueryAddToObject","onSubqueryRemoveFromObject","onFilterAddToObject","onFilterRemoveFromObject","showInfoModal","setShowInfoModal","infoMessage","setInfoMessage","handleDrop","e","preventDefault","dataStr","dataTransfer","getData","data","JSON","parse","type","isMultiObjectMode","sourceObjectType","field","objects","length","objectType","relationship","_data$field","fieldName","name","fieldLabel","label","fieldWithPath","concat","relationshipName","subquery","_data$field2","error","console","handleDragOver","dropEffect","hasObjects","allFields","fields","primaryObjectFields","filter","f","includes","startsWith","relationshipFields","subqueryFields","className","onDrop","onDragOver","children","onObjectSelect","map","objConfig","index","_objConfig$relationsh","_objConfig$subqueries","objFields","objRelationshipFields","objSubqueryFields","objPrimaryFields","onFieldReorder","fromIndex","toIndex","onRemove","undefined","showRemove","relationships","relFields","subqueries","subFields","filters","filterIndex","availableFields","sortBy","sortOrder","groupBy","onClick","show","message","onClose","title"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/AdvancedReportBuilder/QueryCanvas/QueryCanvas.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ObjectCard from './cards/ObjectCard';\nimport RelationshipCard from './cards/RelationshipCard';\nimport SubqueryCard from './cards/SubqueryCard';\nimport FilterCard from './cards/FilterCard';\nimport SortGroupCard from './cards/SortGroupCard';\nimport EmptyState from './EmptyState';\nimport InfoModal from '../InfoModal';\nimport '../../../styles/QueryCanvas.css';\n\nconst QueryCanvas = ({\n  reportConfig,\n  // Legacy single-object methods\n  onFieldAdd,\n  onFieldRemove,\n  onRelationshipAdd,\n  onRelationshipRemove,\n  onSubqueryAdd,\n  onSubqueryRemove,\n  onFilterAdd,\n  onFilterRemove,\n  onSortUpdate,\n  onGroupByUpdate,\n  onConfigUpdate,\n  // New multi-object methods\n  onObjectAdd,\n  onObjectRemove,\n  onFieldAddToObject,\n  onFieldRemoveFromObject,\n  onFieldReorderInObject,\n  onRelationshipAddToObject,\n  onRelationshipRemoveFromObject,\n  onSubqueryAddToObject,\n  onSubqueryRemoveFromObject,\n  onFilterAddToObject,\n  onFilterRemoveFromObject\n}) => {\n  const [showInfoModal, setShowInfoModal] = useState(false);\n  const [infoMessage, setInfoMessage] = useState('');\n  const handleDrop = (e) => {\n    e.preventDefault();\n    try {\n      const dataStr = e.dataTransfer.getData('application/json');\n      if (!dataStr) {\n        return; // No data to process\n      }\n      \n      const data = JSON.parse(dataStr);\n      \n      if (data.type === 'field') {\n        // In multi-object mode, route to the correct object based on sourceObjectType\n        if (isMultiObjectMode && data.sourceObjectType && onFieldAddToObject) {\n          onFieldAddToObject(data.sourceObjectType, data.field);\n        } else {\n          onFieldAdd(data.field);\n        }\n      } else if (data.type === 'relationship') {\n        // In multi-object mode, add to first object; otherwise use legacy method\n        if (isMultiObjectMode && onRelationshipAddToObject && reportConfig.objects && reportConfig.objects.length > 0) {\n          onRelationshipAddToObject(reportConfig.objects[0].objectType, data.relationship);\n        } else {\n          onRelationshipAdd(data.relationship);\n        }\n      } else if (data.type === 'relationship-field') {\n        // Add field from relationship\n        const fieldName = typeof data.field === 'string' ? data.field : data.field.name;\n        const fieldLabel = typeof data.field === 'string' ? data.field : (data.field.label || data.field.name);\n        const fieldWithPath = {\n          name: `${data.relationshipName}.${fieldName}`,\n          label: `${data.relationshipName} ${fieldLabel}`,\n          type: data.field?.type || 'string'\n        };\n        // In multi-object mode, add to first object; otherwise use legacy method\n        if (isMultiObjectMode && onFieldAddToObject && reportConfig.objects && reportConfig.objects.length > 0) {\n          onFieldAddToObject(reportConfig.objects[0].objectType, fieldWithPath);\n        } else {\n          onFieldAdd(fieldWithPath);\n        }\n      } else if (data.type === 'subquery') {\n        // In multi-object mode, add to first object; otherwise use legacy method\n        if (isMultiObjectMode && onSubqueryAddToObject && reportConfig.objects && reportConfig.objects.length > 0) {\n          onSubqueryAddToObject(reportConfig.objects[0].objectType, data.subquery);\n        } else {\n          onSubqueryAdd(data.subquery);\n        }\n      } else if (data.type === 'subquery-field') {\n        // Add field from subquery\n        const fieldName = typeof data.field === 'string' ? data.field : data.field.name;\n        const fieldLabel = typeof data.field === 'string' ? data.field : (data.field.label || data.field.name);\n        const fieldWithPath = {\n          name: `SUBQUERY:${data.relationshipName}.${fieldName}`,\n          label: `${data.relationshipName} ${fieldLabel}`,\n          type: data.field?.type || 'string'\n        };\n        // In multi-object mode, add to first object; otherwise use legacy method\n        if (isMultiObjectMode && onFieldAddToObject && reportConfig.objects && reportConfig.objects.length > 0) {\n          onFieldAddToObject(reportConfig.objects[0].objectType, fieldWithPath);\n        } else {\n          onFieldAdd(fieldWithPath);\n        }\n      }\n    } catch (error) {\n      console.error('Error handling drop:', error);\n      // Silently fail - don't show browser alert\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  // Support both multi-object and legacy single-object modes\n  const isMultiObjectMode = reportConfig && reportConfig.objects && reportConfig.objects.length > 0;\n  const hasObjects = isMultiObjectMode || (reportConfig && reportConfig.objectType);\n\n  // Legacy single-object field filtering - ensure these are always defined\n  const allFields = reportConfig?.fields || [];\n  const primaryObjectFields = allFields.filter(f => {\n    const fieldName = typeof f === 'string' ? f : (f?.name || '');\n    return fieldName && !fieldName.includes('.') && !fieldName.startsWith('SUBQUERY:');\n  });\n\n  const relationshipFields = allFields.filter(f => {\n    const fieldName = typeof f === 'string' ? f : (f?.name || '');\n    return fieldName && fieldName.includes('.') && !fieldName.startsWith('SUBQUERY:');\n  });\n\n  const subqueryFields = allFields.filter(f => {\n    const fieldName = typeof f === 'string' ? f : (f?.name || '');\n    return fieldName && fieldName.startsWith('SUBQUERY:');\n  });\n\n  if (!hasObjects) {\n    return (\n      <div\n        className=\"query-canvas\"\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n      >\n        <EmptyState \n          onObjectSelect={(objectType) => {\n            if (onObjectAdd) {\n              onObjectAdd(objectType);\n            } else {\n              onConfigUpdate({ objectType });\n            }\n          }} \n        />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"query-canvas\"\n      onDrop={handleDrop}\n      onDragOver={handleDragOver}\n    >\n      <div className=\"canvas-content\">\n        {/* Multi-Object Mode: Show all objects */}\n        {isMultiObjectMode && reportConfig.objects.map((objConfig, index) => {\n          const objFields = objConfig.fields || [];\n          const objRelationshipFields = objFields.filter(f => {\n            const fieldName = typeof f === 'string' ? f : f.name;\n            return fieldName.includes('.') && !fieldName.startsWith('SUBQUERY:');\n          });\n          const objSubqueryFields = objFields.filter(f => {\n            const fieldName = typeof f === 'string' ? f : f.name;\n            return fieldName.startsWith('SUBQUERY:');\n          });\n          const objPrimaryFields = objFields.filter(f => {\n            const fieldName = typeof f === 'string' ? f : f.name;\n            return !fieldName.includes('.') && !fieldName.startsWith('SUBQUERY:');\n          });\n\n          return (\n            <div key={objConfig.objectType} className=\"object-card-container\">\n              <ObjectCard\n                objectType={objConfig.objectType}\n                fields={objPrimaryFields}\n                onFieldAdd={(field) => {\n                  // Always use the multi-object method when in multi-object mode\n                  if (onFieldAddToObject) {\n                    onFieldAddToObject(objConfig.objectType, field);\n                  } else {\n                    onFieldAdd(field);\n                  }\n                }}\n                onFieldRemove={(fieldName) => {\n                  if (onFieldRemoveFromObject) {\n                    onFieldRemoveFromObject(objConfig.objectType, fieldName);\n                  } else {\n                    onFieldRemove(fieldName);\n                  }\n                }}\n                onFieldReorder={(fromIndex, toIndex) => {\n                  if (onFieldReorderInObject) {\n                    onFieldReorderInObject(objConfig.objectType, fromIndex, toIndex);\n                  }\n                }}\n                onRemove={onObjectRemove ? () => onObjectRemove(objConfig.objectType) : undefined}\n                showRemove={true}\n              />\n\n              {/* Relationships for this object */}\n              {objConfig.relationships?.map(relationship => {\n                const relFields = objRelationshipFields.filter(f => {\n                  const fieldName = typeof f === 'string' ? f : f.name;\n                  return fieldName.startsWith(`${relationship.relationshipName}.`);\n                });\n                return (\n                  <RelationshipCard\n                    key={relationship.relationshipName}\n                    relationship={relationship}\n                    fields={relFields}\n                    onFieldAdd={(field) => onFieldAddToObject?.(objConfig.objectType, field) || onFieldAdd?.(field)}\n                    onFieldRemove={(fieldName) => onFieldRemoveFromObject?.(objConfig.objectType, fieldName) || onFieldRemove?.(fieldName)}\n                    onRemove={() => onRelationshipRemoveFromObject?.(objConfig.objectType, relationship.relationshipName) || onRelationshipRemove?.(relationship.relationshipName)}\n                  />\n                );\n              })}\n\n              {/* Subqueries for this object */}\n              {objConfig.subqueries?.map(subquery => {\n                const subFields = objSubqueryFields.filter(f => {\n                  const fieldName = typeof f === 'string' ? f : f.name;\n                  return fieldName.startsWith(`SUBQUERY:${subquery.relationshipName}.`);\n                });\n                return (\n                  <SubqueryCard\n                    key={subquery.relationshipName}\n                    subquery={subquery}\n                    fields={subFields}\n                    onFieldAdd={(field) => onFieldAddToObject?.(objConfig.objectType, field) || onFieldAdd?.(field)}\n                    onFieldRemove={(fieldName) => onFieldRemoveFromObject?.(objConfig.objectType, fieldName) || onFieldRemove?.(fieldName)}\n                    onRemove={() => onSubqueryRemoveFromObject?.(objConfig.objectType, subquery.relationshipName) || onSubqueryRemove?.(subquery.relationshipName)}\n                  />\n                );\n              })}\n\n              {/* Filters for this object */}\n              {objConfig.filters && objConfig.filters.length > 0 && (\n                <FilterCard\n                  filters={objConfig.filters}\n                  onFilterAdd={(filter) => onFilterAddToObject?.(objConfig.objectType, filter) || onFilterAdd?.(filter)}\n                  onFilterRemove={(filterIndex) => onFilterRemoveFromObject?.(objConfig.objectType, filterIndex) || onFilterRemove?.(filterIndex)}\n                  availableFields={objFields}\n                />\n              )}\n            </div>\n          );\n        })}\n\n        {/* Legacy Single-Object Mode */}\n        {!isMultiObjectMode && reportConfig.objectType && (\n          <>\n            <ObjectCard\n              objectType={reportConfig.objectType}\n              fields={primaryObjectFields}\n              onFieldAdd={onFieldAdd}\n              onFieldRemove={onFieldRemove}\n            />\n\n            {/* Relationship Cards */}\n            {reportConfig.relationships?.map(relationship => {\n              const relFields = relationshipFields.filter(f => {\n                const fieldName = typeof f === 'string' ? f : f.name;\n                return fieldName.startsWith(`${relationship.relationshipName}.`);\n              });\n              return (\n                <RelationshipCard\n                  key={relationship.relationshipName}\n                  relationship={relationship}\n                  fields={relFields}\n                  onFieldAdd={onFieldAdd}\n                  onFieldRemove={onFieldRemove}\n                  onRemove={() => onRelationshipRemove(relationship.relationshipName)}\n                />\n              );\n            })}\n\n            {/* Subquery Cards */}\n            {reportConfig.subqueries?.map(subquery => {\n              const subFields = subqueryFields.filter(f => {\n                const fieldName = typeof f === 'string' ? f : f.name;\n                return fieldName.startsWith(`SUBQUERY:${subquery.relationshipName}.`);\n              });\n              return (\n                <SubqueryCard\n                  key={subquery.relationshipName}\n                  subquery={subquery}\n                  fields={subFields}\n                  onFieldAdd={onFieldAdd}\n                  onFieldRemove={onFieldRemove}\n                  onRemove={() => onSubqueryRemove(subquery.relationshipName)}\n                />\n              );\n            })}\n\n            {/* Filter Card */}\n            {reportConfig.filters && (reportConfig.filters.length > 0 || reportConfig.objectType) && (\n              <FilterCard\n                filters={reportConfig.filters}\n                onFilterAdd={onFilterAdd}\n                onFilterRemove={onFilterRemove}\n                availableFields={reportConfig.fields || []}\n              />\n            )}\n\n            {/* Sort & Group Card */}\n            {reportConfig.fields && reportConfig.fields.length > 0 && (\n              <SortGroupCard\n                sortBy={reportConfig.sortBy}\n                sortOrder={reportConfig.sortOrder}\n                groupBy={reportConfig.groupBy}\n                availableFields={reportConfig.fields}\n                onSortUpdate={onSortUpdate}\n                onGroupByUpdate={onGroupByUpdate}\n              />\n            )}\n\n            {/* Add Relationship Button */}\n            {reportConfig.objectType && (\n              <div className=\"add-relationship-section\">\n                <button\n                  className=\"add-relationship-btn\"\n                  onClick={() => {\n                    setInfoMessage('Click on a relationship in the left panel to add it to your report.');\n                    setShowInfoModal(true);\n                  }}\n                >\n                  + Add Relationship\n                </button>\n              </div>\n            )}\n\n            {/* Add Subquery Button */}\n            {reportConfig.objectType && (\n              <div className=\"add-subquery-section\">\n                <button\n                  className=\"add-subquery-btn\"\n                  onClick={() => {\n                    setInfoMessage('Click on a child record in the left panel to add it to your report.');\n                    setShowInfoModal(true);\n                  }}\n                >\n                  + Add Child Records\n                </button>\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Add Object Button (Multi-Object Mode) */}\n        {isMultiObjectMode && (\n          <div className=\"add-object-section\">\n            <button\n              className=\"add-object-btn\"\n              onClick={() => {\n                setInfoMessage('Select an object from the left panel to add it to your report.');\n                setShowInfoModal(true);\n              }}\n            >\n              + Add Another Object\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Info Modal */}\n      <InfoModal\n        show={showInfoModal}\n        message={infoMessage}\n        onClose={() => setShowInfoModal(false)}\n        title=\"How to Add\"\n      />\n    </div>\n  );\n};\n\nexport default QueryCanvas;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}