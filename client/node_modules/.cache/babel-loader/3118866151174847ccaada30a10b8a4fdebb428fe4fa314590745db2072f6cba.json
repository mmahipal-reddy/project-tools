{"ast":null,"code":"import React from'react';import{X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewDetailsModal=_ref=>{let{transaction,onClose}=_ref;const formatDate=dateString=>{return new Date(dateString).toLocaleString();};const getOperationLabel=operation=>{const labels={create:'Create',update:'Update',delete:'Delete',revert:'Revert'};return labels[operation]||operation;};const getStatusColor=status=>{switch(status){case'success':return'#52c41a';case'failed':return'#ff4d4f';case'partial':return'#faad14';default:return'#999';}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'8px',width:'90%',maxWidth:'800px',maxHeight:'90vh',overflow:'auto',boxShadow:'0 4px 12px rgba(0,0,0,0.15)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px 24px',borderBottom:'1px solid #e0e0e0',display:'flex',justifyContent:'space-between',alignItems:'center',position:'sticky',top:0,background:'white',zIndex:10},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'18px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Transaction Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{border:'none',background:'transparent',cursor:'pointer',padding:'4px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'4px',transition:'background-color 0.2s'},onMouseEnter:e=>e.target.style.backgroundColor='#f0f0f0',onMouseLeave:e=>e.target.style.backgroundColor='transparent',children:/*#__PURE__*/_jsx(X,{size:20,style:{color:'#666'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fafafa',padding:'16px',borderRadius:'4px',display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Transaction ID\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:transaction.id})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Object Type\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:transaction.objectType})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Operation\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:getOperationLabel(transaction.operation)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:transaction.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"User\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:transaction.publisher})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Date\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:formatDate(transaction.publishedAt)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:getStatusColor(transaction.status),fontWeight:500},children:transaction.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Record Count\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500},children:transaction.recordCount||1})]}),transaction.salesforceId&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginBottom:'4px'},children:\"Salesforce ID\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#002329',fontWeight:500,wordBreak:'break-all'},children:transaction.salesforceId})]})]})]}),transaction.error&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Error Information\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fff2f0',border:'1px solid #ffccc7',padding:'16px',borderRadius:'4px',color:'#a8071a'},children:transaction.error})]}),transaction.operation==='update'&&transaction.data&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Field Changes\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fff',border:'1px solid #e0e0e0',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#fafafa',borderBottom:'1px solid #e0e0e0'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 16px',textAlign:'left',fontSize:'13px',fontWeight:600,color:'#002329',width:'30%'},children:\"Field Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 16px',textAlign:'left',fontSize:'13px',fontWeight:600,color:'#002329',width:'35%'},children:\"Old Value\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 16px',textAlign:'left',fontSize:'13px',fontWeight:600,color:'#002329',width:'35%'},children:\"New Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(()=>{// Extract field changes from transaction data\n// Show ALL fields that were published, only exclude obvious API response metadata\nconst fields=[];const data=transaction.data;// Exclude only API response metadata fields\n// Note: We'll show 'Id' in the fallback if it's the only data, but prefer to show actual field changes\nconst excludedFields=new Set(['__sf','results','updates','success','errors','error','message','status','statusCode','metadata','count','total','updatedCount','errorCount','originalData','previousData','newData','changes']);// Helper to check if a key should be excluded (more permissive)\nconst isExcludedKey=key=>{// Exclude obvious API metadata\nif(excludedFields.has(key)||key.startsWith('_')){return true;}// Exclude 'Id' and 'id' only if there are other fields to show\n// This way if Id is the only field, we'll show it in the fallback\nreturn false;};const shouldExcludeKey=function(key){let hasOtherFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;// Exclude obvious API metadata\nif(excludedFields.has(key)||key.startsWith('_')){return true;}// Exclude 'Id' and 'id' only if we have other fields to show\n// If Id is the only field, we'll show it (handled in fallback)\nif((key==='Id'||key==='id')&&hasOtherFields){return true;}return false;};// Helper to extract fields from an object\n// This extracts all field names and values that were published to Salesforce\n// For update operations, we try to capture both old and new values\nconst extractFields=function(obj){let sourceName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let oldValuesObj=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!obj||typeof obj!=='object'||Array.isArray(obj)){return;}// Get all keys from the object\nconst keys=Object.keys(obj);// If no keys, nothing to extract\nif(keys.length===0){return;}// First pass: count non-excluded fields to decide if we should exclude Id\nconst nonExcludedKeys=keys.filter(k=>!isExcludedKey(k)&&k!=='Id'&&k!=='id'&&k!=='oldValue');const hasOtherFields=nonExcludedKeys.length>0;keys.forEach(key=>{// Skip if it's an excluded field (API metadata, not actual field data)\nif(shouldExcludeKey(key,hasOtherFields)||key==='oldValue'){return;}const value=obj[key];// Try to get old value from oldValuesObj if provided, or from obj.oldValue\nconst oldValue=oldValuesObj&&oldValuesObj[key]!==undefined?oldValuesObj[key]:obj.oldValue!==undefined&&typeof obj.oldValue==='object'?obj.oldValue[key]:null;// Handle different value types\nif(value===null||value===undefined){// Null/undefined values are valid - show them\nfields.push({name:sourceName+key,oldValue:oldValue!==undefined&&oldValue!==null?oldValue:null,newValue:null});}else if(typeof value==='object'&&!Array.isArray(value)){// Object value - check if it's an API response wrapper\nif(value.success!==undefined||value.errors!==undefined){// It's an API response wrapper, try to extract from nested data\nif(value.data&&typeof value.data==='object'&&!Array.isArray(value.data)){extractFields(value.data,\"\".concat(sourceName).concat(key,\".\"),oldValuesObj);return;}// If no nested data, skip this wrapper object\nreturn;}// Otherwise, it's a complex field value (like a relationship object) - show as JSON\nfields.push({name:sourceName+key,oldValue:oldValue!==undefined&&oldValue!==null?typeof oldValue==='object'?JSON.stringify(oldValue,null,2):oldValue:null,newValue:JSON.stringify(value,null,2)});}else if(Array.isArray(value)){// Array value - show as JSON\nfields.push({name:sourceName+key,oldValue:oldValue!==undefined&&oldValue!==null?Array.isArray(oldValue)?JSON.stringify(oldValue,null,2):oldValue:null,newValue:JSON.stringify(value,null,2)});}else{// Simple value (string, number, boolean) - show as is\nfields.push({name:sourceName+key,oldValue:oldValue!==undefined&&oldValue!==null?oldValue:null,newValue:value});}});};// Extract fields from the data\n// Priority order:\n// 1. sampleUpdate - contains the actual field changes (e.g., { Status__c: 'Open' })\n// 2. updates array - contains update objects with field changes (extract from first only)\n// 3. Other structures\n// IMPORTANT: Only extract from ONE source to avoid duplicates\nlet extractedFromData=false;if(data&&typeof data==='object'){if(data.sampleUpdate&&typeof data.sampleUpdate==='object'){// Best case: sampleUpdate contains the actual field changes\n// This is what was actually sent to Salesforce\n// Also check for sampleUpdateOldValue to get the old value\nconst oldValue=data.sampleUpdateOldValue!==undefined?data.sampleUpdateOldValue:null;Object.keys(data.sampleUpdate).forEach(key=>{if(key!=='Id'&&key!=='id'){fields.push({name:key,oldValue:oldValue,newValue:data.sampleUpdate[key]});}});extractedFromData=true;}else if(data.updates&&Array.isArray(data.updates)&&data.updates.length>0){// Updates array structure - extract from first update ONLY (they all have the same fields)\n// This prevents duplication when there are multiple records\nconst firstUpdate=data.updates[0];if(firstUpdate&&typeof firstUpdate==='object'){// Extract fields, excluding Id and oldValue (we'll handle oldValue separately)\nObject.keys(firstUpdate).forEach(key=>{if(key!=='Id'&&key!=='id'&&key!=='oldValue'){const newValue=firstUpdate[key];const oldValue=firstUpdate.oldValue;// Get old value if available\nif(newValue===null||newValue===undefined){fields.push({name:key,oldValue:oldValue!==undefined?oldValue:null,newValue:null});}else if(typeof newValue==='object'&&!Array.isArray(newValue)){fields.push({name:key,oldValue:oldValue!==undefined?oldValue:null,newValue:JSON.stringify(newValue,null,2)});}else if(Array.isArray(newValue)){fields.push({name:key,oldValue:oldValue!==undefined?oldValue:null,newValue:JSON.stringify(newValue,null,2)});}else{fields.push({name:key,oldValue:oldValue!==undefined?oldValue:null,newValue:newValue});}}});extractedFromData=true;}}else if(Array.isArray(data)){// Array of records - extract from first record\nif(data.length>0&&typeof data[0]==='object'){extractFields(data[0]);extractedFromData=true;}}else if(data.results&&Array.isArray(data.results)){// Bulk operation with results array - check if results have data\nif(data.results.length>0){const firstResult=data.results[0];if(firstResult.data&&typeof firstResult.data==='object'&&!Array.isArray(firstResult.data)){extractFields(firstResult.data);extractedFromData=true;}else if(firstResult&&typeof firstResult==='object'&&firstResult.id){// Results only have id and success, not field changes\n// Field changes should be in sampleUpdate, updates, or metadata\n// Don't extract from results - will fall back to metadata extraction\n}else{extractFields(firstResult);extractedFromData=true;}}}else if(data.data&&typeof data.data==='object'&&!Array.isArray(data.data)&&(data.success!==undefined||data.errors!==undefined)){// API response wrapper - extract from nested data\nextractFields(data.data);extractedFromData=true;}else{// Regular record object - this is the most common case\n// Plain object like: { Id: \"...\", Client_Tool_Name__c: \"...\", ... }\nextractFields(data);extractedFromData=true;}}// Fallback 1: Check metadata for fieldName and newValue (for bulk update operations)\n// Only check metadata if we haven't already extracted from data to avoid duplicates\nif(fields.length===0&&!extractedFromData&&transaction.metadata){const metadata=transaction.metadata;// Check for fieldName and newValue directly in metadata (for updateObjectFields operations)\nif(metadata.fieldName&&metadata.newValue!==undefined){// This is a bulk field update - show the field name, old value, and new value\nconst oldValue=metadata.currentValue!==undefined?metadata.currentValue:metadata.oldValue!==undefined?metadata.oldValue:data.sampleUpdateOldValue!==undefined?data.sampleUpdateOldValue:null;fields.push({name:metadata.fieldName,oldValue:oldValue,newValue:metadata.newValue});}// Check if metadata has updates array with field information (for other operations)\nelse if(metadata.updates&&Array.isArray(metadata.updates)&&metadata.updates.length>0){// Extract field changes from the first update object\nconst firstUpdate=metadata.updates[0];if(firstUpdate&&typeof firstUpdate==='object'){// For queue status updates, extract queueStatus field\nif(firstUpdate.queueStatus!==undefined){fields.push({name:'Queue_Status__c',value:firstUpdate.queueStatus});}// Extract all fields that look like Salesforce field changes\nObject.keys(firstUpdate).forEach(key=>{// Skip Id, projectId, and other metadata/identifier fields\n// But include actual field changes\nif(key!=='Id'&&key!=='id'&&key!=='projectId'&&key!=='currentStatus'&&key!=='projectObjectiveId'&&key!=='currentQueueStatus'){const value=firstUpdate[key];if(value!==undefined&&value!==null){// Check if this looks like a field name (ends with __c or is a known field)\n// Or if it's a status-related field\nif(key.endsWith('__c')||key==='Status__c'||key==='Queue_Status__c'||key==='status'||key==='queueStatus'||key.toLowerCase().includes('status')){// Map common field names to Salesforce API names\nconst fieldName=key==='queueStatus'?'Queue_Status__c':key==='status'?'Status__c':key;fields.push({name:fieldName,value:value});}}}});}}// If operation is bulk_update_fields but no fieldName in metadata, \n// this might be an older entry - try to infer from operation name\nelse if(metadata.operation==='bulk_update_fields'&&!metadata.fieldName){// This is an older entry - we can't extract field changes\n// But we can show a message\nconsole.warn('Bulk update operation found but fieldName not in metadata - this may be an older history entry');}}// Fallback 2: if still no fields, try direct extraction (most permissive)\nif(fields.length===0&&data&&typeof data==='object'&&!Array.isArray(data)){// Extract all keys directly, excluding only the most obvious API metadata\nObject.keys(data).forEach(key=>{// Skip only obvious API response fields\nif(key==='success'||key==='errors'||key==='error'||key==='message'||key==='status'||key==='statusCode'||key.startsWith('_')||key==='results'||key==='updates'||key==='metadata'){return;}const value=data[key];// Skip API response wrapper objects\nif(typeof value==='object'&&value!==null&&!Array.isArray(value)&&(value.success!==undefined||value.errors!==undefined)){// Try nested data\nif(value.data&&typeof value.data==='object'&&!Array.isArray(value.data)){extractFields(value.data);}return;}// Add the field (fallback - no old value available)\nfields.push({name:key,oldValue:null,newValue:value});});}// Deduplicate fields by field name (keep first occurrence)\nconst seenFields=new Set();const uniqueFields=fields.filter(field=>{if(seenFields.has(field.name)){return false;// Skip duplicate\n}seenFields.add(field.name);return true;// Keep first occurrence\n});if(uniqueFields.length===0){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"2\",style:{padding:'16px',textAlign:'center',color:'#666',fontFamily:'Poppins'},children:[\"No field changes available\",process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',marginTop:'8px',color:'#999',textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Debug: data type = \",typeof data,\", isArray = \",Array.isArray(data)?'yes':'no']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"data keys = \",data&&typeof data==='object'?Object.keys(data).join(', '):'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"metadata keys = \",transaction.metadata&&typeof transaction.metadata==='object'?Object.keys(transaction.metadata).join(', '):'N/A']}),transaction.metadata&&transaction.metadata.fieldName&&/*#__PURE__*/_jsxs(\"div\",{children:[\"metadata.fieldName = \",transaction.metadata.fieldName,\", metadata.newValue = \",String(transaction.metadata.newValue)]}),transaction.metadata&&transaction.metadata.operation&&/*#__PURE__*/_jsxs(\"div\",{children:[\"metadata.operation = \",transaction.metadata.operation]}),transaction.metadata&&transaction.metadata.updates&&Array.isArray(transaction.metadata.updates)&&transaction.metadata.updates.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"metadata.updates[0] keys = \",Object.keys(transaction.metadata.updates[0]||{}).join(', '),transaction.metadata.updates[0]&&/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'10px',marginTop:'4px'},children:Object.entries(transaction.metadata.updates[0]).map(_ref2=>{let[k,v]=_ref2;return k!=='Id'&&k!=='id'&&k!=='projectId'?\"\".concat(k,\": \").concat(String(v)):null;}).filter(Boolean).join(', ')})]}),data&&data.sampleUpdate&&/*#__PURE__*/_jsxs(\"div\",{children:[\"sampleUpdate keys = \",Object.keys(data.sampleUpdate).join(', ')]}),data&&data.updates&&Array.isArray(data.updates)&&/*#__PURE__*/_jsxs(\"div\",{children:[\"data.updates array length = \",data.updates.length]})]})]})});}return uniqueFields.map((field,index)=>{// Format the old value for display\nlet displayOldValue=field.oldValue!==undefined?field.oldValue:field.value!==undefined?field.value:null;if(displayOldValue===null||displayOldValue===undefined){displayOldValue='(empty)';}else if(typeof displayOldValue==='boolean'){displayOldValue=String(displayOldValue);}else if(typeof displayOldValue==='object'){displayOldValue=JSON.stringify(displayOldValue,null,2);}else{displayOldValue=String(displayOldValue);}// Format the new value for display\nlet displayNewValue=field.newValue!==undefined?field.newValue:field.value!==undefined?field.value:null;if(displayNewValue===null||displayNewValue===undefined){displayNewValue='(empty)';}else if(typeof displayNewValue==='boolean'){displayNewValue=String(displayNewValue);}else if(typeof displayNewValue==='object'){displayNewValue=JSON.stringify(displayNewValue,null,2);}else{displayNewValue=String(displayNewValue);}// Format field name for better readability\nconst fieldName=field.name;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:index<uniqueFields.length-1?'1px solid #f0f0f0':'none'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px 16px',fontSize:'13px',color:'#002329',fontWeight:500,fontFamily:'Poppins'},children:fieldName}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px 16px',fontSize:'13px',color:'#666',fontFamily:'Poppins',wordBreak:'break-word'},children:displayOldValue}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px 16px',fontSize:'13px',color:'#002329',fontFamily:'Poppins',wordBreak:'break-word',fontWeight:500},children:displayNewValue})]},index);});})()})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Full Transaction Data (JSON)\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fafafa',padding:'16px',borderRadius:'4px',maxHeight:'300px',overflow:'auto'},children:/*#__PURE__*/_jsx(\"pre\",{style:{margin:0,fontSize:'12px',color:'#002329',whiteSpace:'pre-wrap',wordBreak:'break-word',fontFamily:'monospace'},children:JSON.stringify(transaction.data,null,2)})})]}),transaction.metadata&&Object.keys(transaction.metadata).length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:600,color:'#002329',fontFamily:'Poppins'},children:\"Metadata\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fafafa',padding:'16px',borderRadius:'4px',maxHeight:'200px',overflow:'auto'},children:/*#__PURE__*/_jsx(\"pre\",{style:{margin:0,fontSize:'12px',color:'#002329',whiteSpace:'pre-wrap',wordBreak:'break-word',fontFamily:'monospace'},children:JSON.stringify(transaction.metadata,null,2)})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 24px',borderTop:'1px solid #e0e0e0',display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'8px 16px',borderRadius:'4px',border:'1px solid #d9d9d9',background:'#f5f5f5',color:'#002329',cursor:'pointer',fontSize:'13px',fontFamily:'Poppins',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.background='#e6e6e6',onMouseLeave:e=>e.target.style.background='#f5f5f5',children:\"Close\"})})]})});};export default ViewDetailsModal;","map":{"version":3,"names":["React","X","jsx","_jsx","jsxs","_jsxs","ViewDetailsModal","_ref","transaction","onClose","formatDate","dateString","Date","toLocaleString","getOperationLabel","operation","labels","create","update","delete","revert","getStatusColor","status","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","onClick","children","borderRadius","width","maxWidth","maxHeight","overflow","boxShadow","e","stopPropagation","padding","borderBottom","margin","fontSize","fontWeight","color","fontFamily","border","cursor","transition","onMouseEnter","target","backgroundColor","onMouseLeave","size","marginBottom","gridTemplateColumns","gap","id","objectType","name","publisher","publishedAt","recordCount","salesforceId","wordBreak","error","data","borderCollapse","textAlign","fields","excludedFields","Set","isExcludedKey","key","has","startsWith","shouldExcludeKey","hasOtherFields","arguments","length","undefined","extractFields","obj","sourceName","oldValuesObj","Array","isArray","keys","Object","nonExcludedKeys","filter","k","forEach","value","oldValue","push","newValue","success","errors","concat","JSON","stringify","extractedFromData","sampleUpdate","sampleUpdateOldValue","updates","firstUpdate","results","firstResult","metadata","fieldName","currentValue","queueStatus","endsWith","toLowerCase","includes","console","warn","seenFields","uniqueFields","field","add","colSpan","process","env","NODE_ENV","marginTop","join","String","marginLeft","entries","map","_ref2","v","Boolean","index","displayOldValue","displayNewValue","whiteSpace","borderTop"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/History/components/ViewDetailsModal.js"],"sourcesContent":["import React from 'react';\nimport { X } from 'lucide-react';\n\nconst ViewDetailsModal = ({ transaction, onClose }) => {\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const getOperationLabel = (operation) => {\n    const labels = {\n      create: 'Create',\n      update: 'Update',\n      delete: 'Delete',\n      revert: 'Revert'\n    };\n    return labels[operation] || operation;\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'success':\n        return '#52c41a';\n      case 'failed':\n        return '#ff4d4f';\n      case 'partial':\n        return '#faad14';\n      default:\n        return '#999';\n    }\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    }} onClick={onClose}>\n      <div style={{\n        background: 'white',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '800px',\n        maxHeight: '90vh',\n        overflow: 'auto',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\n      }} onClick={(e) => e.stopPropagation()}>\n        {/* Header */}\n        <div style={{\n          padding: '20px 24px',\n          borderBottom: '1px solid #e0e0e0',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          position: 'sticky',\n          top: 0,\n          background: 'white',\n          zIndex: 10\n        }}>\n          <h3 style={{ margin: 0, fontSize: '18px', fontWeight: 600, color: '#002329', fontFamily: 'Poppins' }}>\n            Transaction Details\n          </h3>\n          <button\n            onClick={onClose}\n            style={{\n              border: 'none',\n              background: 'transparent',\n              cursor: 'pointer',\n              padding: '4px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: '4px',\n              transition: 'background-color 0.2s'\n            }}\n            onMouseEnter={(e) => e.target.style.backgroundColor = '#f0f0f0'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            <X size={20} style={{ color: '#666' }} />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div style={{ padding: '24px' }}>\n          {/* Basic Information */}\n          <div style={{ marginBottom: '24px' }}>\n            <h4 style={{ \n              margin: '0 0 12px 0', \n              fontSize: '14px', \n              fontWeight: 600, \n              color: '#002329',\n              fontFamily: 'Poppins'\n            }}>\n              Basic Information\n            </h4>\n            <div style={{\n              background: '#fafafa',\n              padding: '16px',\n              borderRadius: '4px',\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '12px'\n            }}>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Transaction ID</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>{transaction.id}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Object Type</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>{transaction.objectType}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Operation</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>\n                  {getOperationLabel(transaction.operation)}\n                </div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Name</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>{transaction.name}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>User</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>{transaction.publisher}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Date</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>\n                  {formatDate(transaction.publishedAt)}\n                </div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Status</div>\n                <div style={{ \n                  fontSize: '13px', \n                  color: getStatusColor(transaction.status), \n                  fontWeight: 500 \n                }}>\n                  {transaction.status}\n                </div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Record Count</div>\n                <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500 }}>\n                  {transaction.recordCount || 1}\n                </div>\n              </div>\n              {transaction.salesforceId && (\n                <div>\n                  <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Salesforce ID</div>\n                  <div style={{ fontSize: '13px', color: '#002329', fontWeight: 500, wordBreak: 'break-all' }}>\n                    {transaction.salesforceId}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Error Information */}\n          {transaction.error && (\n            <div style={{ marginBottom: '24px' }}>\n            <h4 style={{ \n              margin: '0 0 12px 0', \n              fontSize: '14px', \n              fontWeight: 600, \n              color: '#002329',\n              fontFamily: 'Poppins'\n            }}>\n              Error Information\n            </h4>\n              <div style={{\n                background: '#fff2f0',\n                border: '1px solid #ffccc7',\n                padding: '16px',\n                borderRadius: '4px',\n                color: '#a8071a'\n              }}>\n                {transaction.error}\n              </div>\n            </div>\n          )}\n\n          {/* Field Changes */}\n          {transaction.operation === 'update' && transaction.data && (\n            <div style={{ marginBottom: '24px' }}>\n            <h4 style={{ \n              margin: '0 0 12px 0', \n              fontSize: '14px', \n              fontWeight: 600, \n              color: '#002329',\n              fontFamily: 'Poppins'\n            }}>\n              Field Changes\n            </h4>\n              <div style={{\n                background: '#fff',\n                border: '1px solid #e0e0e0',\n                borderRadius: '4px',\n                overflow: 'hidden'\n              }}>\n                <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                  <thead>\n                    <tr style={{ background: '#fafafa', borderBottom: '1px solid #e0e0e0' }}>\n                      <th style={{ \n                        padding: '12px 16px', \n                        textAlign: 'left', \n                        fontSize: '13px', \n                        fontWeight: 600,\n                        color: '#002329',\n                        width: '30%'\n                      }}>\n                        Field Name\n                      </th>\n                      <th style={{ \n                        padding: '12px 16px', \n                        textAlign: 'left', \n                        fontSize: '13px', \n                        fontWeight: 600,\n                        color: '#002329',\n                        width: '35%'\n                      }}>\n                        Old Value\n                      </th>\n                      <th style={{ \n                        padding: '12px 16px', \n                        textAlign: 'left', \n                        fontSize: '13px', \n                        fontWeight: 600,\n                        color: '#002329',\n                        width: '35%'\n                      }}>\n                        New Value\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(() => {\n                      // Extract field changes from transaction data\n                      // Show ALL fields that were published, only exclude obvious API response metadata\n                      const fields = [];\n                      const data = transaction.data;\n                      \n                      // Exclude only API response metadata fields\n                      // Note: We'll show 'Id' in the fallback if it's the only data, but prefer to show actual field changes\n                      const excludedFields = new Set([\n                        '__sf', 'results', 'updates',\n                        'success', 'errors', 'error', 'message', 'status', 'statusCode',\n                        'metadata', 'count', 'total', 'updatedCount', 'errorCount',\n                        'originalData', 'previousData', 'newData', 'changes'\n                      ]);\n                      \n                      // Helper to check if a key should be excluded (more permissive)\n                      const isExcludedKey = (key) => {\n                        // Exclude obvious API metadata\n                        if (excludedFields.has(key) || key.startsWith('_')) {\n                          return true;\n                        }\n                        // Exclude 'Id' and 'id' only if there are other fields to show\n                        // This way if Id is the only field, we'll show it in the fallback\n                        return false;\n                      };\n                      \n                      const shouldExcludeKey = (key, hasOtherFields = false) => {\n                        // Exclude obvious API metadata\n                        if (excludedFields.has(key) || key.startsWith('_')) {\n                          return true;\n                        }\n                        // Exclude 'Id' and 'id' only if we have other fields to show\n                        // If Id is the only field, we'll show it (handled in fallback)\n                        if ((key === 'Id' || key === 'id') && hasOtherFields) {\n                          return true;\n                        }\n                        return false;\n                      };\n                      \n                      // Helper to extract fields from an object\n                      // This extracts all field names and values that were published to Salesforce\n                      // For update operations, we try to capture both old and new values\n                      const extractFields = (obj, sourceName = '', oldValuesObj = null) => {\n                        if (!obj || typeof obj !== 'object' || Array.isArray(obj)) {\n                          return;\n                        }\n                        \n                        // Get all keys from the object\n                        const keys = Object.keys(obj);\n                        \n                        // If no keys, nothing to extract\n                        if (keys.length === 0) {\n                          return;\n                        }\n                        \n                        // First pass: count non-excluded fields to decide if we should exclude Id\n                        const nonExcludedKeys = keys.filter(k => !isExcludedKey(k) && k !== 'Id' && k !== 'id' && k !== 'oldValue');\n                        const hasOtherFields = nonExcludedKeys.length > 0;\n                        \n                        keys.forEach(key => {\n                          // Skip if it's an excluded field (API metadata, not actual field data)\n                          if (shouldExcludeKey(key, hasOtherFields) || key === 'oldValue') {\n                            return;\n                          }\n                          \n                          const value = obj[key];\n                          // Try to get old value from oldValuesObj if provided, or from obj.oldValue\n                          const oldValue = oldValuesObj && oldValuesObj[key] !== undefined ? oldValuesObj[key] :\n                                         obj.oldValue !== undefined && typeof obj.oldValue === 'object' ? obj.oldValue[key] :\n                                         null;\n                          \n                          // Handle different value types\n                          if (value === null || value === undefined) {\n                            // Null/undefined values are valid - show them\n                            fields.push({\n                              name: sourceName + key,\n                              oldValue: oldValue !== undefined && oldValue !== null ? oldValue : null,\n                              newValue: null\n                            });\n                          } else if (typeof value === 'object' && !Array.isArray(value)) {\n                            // Object value - check if it's an API response wrapper\n                            if (value.success !== undefined || value.errors !== undefined) {\n                              // It's an API response wrapper, try to extract from nested data\n                              if (value.data && typeof value.data === 'object' && !Array.isArray(value.data)) {\n                                extractFields(value.data, `${sourceName}${key}.`, oldValuesObj);\n                                return;\n                              }\n                              // If no nested data, skip this wrapper object\n                              return;\n                            }\n                            // Otherwise, it's a complex field value (like a relationship object) - show as JSON\n                            fields.push({\n                              name: sourceName + key,\n                              oldValue: oldValue !== undefined && oldValue !== null ? (typeof oldValue === 'object' ? JSON.stringify(oldValue, null, 2) : oldValue) : null,\n                              newValue: JSON.stringify(value, null, 2)\n                            });\n                          } else if (Array.isArray(value)) {\n                            // Array value - show as JSON\n                            fields.push({\n                              name: sourceName + key,\n                              oldValue: oldValue !== undefined && oldValue !== null ? (Array.isArray(oldValue) ? JSON.stringify(oldValue, null, 2) : oldValue) : null,\n                              newValue: JSON.stringify(value, null, 2)\n                            });\n                          } else {\n                            // Simple value (string, number, boolean) - show as is\n                            fields.push({\n                              name: sourceName + key,\n                              oldValue: oldValue !== undefined && oldValue !== null ? oldValue : null,\n                              newValue: value\n                            });\n                          }\n                        });\n                      };\n                      \n                      // Extract fields from the data\n                      // Priority order:\n                      // 1. sampleUpdate - contains the actual field changes (e.g., { Status__c: 'Open' })\n                      // 2. updates array - contains update objects with field changes (extract from first only)\n                      // 3. Other structures\n                      // IMPORTANT: Only extract from ONE source to avoid duplicates\n                      let extractedFromData = false;\n                      \n                      if (data && typeof data === 'object') {\n                        if (data.sampleUpdate && typeof data.sampleUpdate === 'object') {\n                          // Best case: sampleUpdate contains the actual field changes\n                          // This is what was actually sent to Salesforce\n                          // Also check for sampleUpdateOldValue to get the old value\n                          const oldValue = data.sampleUpdateOldValue !== undefined ? data.sampleUpdateOldValue : null;\n                          Object.keys(data.sampleUpdate).forEach(key => {\n                            if (key !== 'Id' && key !== 'id') {\n                              fields.push({\n                                name: key,\n                                oldValue: oldValue,\n                                newValue: data.sampleUpdate[key]\n                              });\n                            }\n                          });\n                          extractedFromData = true;\n                        } else if (data.updates && Array.isArray(data.updates) && data.updates.length > 0) {\n                          // Updates array structure - extract from first update ONLY (they all have the same fields)\n                          // This prevents duplication when there are multiple records\n                          const firstUpdate = data.updates[0];\n                          if (firstUpdate && typeof firstUpdate === 'object') {\n                            // Extract fields, excluding Id and oldValue (we'll handle oldValue separately)\n                            Object.keys(firstUpdate).forEach(key => {\n                              if (key !== 'Id' && key !== 'id' && key !== 'oldValue') {\n                                const newValue = firstUpdate[key];\n                                const oldValue = firstUpdate.oldValue; // Get old value if available\n                                \n                                if (newValue === null || newValue === undefined) {\n                                  fields.push({ \n                                    name: key, \n                                    oldValue: oldValue !== undefined ? oldValue : null,\n                                    newValue: null \n                                  });\n                                } else if (typeof newValue === 'object' && !Array.isArray(newValue)) {\n                                  fields.push({ \n                                    name: key, \n                                    oldValue: oldValue !== undefined ? oldValue : null,\n                                    newValue: JSON.stringify(newValue, null, 2) \n                                  });\n                                } else if (Array.isArray(newValue)) {\n                                  fields.push({ \n                                    name: key, \n                                    oldValue: oldValue !== undefined ? oldValue : null,\n                                    newValue: JSON.stringify(newValue, null, 2) \n                                  });\n                                } else {\n                                  fields.push({ \n                                    name: key, \n                                    oldValue: oldValue !== undefined ? oldValue : null,\n                                    newValue: newValue \n                                  });\n                                }\n                              }\n                            });\n                            extractedFromData = true;\n                          }\n                        } else if (Array.isArray(data)) {\n                          // Array of records - extract from first record\n                          if (data.length > 0 && typeof data[0] === 'object') {\n                            extractFields(data[0]);\n                            extractedFromData = true;\n                          }\n                        } else if (data.results && Array.isArray(data.results)) {\n                          // Bulk operation with results array - check if results have data\n                          if (data.results.length > 0) {\n                            const firstResult = data.results[0];\n                            if (firstResult.data && typeof firstResult.data === 'object' && !Array.isArray(firstResult.data)) {\n                              extractFields(firstResult.data);\n                              extractedFromData = true;\n                            } else if (firstResult && typeof firstResult === 'object' && firstResult.id) {\n                              // Results only have id and success, not field changes\n                              // Field changes should be in sampleUpdate, updates, or metadata\n                              // Don't extract from results - will fall back to metadata extraction\n                            } else {\n                              extractFields(firstResult);\n                              extractedFromData = true;\n                            }\n                          }\n                        } else if (data.data && typeof data.data === 'object' && !Array.isArray(data.data) &&\n                                   (data.success !== undefined || data.errors !== undefined)) {\n                          // API response wrapper - extract from nested data\n                          extractFields(data.data);\n                          extractedFromData = true;\n                        } else {\n                          // Regular record object - this is the most common case\n                          // Plain object like: { Id: \"...\", Client_Tool_Name__c: \"...\", ... }\n                          extractFields(data);\n                          extractedFromData = true;\n                        }\n                      }\n                      \n                      // Fallback 1: Check metadata for fieldName and newValue (for bulk update operations)\n                      // Only check metadata if we haven't already extracted from data to avoid duplicates\n                      if (fields.length === 0 && !extractedFromData && transaction.metadata) {\n                        const metadata = transaction.metadata;\n                        \n                        // Check for fieldName and newValue directly in metadata (for updateObjectFields operations)\n                        if (metadata.fieldName && metadata.newValue !== undefined) {\n                          // This is a bulk field update - show the field name, old value, and new value\n                          const oldValue = metadata.currentValue !== undefined ? metadata.currentValue : \n                                         metadata.oldValue !== undefined ? metadata.oldValue : \n                                         (data.sampleUpdateOldValue !== undefined ? data.sampleUpdateOldValue : null);\n                          fields.push({\n                            name: metadata.fieldName,\n                            oldValue: oldValue,\n                            newValue: metadata.newValue\n                          });\n                        } \n                        // Check if metadata has updates array with field information (for other operations)\n                        else if (metadata.updates && Array.isArray(metadata.updates) && metadata.updates.length > 0) {\n                          // Extract field changes from the first update object\n                          const firstUpdate = metadata.updates[0];\n                          if (firstUpdate && typeof firstUpdate === 'object') {\n                            // For queue status updates, extract queueStatus field\n                            if (firstUpdate.queueStatus !== undefined) {\n                              fields.push({\n                                name: 'Queue_Status__c',\n                                value: firstUpdate.queueStatus\n                              });\n                            }\n                            // Extract all fields that look like Salesforce field changes\n                            Object.keys(firstUpdate).forEach(key => {\n                              // Skip Id, projectId, and other metadata/identifier fields\n                              // But include actual field changes\n                              if (key !== 'Id' && key !== 'id' && key !== 'projectId' && \n                                  key !== 'currentStatus' && key !== 'projectObjectiveId' &&\n                                  key !== 'currentQueueStatus') {\n                                const value = firstUpdate[key];\n                                if (value !== undefined && value !== null) {\n                                  // Check if this looks like a field name (ends with __c or is a known field)\n                                  // Or if it's a status-related field\n                                  if (key.endsWith('__c') || \n                                      key === 'Status__c' || key === 'Queue_Status__c' || \n                                      key === 'status' || key === 'queueStatus' || \n                                      key.toLowerCase().includes('status')) {\n                                    // Map common field names to Salesforce API names\n                                    const fieldName = key === 'queueStatus' ? 'Queue_Status__c' :\n                                                     key === 'status' ? 'Status__c' : key;\n                                    fields.push({\n                                      name: fieldName,\n                                      value: value\n                                    });\n                                  }\n                                }\n                              }\n                            });\n                          }\n                        }\n                        // If operation is bulk_update_fields but no fieldName in metadata, \n                        // this might be an older entry - try to infer from operation name\n                        else if (metadata.operation === 'bulk_update_fields' && !metadata.fieldName) {\n                          // This is an older entry - we can't extract field changes\n                          // But we can show a message\n                          console.warn('Bulk update operation found but fieldName not in metadata - this may be an older history entry');\n                        }\n                      }\n                      \n                      // Fallback 2: if still no fields, try direct extraction (most permissive)\n                      if (fields.length === 0 && data && typeof data === 'object' && !Array.isArray(data)) {\n                        // Extract all keys directly, excluding only the most obvious API metadata\n                        Object.keys(data).forEach(key => {\n                          // Skip only obvious API response fields\n                          if (key === 'success' || key === 'errors' || key === 'error' || \n                              key === 'message' || key === 'status' || key === 'statusCode' ||\n                              key.startsWith('_') || key === 'results' || key === 'updates' ||\n                              key === 'metadata') {\n                            return;\n                          }\n                          \n                          const value = data[key];\n                          // Skip API response wrapper objects\n                          if (typeof value === 'object' && value !== null && !Array.isArray(value) &&\n                              (value.success !== undefined || value.errors !== undefined)) {\n                            // Try nested data\n                            if (value.data && typeof value.data === 'object' && !Array.isArray(value.data)) {\n                              extractFields(value.data);\n                            }\n                            return;\n                          }\n                          \n                          // Add the field (fallback - no old value available)\n                          fields.push({\n                            name: key,\n                            oldValue: null,\n                            newValue: value\n                          });\n                        });\n                      }\n                      \n                      // Deduplicate fields by field name (keep first occurrence)\n                      const seenFields = new Set();\n                      const uniqueFields = fields.filter(field => {\n                        if (seenFields.has(field.name)) {\n                          return false; // Skip duplicate\n                        }\n                        seenFields.add(field.name);\n                        return true; // Keep first occurrence\n                      });\n                      \n                      if (uniqueFields.length === 0) {\n                        return (\n                          <tr>\n                            <td colSpan=\"2\" style={{ padding: '16px', textAlign: 'center', color: '#666', fontFamily: 'Poppins' }}>\n                              No field changes available\n                              {process.env.NODE_ENV === 'development' && (\n                                <div style={{ fontSize: '11px', marginTop: '8px', color: '#999', textAlign: 'left' }}>\n                                  <div>Debug: data type = {typeof data}, isArray = {Array.isArray(data) ? 'yes' : 'no'}</div>\n                                  <div>data keys = {data && typeof data === 'object' ? Object.keys(data).join(', ') : 'N/A'}</div>\n                                  <div>metadata keys = {transaction.metadata && typeof transaction.metadata === 'object' ? Object.keys(transaction.metadata).join(', ') : 'N/A'}</div>\n                                  {transaction.metadata && transaction.metadata.fieldName && (\n                                    <div>metadata.fieldName = {transaction.metadata.fieldName}, metadata.newValue = {String(transaction.metadata.newValue)}</div>\n                                  )}\n                                  {transaction.metadata && transaction.metadata.operation && (\n                                    <div>metadata.operation = {transaction.metadata.operation}</div>\n                                  )}\n                                  {transaction.metadata && transaction.metadata.updates && Array.isArray(transaction.metadata.updates) && transaction.metadata.updates.length > 0 && (\n                                    <div>\n                                      metadata.updates[0] keys = {Object.keys(transaction.metadata.updates[0] || {}).join(', ')}\n                                      {transaction.metadata.updates[0] && (\n                                        <div style={{ marginLeft: '10px', marginTop: '4px' }}>\n                                          {Object.entries(transaction.metadata.updates[0]).map(([k, v]) => \n                                            k !== 'Id' && k !== 'id' && k !== 'projectId' ? `${k}: ${String(v)}` : null\n                                          ).filter(Boolean).join(', ')}\n                                        </div>\n                                      )}\n                                    </div>\n                                  )}\n                                  {data && data.sampleUpdate && (\n                                    <div>sampleUpdate keys = {Object.keys(data.sampleUpdate).join(', ')}</div>\n                                  )}\n                                  {data && data.updates && Array.isArray(data.updates) && (\n                                    <div>data.updates array length = {data.updates.length}</div>\n                                  )}\n                                </div>\n                              )}\n                            </td>\n                          </tr>\n                        );\n                      }\n                      \n                      return uniqueFields.map((field, index) => {\n                        // Format the old value for display\n                        let displayOldValue = field.oldValue !== undefined ? field.oldValue : \n                                            (field.value !== undefined ? field.value : null);\n                        if (displayOldValue === null || displayOldValue === undefined) {\n                          displayOldValue = '(empty)';\n                        } else if (typeof displayOldValue === 'boolean') {\n                          displayOldValue = String(displayOldValue);\n                        } else if (typeof displayOldValue === 'object') {\n                          displayOldValue = JSON.stringify(displayOldValue, null, 2);\n                        } else {\n                          displayOldValue = String(displayOldValue);\n                        }\n                        \n                        // Format the new value for display\n                        let displayNewValue = field.newValue !== undefined ? field.newValue : \n                                            (field.value !== undefined ? field.value : null);\n                        if (displayNewValue === null || displayNewValue === undefined) {\n                          displayNewValue = '(empty)';\n                        } else if (typeof displayNewValue === 'boolean') {\n                          displayNewValue = String(displayNewValue);\n                        } else if (typeof displayNewValue === 'object') {\n                          displayNewValue = JSON.stringify(displayNewValue, null, 2);\n                        } else {\n                          displayNewValue = String(displayNewValue);\n                        }\n                        \n                        // Format field name for better readability\n                        const fieldName = field.name;\n                        \n                        return (\n                          <tr key={index} style={{ borderBottom: index < uniqueFields.length - 1 ? '1px solid #f0f0f0' : 'none' }}>\n                            <td style={{ padding: '12px 16px', fontSize: '13px', color: '#002329', fontWeight: 500, fontFamily: 'Poppins' }}>\n                              {fieldName}\n                            </td>\n                            <td style={{ padding: '12px 16px', fontSize: '13px', color: '#666', fontFamily: 'Poppins', wordBreak: 'break-word' }}>\n                              {displayOldValue}\n                            </td>\n                            <td style={{ padding: '12px 16px', fontSize: '13px', color: '#002329', fontFamily: 'Poppins', wordBreak: 'break-word', fontWeight: 500 }}>\n                              {displayNewValue}\n                            </td>\n                          </tr>\n                        );\n                      });\n                    })()}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Transaction Data (Full JSON) */}\n          <div style={{ marginBottom: '24px' }}>\n            <h4 style={{ \n              margin: '0 0 12px 0', \n              fontSize: '14px', \n              fontWeight: 600, \n              color: '#002329',\n              fontFamily: 'Poppins'\n            }}>\n              Full Transaction Data (JSON)\n            </h4>\n            <div style={{\n              background: '#fafafa',\n              padding: '16px',\n              borderRadius: '4px',\n              maxHeight: '300px',\n              overflow: 'auto'\n            }}>\n              <pre style={{\n                margin: 0,\n                fontSize: '12px',\n                color: '#002329',\n                whiteSpace: 'pre-wrap',\n                wordBreak: 'break-word',\n                fontFamily: 'monospace'\n              }}>\n                {JSON.stringify(transaction.data, null, 2)}\n              </pre>\n            </div>\n          </div>\n\n          {/* Metadata */}\n          {transaction.metadata && Object.keys(transaction.metadata).length > 0 && (\n            <div>\n            <h4 style={{ \n              margin: '0 0 12px 0', \n              fontSize: '14px', \n              fontWeight: 600, \n              color: '#002329',\n              fontFamily: 'Poppins'\n            }}>\n              Metadata\n            </h4>\n              <div style={{\n                background: '#fafafa',\n                padding: '16px',\n                borderRadius: '4px',\n                maxHeight: '200px',\n                overflow: 'auto'\n              }}>\n                <pre style={{\n                  margin: 0,\n                  fontSize: '12px',\n                  color: '#002329',\n                  whiteSpace: 'pre-wrap',\n                  wordBreak: 'break-word',\n                  fontFamily: 'monospace'\n                }}>\n                  {JSON.stringify(transaction.metadata, null, 2)}\n                </pre>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div style={{\n          padding: '16px 24px',\n          borderTop: '1px solid #e0e0e0',\n          display: 'flex',\n          justifyContent: 'flex-end'\n        }}>\n          <button\n            onClick={onClose}\n            style={{ \n              padding: '8px 16px',\n              borderRadius: '4px',\n              border: '1px solid #d9d9d9',\n              background: '#f5f5f5',\n              color: '#002329',\n              cursor: 'pointer',\n              fontSize: '13px',\n              fontFamily: 'Poppins',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => e.target.style.background = '#e6e6e6'}\n            onMouseLeave={(e) => e.target.style.background = '#f5f5f5'}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewDetailsModal;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}