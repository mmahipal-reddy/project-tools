{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{X,BarChart3,RefreshCw}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviewModal=_ref=>{let{show,data,fieldLabels,onClose,onLoadMore,hasMore,totalCount}=_ref;const[displayedData,setDisplayedData]=useState([]);const[loadingMore,setLoadingMore]=useState(false);const scrollContainerRef=useRef(null);const initialLoadSize=100;useEffect(()=>{if(data&&data.length>0){// Filter out attributes column and show all data\nconst filteredData=data.map(record=>{const cleaned=_objectSpread({},record);delete cleaned.attributes;return cleaned;});setDisplayedData(filteredData);// Show all records, not just first 100\n}else{setDisplayedData([]);}},[data]);const handleScroll=()=>{if(!scrollContainerRef.current||loadingMore||!hasMore)return;const container=scrollContainerRef.current;const scrollTop=container.scrollTop;const scrollHeight=container.scrollHeight;const clientHeight=container.clientHeight;// Load more when user scrolls to within 200px of bottom\n// Only needed if we have more data from server (hasMore) and onLoadMore callback\nif(scrollTop+clientHeight>=scrollHeight-200){if(onLoadMore&&hasMore&&displayedData.length>=data.length){// Fetch more data from server\nsetLoadingMore(true);onLoadMore(displayedData.length).finally(()=>{setLoadingMore(false);});}}};useEffect(()=>{const container=scrollContainerRef.current;if(container){container.addEventListener('scroll',handleScroll);return()=>container.removeEventListener('scroll',handleScroll);}},[displayedData.length,hasMore,loadingMore]);if(!show||!data)return null;const getFieldLabel=fieldName=>{// Special handling for common fields\nif(fieldName==='Id')return'Record ID';if(fieldName==='Name')return'Name';// Try exact match first\nif(fieldLabels&&fieldLabels[fieldName]){return fieldLabels[fieldName];}// Try alternative naming convention (__c vs _c__c)\n// Check if field ends with _c__c first (more specific)\nlet altName=null;if(fieldName.endsWith('_c__c')){// Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\naltName=fieldName.replace(/_c__c$/,'__c');}else if(fieldName.endsWith('__c')){// Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\naltName=fieldName.replace(/__c$/,'_c__c');}if(altName&&fieldLabels&&fieldLabels[altName]){return fieldLabels[altName];}// Fallback: try to create a readable label from the field name\nif(fieldName.includes('Active_Contributors'))return'Active Contributors';if(fieldName.includes('Applied_Contributors'))return'Applied Contributors';if(fieldName.includes('Qualified_Contributors'))return'Qualified Contributors';if(fieldName.includes('Removed'))return'Removed';// Default: return the field name\nreturn fieldName;};// Filter out attributes and internal metadata from column headers\nconst getColumns=()=>{if(displayedData.length===0)return[];// Get columns from first non-header row\nconst firstDataRow=displayedData.find(row=>!row._isGroupHeader);if(!firstDataRow)return[];const allKeys=Object.keys(firstDataRow);return allKeys.filter(key=>{// Exclude internal metadata fields\nif(key==='attributes'||key.startsWith('_'))return false;// Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n// Relationship objects end with __r and don't contain a dot\nif(key.endsWith('__r')&&!key.includes('.')){const value=firstDataRow[key];// Always exclude relationship objects (they are nested objects, not displayable values)\nif(value&&typeof value==='object'&&!Array.isArray(value)){return false;}// Also exclude if it's null/undefined or any other type - we want the base field instead\nreturn false;}// Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n// This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\nif(key.includes('__r.')||key.includes('__r.Name')||key.includes('__r.name')){// Extract the base field name (e.g., Account__r.Name -> Account__c)\nconst baseFieldMatch=key.match(/^(.+?)__r\\./);if(baseFieldMatch){const baseField=\"\".concat(baseFieldMatch[1],\"__c\");// If the base lookup field exists, exclude the relationship field\nif(allKeys.includes(baseField)){return false;}}}return true;});};const columns=getColumns();return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:10000},onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:'8px',padding:'24px',width:'90%',maxWidth:'1200px',maxHeight:'90vh',display:'flex',flexDirection:'column',boxShadow:'0 4px 12px rgba(0,0,0,0.15)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'18px',fontWeight:'600',margin:0,marginBottom:'4px'},children:\"Report Preview\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"Showing \",displayedData.length,\" of \",totalCount||data.length,\" \",totalCount||data.length===1?'entry':'entries']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{background:'none',border:'none',cursor:'pointer',padding:'4px'},children:/*#__PURE__*/_jsx(X,{size:20})})]}),displayedData.length>0?/*#__PURE__*/_jsxs(\"div\",{ref:scrollContainerRef,style:{border:'1px solid #e5e7eb',borderRadius:'6px',overflow:'auto',maxHeight:'70vh',flex:1},children:[/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb',position:'sticky',top:0},children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(key=>/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px 12px',textAlign:'left',borderBottom:'1px solid #e5e7eb',fontWeight:'600'},children:getFieldLabel(key)},key))})}),/*#__PURE__*/_jsx(\"tbody\",{children:displayedData.map((row,idx)=>{// Check if this is a group header row\nif(row._isGroupHeader){const labelMap=fieldLabels||{};const groupLabel=labelMap[row._groupByField]||row._groupByField||'Group';// Prioritize _groupKey which should have the display value (name), not the ID\nlet groupValue=row._groupKey||'(No Value)';// If _groupKey is an ID (18 characters), try to find the relationship field\nif(typeof groupValue==='string'&&groupValue.length===18&&row._groupByField&&row._groupByField.endsWith('__c')){const baseField=row._groupByField.replace('__c','');const possibleRelFields=[\"\".concat(baseField,\"__r.Name\"),\"\".concat(baseField,\".Name\"),\"\".concat(baseField,\"__r.name\"),\"\".concat(baseField,\".name\")];for(const relField of possibleRelFields){if(row[relField]){groupValue=row[relField];break;}}// Also check for nested relationship object\nif(groupValue.length===18&&row[\"\".concat(baseField,\"__r\")]&&row[\"\".concat(baseField,\"__r\")].Name){groupValue=row[\"\".concat(baseField,\"__r\")].Name;}}return/*#__PURE__*/_jsx(\"tr\",{style:{background:'#f0f9ff',borderTop:'2px solid #08979C',borderBottom:'2px solid #08979C'},children:/*#__PURE__*/_jsxs(\"td\",{colSpan:columns.length,style:{padding:'12px 16px',fontWeight:'600',fontSize:'13px',color:'#08979C'},children:[groupLabel,\": \",groupValue]})},\"group-\".concat(idx));}// Regular data row\nreturn/*#__PURE__*/_jsx(\"tr\",{style:{borderBottom:'1px solid #f3f4f6'},children:columns.map((key,vIdx)=>{const value=row[key];// Handle relationship fields (e.g., Account__r.Name)\nif(value&&typeof value==='object'&&value.Name){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:value.Name},vIdx);}// Handle lookup fields - check for relationship Name fields\n// The relationship field could be Account__r.Name or Account.Name depending on metadata\nif(key.endsWith('__c')&&!key.includes('__r')){// First check if value is an ID (18 character Salesforce ID)\nconst isId=typeof value==='string'&&value.length===18;// Try different relationship field patterns\nconst baseField=key.replace('__c','');const possibleRelationshipFields=[\"\".concat(baseField,\"__r.Name\"),// Standard pattern: Account__c -> Account__r.Name\n\"\".concat(baseField,\".Name\"),// Alternative: Account__c -> Account.Name\n\"\".concat(baseField,\"__r.name\"),// Lowercase variant\n\"\".concat(baseField,\".name\")// Lowercase variant\n];// Find the first matching relationship field\nfor(const relField of possibleRelationshipFields){if(row[relField]!==undefined&&row[relField]!==null&&row[relField]!==''){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:row[relField]},vIdx);}}// Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\nconst relObjKey=\"\".concat(baseField,\"__r\");if(row[relObjKey]&&typeof row[relObjKey]==='object'&&row[relObjKey].Name){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:row[relObjKey].Name},vIdx);}// Also try without __r suffix\nconst relObjKey2=baseField;if(row[relObjKey2]&&typeof row[relObjKey2]==='object'&&row[relObjKey2].Name){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:row[relObjKey2].Name},vIdx);}// Also check all keys for any relationship field that might match\nconst matchingRelField=Object.keys(row).find(k=>{if(k===key||k.startsWith('_'))return false;const lowerK=k.toLowerCase();const lowerBase=baseField.toLowerCase();return(lowerK.includes(lowerBase)||lowerK.includes(lowerBase.replace('_','')))&&(k.endsWith('.Name')||k.endsWith('.name')||k.endsWith('__r.Name')||k.endsWith('__r.name'));});if(matchingRelField&&row[matchingRelField]!==undefined&&row[matchingRelField]!==null&&row[matchingRelField]!==''){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:row[matchingRelField]},vIdx);}// If it's an ID and we couldn't find the relationship field, show the ID\nif(isId){const anyRelField=Object.keys(row).find(k=>{if(k===key||k.startsWith('_'))return false;const lowerK=k.toLowerCase();const lowerBase=baseField.toLowerCase();return(lowerK.includes(lowerBase)||lowerK.includes(lowerBase.replace('_','')))&&(k.includes('Name')||k.includes('name'));});if(anyRelField&&row[anyRelField]!==undefined&&row[anyRelField]!==null&&row[anyRelField]!==''){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:row[anyRelField]},vIdx);}}}// Handle count fields - ensure they display as numbers\nif(key.includes('Contributors')&&(typeof value==='number'||value===0)){return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px',fontWeight:'500'},children:value},vIdx);}return/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 12px'},children:value!==null&&value!==undefined?String(value):'--'},vIdx);})},idx);})})]}),loadingMore&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',textAlign:'center',fontSize:'12px',color:'#666'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:\"spinning\",style:{display:'inline-block',marginRight:'8px'}}),\"Loading more records...\"]}),!hasMore&&displayedData.length>=(totalCount||data.length)&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',textAlign:'center',fontSize:'12px',color:'#666'},children:[\"All \",totalCount||data.length,\" records loaded\"]})]}):/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',textAlign:'center',color:'#666'},children:[/*#__PURE__*/_jsx(BarChart3,{size:32,style:{marginBottom:'12px',opacity:0.5}}),/*#__PURE__*/_jsx(\"p\",{children:\"No data to preview\"})]})]})});};export default PreviewModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","X","BarChart3","RefreshCw","jsx","_jsx","jsxs","_jsxs","PreviewModal","_ref","show","data","fieldLabels","onClose","onLoadMore","hasMore","totalCount","displayedData","setDisplayedData","loadingMore","setLoadingMore","scrollContainerRef","initialLoadSize","length","filteredData","map","record","cleaned","_objectSpread","attributes","handleScroll","current","container","scrollTop","scrollHeight","clientHeight","finally","addEventListener","removeEventListener","getFieldLabel","fieldName","altName","endsWith","replace","includes","getColumns","firstDataRow","find","row","_isGroupHeader","allKeys","Object","keys","filter","key","startsWith","value","Array","isArray","baseFieldMatch","match","baseField","concat","columns","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","onClick","children","borderRadius","padding","width","maxWidth","maxHeight","flexDirection","boxShadow","e","stopPropagation","marginBottom","fontSize","fontWeight","margin","color","border","cursor","size","ref","overflow","flex","borderCollapse","textAlign","borderBottom","idx","labelMap","groupLabel","_groupByField","groupValue","_groupKey","possibleRelFields","relField","Name","borderTop","colSpan","vIdx","isId","possibleRelationshipFields","undefined","relObjKey","relObjKey2","matchingRelField","k","lowerK","toLowerCase","lowerBase","anyRelField","String","className","marginRight","opacity"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/ReportBuilder/PreviewModal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { X, BarChart3, RefreshCw } from 'lucide-react';\n\nconst PreviewModal = ({ show, data, fieldLabels, onClose, onLoadMore, hasMore, totalCount }) => {\n  const [displayedData, setDisplayedData] = useState([]);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const initialLoadSize = 100;\n\n  useEffect(() => {\n    if (data && data.length > 0) {\n      // Filter out attributes column and show all data\n      const filteredData = data.map(record => {\n        const cleaned = { ...record };\n        delete cleaned.attributes;\n        return cleaned;\n      });\n      setDisplayedData(filteredData); // Show all records, not just first 100\n    } else {\n      setDisplayedData([]);\n    }\n  }, [data]);\n\n  const handleScroll = () => {\n    if (!scrollContainerRef.current || loadingMore || !hasMore) return;\n\n    const container = scrollContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n\n    // Load more when user scrolls to within 200px of bottom\n    // Only needed if we have more data from server (hasMore) and onLoadMore callback\n    if (scrollTop + clientHeight >= scrollHeight - 200) {\n      if (onLoadMore && hasMore && displayedData.length >= data.length) {\n        // Fetch more data from server\n        setLoadingMore(true);\n        onLoadMore(displayedData.length).finally(() => {\n          setLoadingMore(false);\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [displayedData.length, hasMore, loadingMore]);\n\n  if (!show || !data) return null;\n\n  const getFieldLabel = (fieldName) => {\n    // Special handling for common fields\n    if (fieldName === 'Id') return 'Record ID';\n    if (fieldName === 'Name') return 'Name';\n    \n    // Try exact match first\n    if (fieldLabels && fieldLabels[fieldName]) {\n      return fieldLabels[fieldName];\n    }\n    // Try alternative naming convention (__c vs _c__c)\n    // Check if field ends with _c__c first (more specific)\n    let altName = null;\n    if (fieldName.endsWith('_c__c')) {\n      // Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\n      altName = fieldName.replace(/_c__c$/, '__c');\n    } else if (fieldName.endsWith('__c')) {\n      // Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\n      altName = fieldName.replace(/__c$/, '_c__c');\n    }\n    if (altName && fieldLabels && fieldLabels[altName]) {\n      return fieldLabels[altName];\n    }\n    // Fallback: try to create a readable label from the field name\n    if (fieldName.includes('Active_Contributors')) return 'Active Contributors';\n    if (fieldName.includes('Applied_Contributors')) return 'Applied Contributors';\n    if (fieldName.includes('Qualified_Contributors')) return 'Qualified Contributors';\n    if (fieldName.includes('Removed')) return 'Removed';\n    // Default: return the field name\n    return fieldName;\n  };\n\n  // Filter out attributes and internal metadata from column headers\n  const getColumns = () => {\n    if (displayedData.length === 0) return [];\n    // Get columns from first non-header row\n    const firstDataRow = displayedData.find(row => !row._isGroupHeader);\n    if (!firstDataRow) return [];\n    const allKeys = Object.keys(firstDataRow);\n    return allKeys.filter(key => {\n      // Exclude internal metadata fields\n      if (key === 'attributes' || key.startsWith('_')) return false;\n      \n      // Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n      // Relationship objects end with __r and don't contain a dot\n      if (key.endsWith('__r') && !key.includes('.')) {\n        const value = firstDataRow[key];\n        // Always exclude relationship objects (they are nested objects, not displayable values)\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n          return false;\n        }\n        // Also exclude if it's null/undefined or any other type - we want the base field instead\n        return false;\n      }\n      \n      // Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n      // This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\n      if (key.includes('__r.') || key.includes('__r.Name') || key.includes('__r.name')) {\n        // Extract the base field name (e.g., Account__r.Name -> Account__c)\n        const baseFieldMatch = key.match(/^(.+?)__r\\./);\n        if (baseFieldMatch) {\n          const baseField = `${baseFieldMatch[1]}__c`;\n          // If the base lookup field exists, exclude the relationship field\n          if (allKeys.includes(baseField)) {\n            return false;\n          }\n        }\n      }\n      \n      return true;\n    });\n  };\n\n  const columns = getColumns();\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 10000\n    }} onClick={onClose}>\n      <div style={{\n        background: '#fff',\n        borderRadius: '8px',\n        padding: '24px',\n        width: '90%',\n        maxWidth: '1200px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\n      }} onClick={(e) => e.stopPropagation()}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <div>\n            <h3 style={{ fontSize: '18px', fontWeight: '600', margin: 0, marginBottom: '4px' }}>\n              Report Preview\n            </h3>\n            <div style={{ fontSize: '12px', color: '#666' }}>\n              Showing {displayedData.length} of {totalCount || data.length} {totalCount || data.length === 1 ? 'entry' : 'entries'}\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '4px'\n            }}\n          >\n            <X size={20} />\n          </button>\n        </div>\n        {displayedData.length > 0 ? (\n          <div \n            ref={scrollContainerRef}\n            style={{ \n              border: '1px solid #e5e7eb', \n              borderRadius: '6px', \n              overflow: 'auto', \n              maxHeight: '70vh',\n              flex: 1\n            }}\n          >\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n              <thead style={{ background: '#f9fafb', position: 'sticky', top: 0 }}>\n                <tr>\n                  {columns.map(key => (\n                    <th key={key} style={{ padding: '8px 12px', textAlign: 'left', borderBottom: '1px solid #e5e7eb', fontWeight: '600' }}>\n                      {getFieldLabel(key)}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {displayedData.map((row, idx) => {\n                  // Check if this is a group header row\n                  if (row._isGroupHeader) {\n                    const labelMap = fieldLabels || {};\n                    const groupLabel = labelMap[row._groupByField] || row._groupByField || 'Group';\n                    // Prioritize _groupKey which should have the display value (name), not the ID\n                    let groupValue = row._groupKey || '(No Value)';\n                    \n                    // If _groupKey is an ID (18 characters), try to find the relationship field\n                    if (typeof groupValue === 'string' && groupValue.length === 18 && row._groupByField && row._groupByField.endsWith('__c')) {\n                      const baseField = row._groupByField.replace('__c', '');\n                      const possibleRelFields = [\n                        `${baseField}__r.Name`,\n                        `${baseField}.Name`,\n                        `${baseField}__r.name`,\n                        `${baseField}.name`\n                      ];\n                      for (const relField of possibleRelFields) {\n                        if (row[relField]) {\n                          groupValue = row[relField];\n                          break;\n                        }\n                      }\n                      // Also check for nested relationship object\n                      if (groupValue.length === 18 && row[`${baseField}__r`] && row[`${baseField}__r`].Name) {\n                        groupValue = row[`${baseField}__r`].Name;\n                      }\n                    }\n                    \n                    return (\n                      <tr key={`group-${idx}`} style={{ background: '#f0f9ff', borderTop: '2px solid #08979C', borderBottom: '2px solid #08979C' }}>\n                        <td colSpan={columns.length} style={{ padding: '12px 16px', fontWeight: '600', fontSize: '13px', color: '#08979C' }}>\n                          {groupLabel}: {groupValue}\n                        </td>\n                      </tr>\n                    );\n                  }\n                  \n                  // Regular data row\n                  return (\n                    <tr key={idx} style={{ borderBottom: '1px solid #f3f4f6' }}>\n                      {columns.map((key, vIdx) => {\n                        const value = row[key];\n                        // Handle relationship fields (e.g., Account__r.Name)\n                        if (value && typeof value === 'object' && value.Name) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px' }}>\n                              {value.Name}\n                            </td>\n                          );\n                        }\n                        // Handle lookup fields - check for relationship Name fields\n                        // The relationship field could be Account__r.Name or Account.Name depending on metadata\n                        if (key.endsWith('__c') && !key.includes('__r')) {\n                          // First check if value is an ID (18 character Salesforce ID)\n                          const isId = typeof value === 'string' && value.length === 18;\n                          \n                          // Try different relationship field patterns\n                          const baseField = key.replace('__c', '');\n                          const possibleRelationshipFields = [\n                            `${baseField}__r.Name`,  // Standard pattern: Account__c -> Account__r.Name\n                            `${baseField}.Name`,     // Alternative: Account__c -> Account.Name\n                            `${baseField}__r.name`,  // Lowercase variant\n                            `${baseField}.name`      // Lowercase variant\n                          ];\n                          \n                          // Find the first matching relationship field\n                          for (const relField of possibleRelationshipFields) {\n                            if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                              return (\n                                <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                  {row[relField]}\n                                </td>\n                              );\n                            }\n                          }\n                          \n                          // Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\n                          const relObjKey = `${baseField}__r`;\n                          if (row[relObjKey] && typeof row[relObjKey] === 'object' && row[relObjKey].Name) {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[relObjKey].Name}\n                              </td>\n                            );\n                          }\n                          \n                          // Also try without __r suffix\n                          const relObjKey2 = baseField;\n                          if (row[relObjKey2] && typeof row[relObjKey2] === 'object' && row[relObjKey2].Name) {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[relObjKey2].Name}\n                              </td>\n                            );\n                          }\n                          \n                          // Also check all keys for any relationship field that might match\n                          const matchingRelField = Object.keys(row).find(k => {\n                            if (k === key || k.startsWith('_')) return false;\n                            const lowerK = k.toLowerCase();\n                            const lowerBase = baseField.toLowerCase();\n                            return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                   (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                          });\n                          if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[matchingRelField]}\n                              </td>\n                            );\n                          }\n                          \n                          // If it's an ID and we couldn't find the relationship field, show the ID\n                          if (isId) {\n                            const anyRelField = Object.keys(row).find(k => {\n                              if (k === key || k.startsWith('_')) return false;\n                              const lowerK = k.toLowerCase();\n                              const lowerBase = baseField.toLowerCase();\n                              return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                     (k.includes('Name') || k.includes('name'));\n                            });\n                            if (anyRelField && row[anyRelField] !== undefined && row[anyRelField] !== null && row[anyRelField] !== '') {\n                              return (\n                                <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                  {row[anyRelField]}\n                                </td>\n                              );\n                            }\n                          }\n                        }\n                        // Handle count fields - ensure they display as numbers\n                        if (key.includes('Contributors') && (typeof value === 'number' || value === 0)) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px', fontWeight: '500' }}>\n                              {value}\n                            </td>\n                          );\n                        }\n                        return (\n                          <td key={vIdx} style={{ padding: '8px 12px' }}>\n                            {value !== null && value !== undefined ? String(value) : '--'}\n                          </td>\n                        );\n                      })}\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n            {loadingMore && (\n              <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n                <RefreshCw size={16} className=\"spinning\" style={{ display: 'inline-block', marginRight: '8px' }} />\n                Loading more records...\n              </div>\n            )}\n            {!hasMore && displayedData.length >= (totalCount || data.length) && (\n              <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n                All {totalCount || data.length} records loaded\n              </div>\n            )}\n          </div>\n        ) : (\n          <div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\n            <BarChart3 size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n            <p>No data to preview</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PreviewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}