{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = text => {\n  _s();\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    const rafId = requestAnimationFrame(() => {\n      checkTruncation();\n      // Also check after a small delay to catch any async updates\n      setTimeout(checkTruncation, 100);\n    });\n\n    // Recheck on window resize\n    const handleResize = () => {\n      requestAnimationFrame(() => {\n        checkTruncation();\n      });\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    // Use a timeout to ensure ref.current is available\n    const observerTimeout = setTimeout(() => {\n      if (ref.current) {\n        observer = new MutationObserver(() => {\n          checkTruncation();\n        });\n        observer.observe(ref.current, {\n          childList: true,\n          subtree: true,\n          characterData: true,\n          attributes: true,\n          attributeFilter: ['style', 'class']\n        });\n      }\n    }, 0);\n    return () => {\n      cancelAnimationFrame(rafId);\n      clearTimeout(observerTimeout);\n      window.removeEventListener('resize', handleResize);\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [text]);\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n_s(useTruncatedTooltip, \"ytTCSDLmhVtQddEvMNkK3x3pees=\");","map":{"version":3,"names":["useState","useRef","useEffect","useTruncatedTooltip","text","_s","isTruncated","setIsTruncated","showTooltip","setShowTooltip","ref","checkTruncation","current","element","isTextTruncated","scrollWidth","clientWidth","scrollHeight","clientHeight","rafId","requestAnimationFrame","setTimeout","handleResize","window","addEventListener","observer","observerTimeout","MutationObserver","observe","childList","subtree","characterData","attributes","attributeFilter","cancelAnimationFrame","clearTimeout","removeEventListener","disconnect","handleMouseEnter","handleMouseLeave"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/useTruncatedTooltip.js"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = (text) => {\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || \n                                element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    const rafId = requestAnimationFrame(() => {\n      checkTruncation();\n      // Also check after a small delay to catch any async updates\n      setTimeout(checkTruncation, 100);\n    });\n    \n    // Recheck on window resize\n    const handleResize = () => {\n      requestAnimationFrame(() => {\n        checkTruncation();\n      });\n    };\n    \n    window.addEventListener('resize', handleResize);\n    \n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    // Use a timeout to ensure ref.current is available\n    const observerTimeout = setTimeout(() => {\n      if (ref.current) {\n        observer = new MutationObserver(() => {\n          checkTruncation();\n        });\n        observer.observe(ref.current, {\n          childList: true,\n          subtree: true,\n          characterData: true,\n          attributes: true,\n          attributeFilter: ['style', 'class']\n        });\n      }\n    }, 0);\n    \n    return () => {\n      cancelAnimationFrame(rafId);\n      clearTimeout(observerTimeout);\n      window.removeEventListener('resize', handleResize);\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [text]);\n\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;;AAEnD;AACA;AACA;AACA;AACA,OAAO,MAAMC,mBAAmB,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMU,GAAG,GAAGT,MAAM,CAAC,IAAI,CAAC;EAExBC,SAAS,CAAC,MAAM;IACd,MAAMS,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAID,GAAG,CAACE,OAAO,EAAE;QACf,MAAMC,OAAO,GAAGH,GAAG,CAACE,OAAO;QAC3B;QACA,MAAME,eAAe,GAAGD,OAAO,CAACE,WAAW,GAAGF,OAAO,CAACG,WAAW,IACzCH,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACK,YAAY;QACnEX,cAAc,CAACO,eAAe,CAAC;MACjC;IACF,CAAC;;IAED;IACA,MAAMK,KAAK,GAAGC,qBAAqB,CAAC,MAAM;MACxCT,eAAe,CAAC,CAAC;MACjB;MACAU,UAAU,CAACV,eAAe,EAAE,GAAG,CAAC;IAClC,CAAC,CAAC;;IAEF;IACA,MAAMW,YAAY,GAAGA,CAAA,KAAM;MACzBF,qBAAqB,CAAC,MAAM;QAC1BT,eAAe,CAAC,CAAC;MACnB,CAAC,CAAC;IACJ,CAAC;IAEDY,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,YAAY,CAAC;;IAE/C;IACA,IAAIG,QAAQ,GAAG,IAAI;IACnB;IACA,MAAMC,eAAe,GAAGL,UAAU,CAAC,MAAM;MACvC,IAAIX,GAAG,CAACE,OAAO,EAAE;QACfa,QAAQ,GAAG,IAAIE,gBAAgB,CAAC,MAAM;UACpChB,eAAe,CAAC,CAAC;QACnB,CAAC,CAAC;QACFc,QAAQ,CAACG,OAAO,CAAClB,GAAG,CAACE,OAAO,EAAE;UAC5BiB,SAAS,EAAE,IAAI;UACfC,OAAO,EAAE,IAAI;UACbC,aAAa,EAAE,IAAI;UACnBC,UAAU,EAAE,IAAI;UAChBC,eAAe,EAAE,CAAC,OAAO,EAAE,OAAO;QACpC,CAAC,CAAC;MACJ;IACF,CAAC,EAAE,CAAC,CAAC;IAEL,OAAO,MAAM;MACXC,oBAAoB,CAACf,KAAK,CAAC;MAC3BgB,YAAY,CAACT,eAAe,CAAC;MAC7BH,MAAM,CAACa,mBAAmB,CAAC,QAAQ,EAAEd,YAAY,CAAC;MAClD,IAAIG,QAAQ,EAAE;QACZA,QAAQ,CAACY,UAAU,CAAC,CAAC;MACvB;IACF,CAAC;EACH,CAAC,EAAE,CAACjC,IAAI,CAAC,CAAC;EAEV,MAAMkC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIhC,WAAW,EAAE;MACfG,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC;EAED,MAAM8B,gBAAgB,GAAGA,CAAA,KAAM;IAC7B9B,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,OAAO;IACLC,GAAG;IACHJ,WAAW;IACXE,WAAW;IACXC,cAAc;IACd6B,gBAAgB;IAChBC;EACF,CAAC;AACH,CAAC;AAAClC,EAAA,CA9EWF,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}