{"ast":null,"code":"/**\n * Security utilities\n * Provides functions for input sanitization and security checks\n */\n\n/**\n * Sanitizes string input to prevent XSS attacks\n * Removes potentially dangerous HTML/JavaScript\n * @param {string} input - Input string to sanitize\n * @param {object} options - Sanitization options\n * @returns {string} - Sanitized string\n */\nexport const sanitizeString = (input, options = {}) => {\n  if (!input || typeof input !== 'string') return input;\n  const {\n    allowHtml = false,\n    maxLength = 10000,\n    strict = false\n  } = options;\n\n  // Remove null bytes\n  let sanitized = input.replace(/\\0/g, '');\n\n  // Check for XSS patterns (strict mode)\n  if (strict && containsXss(sanitized)) {\n    throw new Error('Potentially dangerous XSS pattern detected');\n  }\n\n  // Remove potentially dangerous XSS patterns\n  sanitized = sanitized\n  // Remove script tags and content\n  .replace(/<script[^>]*>.*?<\\/script>/gi, '').replace(/<script[^>]*>/gi, '').replace(/<\\/script>/gi, '')\n  // Remove iframe tags\n  .replace(/<iframe[^>]*>.*?<\\/iframe>/gi, '').replace(/<iframe[^>]*>/gi, '')\n  // Remove object and embed tags\n  .replace(/<object[^>]*>.*?<\\/object>/gi, '').replace(/<embed[^>]*>.*?<\\/embed>/gi, '')\n  // Remove dangerous protocols\n  .replace(/javascript:/gi, '').replace(/vbscript:/gi, '').replace(/data:text\\/html/gi, '').replace(/data:image\\/svg\\+xml/gi, '')\n  // Remove event handlers\n  .replace(/on\\w+\\s*=/gi, '').replace(/onerror\\s*=/gi, '').replace(/onload\\s*=/gi, '').replace(/onclick\\s*=/gi, '').replace(/onmouseover\\s*=/gi, '')\n  // Remove expression injection\n  .replace(/expression\\s*\\(/gi, '')\n  // Remove CSS import\n  .replace(/@import/gi, '')\n  // Remove SVG tags\n  .replace(/<svg[^>]*>.*?<\\/svg>/gi, '').replace(/<svg[^>]*>/gi, '')\n  // Remove form tags\n  .replace(/<form[^>]*>.*?<\\/form>/gi, '').replace(/<form[^>]*>/gi, '')\n  // Remove input tags\n  .replace(/<input[^>]*>/gi, '')\n  // Remove meta refresh\n  .replace(/<meta[^>]*http-equiv[^>]*refresh[^>]*>/gi, '')\n  // Remove base tag\n  .replace(/<base[^>]*>/gi, '')\n  // Remove encoded XSS attempts\n  .replace(/&#x3C;script/gi, '').replace(/&#60;script/gi, '').replace(/%3Cscript/gi, '').replace(/%3C%2Fscript/gi, '');\n\n  // If HTML is not allowed, remove all HTML tags\n  if (!allowHtml) {\n    sanitized = sanitized.replace(/<[^>]+>/g, '');\n  }\n\n  // Limit length to prevent DoS\n  if (sanitized.length > maxLength) {\n    sanitized = sanitized.substring(0, maxLength);\n  }\n  return sanitized.trim();\n};\n\n/**\n * Sanitizes object recursively\n * @param {object} obj - Object to sanitize\n * @returns {object} - Sanitized object\n */\nexport const sanitizeObject = obj => {\n  if (!obj || typeof obj !== 'object') return obj;\n  if (Array.isArray(obj)) {\n    return obj.map(item => sanitizeObject(item));\n  }\n  const sanitized = {};\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      const value = obj[key];\n      if (typeof value === 'string') {\n        sanitized[key] = sanitizeString(value);\n      } else if (typeof value === 'object' && value !== null) {\n        sanitized[key] = sanitizeObject(value);\n      } else {\n        sanitized[key] = value;\n      }\n    }\n  }\n  return sanitized;\n};\n\n/**\n * Escapes special characters for use in SQL queries\n * Note: This is a basic escape. Always use parameterized queries when possible.\n * @param {string} input - Input string to escape\n * @returns {string} - Escaped string\n */\nexport const escapeSql = input => {\n  if (!input || typeof input !== 'string') return input;\n  return input.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"').replace(/\\0/g, '\\\\0').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\x1a/g, '\\\\Z');\n};\n\n/**\n * Validates input length\n * @param {string} input - Input to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nexport const isValidLength = (input, maxLength) => {\n  if (!input) return true;\n  return input.length <= maxLength;\n};\n\n/**\n * Checks for SQL injection patterns\n * @param {string} input - Input to check\n * @returns {boolean} - True if potentially dangerous, false otherwise\n */\nexport const containsSqlInjection = input => {\n  if (!input || typeof input !== 'string') return false;\n  const sqlPatterns = [/(\\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|EXECUTE|UNION|SCRIPT)\\b)/gi, /('|(\\\\')|(;)|(--)|(\\/\\*)|(\\*\\/)|(\\+)|(\\%))/gi, /((\\%27)|(\\'))((\\%6F)|o|(\\%4F))((\\%72)|r|(\\%52))/gi,\n  // 'or'\n  /((\\%27)|(\\'))((\\%55)|u|(\\%75))((\\%4E)|n|(\\%6E))((\\%49)|i|(\\%69))((\\%4F)|o|(\\%6F))((\\%4E)|n|(\\%6E))/gi,\n  // 'union'\n  /((\\%27)|(\\'))((\\%4F)|o|(\\%6F))((\\%52)|r|(\\%72))/gi // 'or'\n  ];\n  return sqlPatterns.some(pattern => pattern.test(input));\n};\n\n/**\n * Checks for XSS patterns\n * @param {string} input - Input to check\n * @returns {boolean} - True if potentially dangerous, false otherwise\n */\nexport const containsXss = input => {\n  if (!input || typeof input !== 'string') return false;\n  const xssPatterns = [\n  // Script tags and variations\n  /<script[^>]*>.*?<\\/script>/gi, /<script/gi, /<\\/script>/gi,\n  // Event handlers\n  /on\\w+\\s*=/gi, /onerror\\s*=/gi, /onload\\s*=/gi, /onclick\\s*=/gi, /onmouseover\\s*=/gi,\n  // Dangerous tags\n  /<iframe[^>]*>.*?<\\/iframe>/gi, /<iframe/gi, /<object[^>]*>.*?<\\/object>/gi, /<object/gi, /<embed[^>]*>.*?<\\/embed>/gi, /<embed/gi, /<link[^>]*>.*?<\\/link>/gi, /<style[^>]*>.*?<\\/style>/gi, /<style/gi,\n  // Dangerous protocols\n  /javascript:/gi, /vbscript:/gi, /data:text\\/html/gi, /data:image\\/svg\\+xml/gi,\n  // Encoded XSS attempts\n  /&#x3C;script/gi, /&#60;script/gi, /%3Cscript/gi, /%3C%2Fscript/gi,\n  // Expression injection\n  /expression\\s*\\(/gi,\n  // CSS injection\n  /@import/gi,\n  // SVG XSS\n  /<svg[^>]*>.*?<\\/svg>/gi, /<svg/gi,\n  // Image with malicious src\n  /<img[^>]+src[^>]*=.*javascript:/gi, /<img[^>]+onerror/gi,\n  // Link with malicious href\n  /<a[^>]+href[^>]*=.*javascript:/gi,\n  // Form injection\n  /<form[^>]*>.*?<\\/form>/gi, /<form/gi,\n  // Input injection\n  /<input[^>]*>.*?<\\/input>/gi, /<input/gi,\n  // Meta refresh\n  /<meta[^>]*http-equiv[^>]*refresh/gi,\n  // Base tag\n  /<base[^>]*>/gi];\n  return xssPatterns.some(pattern => pattern.test(input));\n};\n\n/**\n * Escapes HTML entities to prevent XSS when rendering user input\n * @param {string} input - Input string to escape\n * @returns {string} - HTML-escaped string\n */\nexport const escapeHtml = input => {\n  if (!input || typeof input !== 'string') return input;\n  const htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '/': '&#x2F;'\n  };\n  return input.replace(/[&<>\"'\\/]/g, match => htmlEscapes[match]);\n};\n\n/**\n * Escapes HTML attributes to prevent XSS in attribute values\n * @param {string} input - Input string to escape\n * @returns {string} - Attribute-escaped string\n */\nexport const escapeHtmlAttribute = input => {\n  if (!input || typeof input !== 'string') return input;\n\n  // Escape quotes and other dangerous characters\n  return input.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n};\n\n/**\n * Validates input for security threats\n * @param {string} input - Input to validate\n * @returns {object} - { isSafe: boolean, threats: string[] }\n */\nexport const validateSecurity = input => {\n  if (!input || typeof input !== 'string') {\n    return {\n      isSafe: true,\n      threats: []\n    };\n  }\n  const threats = [];\n  if (containsSqlInjection(input)) {\n    threats.push('SQL_INJECTION');\n  }\n  if (containsXss(input)) {\n    threats.push('XSS');\n  }\n  return {\n    isSafe: threats.length === 0,\n    threats\n  };\n};\n\n/**\n * Validates input for XSS patterns before submission\n * @param {any} input - Input to validate (string, object, or array)\n * @returns {object} - { isValid: boolean, error: string }\n */\nexport const validateForXss = input => {\n  if (input === null || input === undefined) {\n    return {\n      isValid: true,\n      error: ''\n    };\n  }\n  if (typeof input === 'string') {\n    if (containsXss(input)) {\n      return {\n        isValid: false,\n        error: 'Input contains potentially dangerous XSS patterns. Please remove any HTML tags or JavaScript code.'\n      };\n    }\n  } else if (Array.isArray(input)) {\n    for (const item of input) {\n      const result = validateForXss(item);\n      if (!result.isValid) {\n        return result;\n      }\n    }\n  } else if (typeof input === 'object') {\n    for (const key in input) {\n      if (input.hasOwnProperty(key)) {\n        // Check key\n        const keyResult = validateForXss(key);\n        if (!keyResult.isValid) {\n          return keyResult;\n        }\n        // Check value\n        const valueResult = validateForXss(input[key]);\n        if (!valueResult.isValid) {\n          return valueResult;\n        }\n      }\n    }\n  }\n  return {\n    isValid: true,\n    error: ''\n  };\n};\n\n/**\n * Sanitizes and validates input for security\n * @param {string} input - Input to sanitize and validate\n * @returns {object} - { sanitized: string, isSafe: boolean, threats: string[] }\n */\nexport const sanitizeAndValidate = input => {\n  const sanitized = sanitizeString(input);\n  const security = validateSecurity(sanitized);\n  return {\n    sanitized,\n    ...security\n  };\n};","map":{"version":3,"names":["sanitizeString","input","options","allowHtml","maxLength","strict","sanitized","replace","containsXss","Error","length","substring","trim","sanitizeObject","obj","Array","isArray","map","item","key","hasOwnProperty","value","escapeSql","isValidLength","containsSqlInjection","sqlPatterns","some","pattern","test","xssPatterns","escapeHtml","htmlEscapes","match","escapeHtmlAttribute","validateSecurity","isSafe","threats","push","validateForXss","undefined","isValid","error","result","keyResult","valueResult","sanitizeAndValidate","security"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/security.js"],"sourcesContent":["/**\n * Security utilities\n * Provides functions for input sanitization and security checks\n */\n\n/**\n * Sanitizes string input to prevent XSS attacks\n * Removes potentially dangerous HTML/JavaScript\n * @param {string} input - Input string to sanitize\n * @param {object} options - Sanitization options\n * @returns {string} - Sanitized string\n */\nexport const sanitizeString = (input, options = {}) => {\n  if (!input || typeof input !== 'string') return input;\n  \n  const { \n    allowHtml = false, \n    maxLength = 10000,\n    strict = false \n  } = options;\n  \n  // Remove null bytes\n  let sanitized = input.replace(/\\0/g, '');\n  \n  // Check for XSS patterns (strict mode)\n  if (strict && containsXss(sanitized)) {\n    throw new Error('Potentially dangerous XSS pattern detected');\n  }\n  \n  // Remove potentially dangerous XSS patterns\n  sanitized = sanitized\n    // Remove script tags and content\n    .replace(/<script[^>]*>.*?<\\/script>/gi, '')\n    .replace(/<script[^>]*>/gi, '')\n    .replace(/<\\/script>/gi, '')\n    // Remove iframe tags\n    .replace(/<iframe[^>]*>.*?<\\/iframe>/gi, '')\n    .replace(/<iframe[^>]*>/gi, '')\n    // Remove object and embed tags\n    .replace(/<object[^>]*>.*?<\\/object>/gi, '')\n    .replace(/<embed[^>]*>.*?<\\/embed>/gi, '')\n    // Remove dangerous protocols\n    .replace(/javascript:/gi, '')\n    .replace(/vbscript:/gi, '')\n    .replace(/data:text\\/html/gi, '')\n    .replace(/data:image\\/svg\\+xml/gi, '')\n    // Remove event handlers\n    .replace(/on\\w+\\s*=/gi, '')\n    .replace(/onerror\\s*=/gi, '')\n    .replace(/onload\\s*=/gi, '')\n    .replace(/onclick\\s*=/gi, '')\n    .replace(/onmouseover\\s*=/gi, '')\n    // Remove expression injection\n    .replace(/expression\\s*\\(/gi, '')\n    // Remove CSS import\n    .replace(/@import/gi, '')\n    // Remove SVG tags\n    .replace(/<svg[^>]*>.*?<\\/svg>/gi, '')\n    .replace(/<svg[^>]*>/gi, '')\n    // Remove form tags\n    .replace(/<form[^>]*>.*?<\\/form>/gi, '')\n    .replace(/<form[^>]*>/gi, '')\n    // Remove input tags\n    .replace(/<input[^>]*>/gi, '')\n    // Remove meta refresh\n    .replace(/<meta[^>]*http-equiv[^>]*refresh[^>]*>/gi, '')\n    // Remove base tag\n    .replace(/<base[^>]*>/gi, '')\n    // Remove encoded XSS attempts\n    .replace(/&#x3C;script/gi, '')\n    .replace(/&#60;script/gi, '')\n    .replace(/%3Cscript/gi, '')\n    .replace(/%3C%2Fscript/gi, '');\n  \n  // If HTML is not allowed, remove all HTML tags\n  if (!allowHtml) {\n    sanitized = sanitized.replace(/<[^>]+>/g, '');\n  }\n  \n  // Limit length to prevent DoS\n  if (sanitized.length > maxLength) {\n    sanitized = sanitized.substring(0, maxLength);\n  }\n  \n  return sanitized.trim();\n};\n\n/**\n * Sanitizes object recursively\n * @param {object} obj - Object to sanitize\n * @returns {object} - Sanitized object\n */\nexport const sanitizeObject = (obj) => {\n  if (!obj || typeof obj !== 'object') return obj;\n  \n  if (Array.isArray(obj)) {\n    return obj.map(item => sanitizeObject(item));\n  }\n  \n  const sanitized = {};\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      const value = obj[key];\n      if (typeof value === 'string') {\n        sanitized[key] = sanitizeString(value);\n      } else if (typeof value === 'object' && value !== null) {\n        sanitized[key] = sanitizeObject(value);\n      } else {\n        sanitized[key] = value;\n      }\n    }\n  }\n  \n  return sanitized;\n};\n\n/**\n * Escapes special characters for use in SQL queries\n * Note: This is a basic escape. Always use parameterized queries when possible.\n * @param {string} input - Input string to escape\n * @returns {string} - Escaped string\n */\nexport const escapeSql = (input) => {\n  if (!input || typeof input !== 'string') return input;\n  \n  return input\n    .replace(/\\\\/g, '\\\\\\\\')\n    .replace(/'/g, \"\\\\'\")\n    .replace(/\"/g, '\\\\\"')\n    .replace(/\\0/g, '\\\\0')\n    .replace(/\\n/g, '\\\\n')\n    .replace(/\\r/g, '\\\\r')\n    .replace(/\\x1a/g, '\\\\Z');\n};\n\n/**\n * Validates input length\n * @param {string} input - Input to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nexport const isValidLength = (input, maxLength) => {\n  if (!input) return true;\n  return input.length <= maxLength;\n};\n\n/**\n * Checks for SQL injection patterns\n * @param {string} input - Input to check\n * @returns {boolean} - True if potentially dangerous, false otherwise\n */\nexport const containsSqlInjection = (input) => {\n  if (!input || typeof input !== 'string') return false;\n  \n  const sqlPatterns = [\n    /(\\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|EXECUTE|UNION|SCRIPT)\\b)/gi,\n    /('|(\\\\')|(;)|(--)|(\\/\\*)|(\\*\\/)|(\\+)|(\\%))/gi,\n    /((\\%27)|(\\'))((\\%6F)|o|(\\%4F))((\\%72)|r|(\\%52))/gi, // 'or'\n    /((\\%27)|(\\'))((\\%55)|u|(\\%75))((\\%4E)|n|(\\%6E))((\\%49)|i|(\\%69))((\\%4F)|o|(\\%6F))((\\%4E)|n|(\\%6E))/gi, // 'union'\n    /((\\%27)|(\\'))((\\%4F)|o|(\\%6F))((\\%52)|r|(\\%72))/gi, // 'or'\n  ];\n  \n  return sqlPatterns.some(pattern => pattern.test(input));\n};\n\n/**\n * Checks for XSS patterns\n * @param {string} input - Input to check\n * @returns {boolean} - True if potentially dangerous, false otherwise\n */\nexport const containsXss = (input) => {\n  if (!input || typeof input !== 'string') return false;\n  \n  const xssPatterns = [\n    // Script tags and variations\n    /<script[^>]*>.*?<\\/script>/gi,\n    /<script/gi,\n    /<\\/script>/gi,\n    // Event handlers\n    /on\\w+\\s*=/gi,\n    /onerror\\s*=/gi,\n    /onload\\s*=/gi,\n    /onclick\\s*=/gi,\n    /onmouseover\\s*=/gi,\n    // Dangerous tags\n    /<iframe[^>]*>.*?<\\/iframe>/gi,\n    /<iframe/gi,\n    /<object[^>]*>.*?<\\/object>/gi,\n    /<object/gi,\n    /<embed[^>]*>.*?<\\/embed>/gi,\n    /<embed/gi,\n    /<link[^>]*>.*?<\\/link>/gi,\n    /<style[^>]*>.*?<\\/style>/gi,\n    /<style/gi,\n    // Dangerous protocols\n    /javascript:/gi,\n    /vbscript:/gi,\n    /data:text\\/html/gi,\n    /data:image\\/svg\\+xml/gi,\n    // Encoded XSS attempts\n    /&#x3C;script/gi,\n    /&#60;script/gi,\n    /%3Cscript/gi,\n    /%3C%2Fscript/gi,\n    // Expression injection\n    /expression\\s*\\(/gi,\n    // CSS injection\n    /@import/gi,\n    // SVG XSS\n    /<svg[^>]*>.*?<\\/svg>/gi,\n    /<svg/gi,\n    // Image with malicious src\n    /<img[^>]+src[^>]*=.*javascript:/gi,\n    /<img[^>]+onerror/gi,\n    // Link with malicious href\n    /<a[^>]+href[^>]*=.*javascript:/gi,\n    // Form injection\n    /<form[^>]*>.*?<\\/form>/gi,\n    /<form/gi,\n    // Input injection\n    /<input[^>]*>.*?<\\/input>/gi,\n    /<input/gi,\n    // Meta refresh\n    /<meta[^>]*http-equiv[^>]*refresh/gi,\n    // Base tag\n    /<base[^>]*>/gi,\n  ];\n  \n  return xssPatterns.some(pattern => pattern.test(input));\n};\n\n/**\n * Escapes HTML entities to prevent XSS when rendering user input\n * @param {string} input - Input string to escape\n * @returns {string} - HTML-escaped string\n */\nexport const escapeHtml = (input) => {\n  if (!input || typeof input !== 'string') return input;\n  \n  const htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '/': '&#x2F;'\n  };\n  \n  return input.replace(/[&<>\"'\\/]/g, (match) => htmlEscapes[match]);\n};\n\n/**\n * Escapes HTML attributes to prevent XSS in attribute values\n * @param {string} input - Input string to escape\n * @returns {string} - Attribute-escaped string\n */\nexport const escapeHtmlAttribute = (input) => {\n  if (!input || typeof input !== 'string') return input;\n  \n  // Escape quotes and other dangerous characters\n  return input\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Validates input for security threats\n * @param {string} input - Input to validate\n * @returns {object} - { isSafe: boolean, threats: string[] }\n */\nexport const validateSecurity = (input) => {\n  if (!input || typeof input !== 'string') {\n    return { isSafe: true, threats: [] };\n  }\n  \n  const threats = [];\n  \n  if (containsSqlInjection(input)) {\n    threats.push('SQL_INJECTION');\n  }\n  \n  if (containsXss(input)) {\n    threats.push('XSS');\n  }\n  \n  return {\n    isSafe: threats.length === 0,\n    threats\n  };\n};\n\n/**\n * Validates input for XSS patterns before submission\n * @param {any} input - Input to validate (string, object, or array)\n * @returns {object} - { isValid: boolean, error: string }\n */\nexport const validateForXss = (input) => {\n  if (input === null || input === undefined) {\n    return { isValid: true, error: '' };\n  }\n  \n  if (typeof input === 'string') {\n    if (containsXss(input)) {\n      return { \n        isValid: false, \n        error: 'Input contains potentially dangerous XSS patterns. Please remove any HTML tags or JavaScript code.' \n      };\n    }\n  } else if (Array.isArray(input)) {\n    for (const item of input) {\n      const result = validateForXss(item);\n      if (!result.isValid) {\n        return result;\n      }\n    }\n  } else if (typeof input === 'object') {\n    for (const key in input) {\n      if (input.hasOwnProperty(key)) {\n        // Check key\n        const keyResult = validateForXss(key);\n        if (!keyResult.isValid) {\n          return keyResult;\n        }\n        // Check value\n        const valueResult = validateForXss(input[key]);\n        if (!valueResult.isValid) {\n          return valueResult;\n        }\n      }\n    }\n  }\n  \n  return { isValid: true, error: '' };\n};\n\n/**\n * Sanitizes and validates input for security\n * @param {string} input - Input to sanitize and validate\n * @returns {object} - { sanitized: string, isSafe: boolean, threats: string[] }\n */\nexport const sanitizeAndValidate = (input) => {\n  const sanitized = sanitizeString(input);\n  const security = validateSecurity(sanitized);\n  \n  return {\n    sanitized,\n    ...security\n  };\n};\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}