{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Loader,AlertCircle,RefreshCw}from'lucide-react';import apiClient from'../config/api';import toast from'react-hot-toast';import AccountStatusDashboard from'./ClientToolAccountAnalytics/AccountStatusDashboard';import ProjectCoverageAnalytics from'./ClientToolAccountAnalytics/ProjectCoverageAnalytics';import AccountUtilizationAnalytics from'./ClientToolAccountAnalytics/AccountUtilizationAnalytics';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientToolAccountAnalytics=()=>{const[loading,setLoading]=useState(true);const[data,setData]=useState(null);const[error,setError]=useState(null);const fetchAnalytics=async()=>{setLoading(true);setError(null);try{const response=await apiClient.get('/client-tool-account/analytics/dashboard');if(response.data.success){setData(response.data.data);}else{throw new Error(response.data.error||'Failed to fetch analytics');}}catch(err){var _err$response,_err$response$data;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message||'Failed to load analytics';setError(errorMessage);toast.error(errorMessage);}finally{setLoading(false);}};useEffect(()=>{fetchAnalytics();},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'60px 20px',gap:'16px'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:32,style:{color:'#0176d3'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#706e6b',fontSize:'14px'},children:\"Loading analytics...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'60px 20px',gap:'16px'},children:[/*#__PURE__*/_jsx(AlertCircle,{size:32,style:{color:'#d32f2f'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#d32f2f',fontSize:'14px'},children:error}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchAnalytics,style:{padding:'8px 16px',background:'#0176d3',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'14px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16}),\"Retry\"]})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px 0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'20px',fontWeight:'600',margin:0},children:\"Client Tool Account Analytics\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchAnalytics,disabled:loading,style:{padding:'8px 16px',background:'#0176d3',color:'#fff',border:'none',borderRadius:'6px',cursor:loading?'not-allowed':'pointer',fontSize:'14px',display:'flex',alignItems:'center',gap:'8px',opacity:loading?0.6:1},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:loading?'spinning':''}),\"Refresh\"]})]}),(data===null||data===void 0?void 0:data.accountStatus)&&/*#__PURE__*/_jsx(AccountStatusDashboard,{data:data.accountStatus}),(data===null||data===void 0?void 0:data.projectCoverage)&&/*#__PURE__*/_jsx(ProjectCoverageAnalytics,{data:data.projectCoverage}),(data===null||data===void 0?void 0:data.accountUtilization)&&/*#__PURE__*/_jsx(AccountUtilizationAnalytics,{data:data.accountUtilization}),(!data||!data.accountStatus&&!data.projectCoverage&&!data.accountUtilization)&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'40px',textAlign:'center',color:'#666',background:'#f5f5f5',borderRadius:'8px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"No analytics data available\"})})]});};export default ClientToolAccountAnalytics;","map":{"version":3,"names":["React","useState","useEffect","Loader","AlertCircle","RefreshCw","apiClient","toast","AccountStatusDashboard","ProjectCoverageAnalytics","AccountUtilizationAnalytics","jsx","_jsx","jsxs","_jsxs","ClientToolAccountAnalytics","loading","setLoading","data","setData","error","setError","fetchAnalytics","response","get","success","Error","err","_err$response","_err$response$data","errorMessage","message","style","display","flexDirection","alignItems","justifyContent","padding","gap","children","className","size","color","fontSize","onClick","background","border","borderRadius","cursor","marginBottom","fontWeight","margin","disabled","opacity","accountStatus","projectCoverage","accountUtilization","textAlign"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/ClientToolAccountAnalytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Loader, AlertCircle, RefreshCw } from 'lucide-react';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport AccountStatusDashboard from './ClientToolAccountAnalytics/AccountStatusDashboard';\nimport ProjectCoverageAnalytics from './ClientToolAccountAnalytics/ProjectCoverageAnalytics';\nimport AccountUtilizationAnalytics from './ClientToolAccountAnalytics/AccountUtilizationAnalytics';\n\nconst ClientToolAccountAnalytics = () => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const fetchAnalytics = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiClient.get('/client-tool-account/analytics/dashboard');\n      if (response.data.success) {\n        setData(response.data.data);\n      } else {\n        throw new Error(response.data.error || 'Failed to fetch analytics');\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.error || err.message || 'Failed to load analytics';\n      setError(errorMessage);\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAnalytics();\n  }, []);\n\n  if (loading) {\n    return (\n      <div style={{ \n        display: 'flex', \n        flexDirection: 'column', \n        alignItems: 'center', \n        justifyContent: 'center', \n        padding: '60px 20px',\n        gap: '16px'\n      }}>\n        <Loader className=\"spinner\" size={32} style={{ color: '#0176d3' }} />\n        <p style={{ color: '#706e6b', fontSize: '14px' }}>Loading analytics...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ \n        display: 'flex', \n        flexDirection: 'column', \n        alignItems: 'center', \n        justifyContent: 'center', \n        padding: '60px 20px',\n        gap: '16px'\n      }}>\n        <AlertCircle size={32} style={{ color: '#d32f2f' }} />\n        <p style={{ color: '#d32f2f', fontSize: '14px' }}>{error}</p>\n        <button\n          onClick={fetchAnalytics}\n          style={{\n            padding: '8px 16px',\n            background: '#0176d3',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}\n        >\n          <RefreshCw size={16} />\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px 0' }}>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '24px' \n      }}>\n        <h2 style={{ fontSize: '20px', fontWeight: '600', margin: 0 }}>\n          Client Tool Account Analytics\n        </h2>\n        <button\n          onClick={fetchAnalytics}\n          disabled={loading}\n          style={{\n            padding: '8px 16px',\n            background: '#0176d3',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: loading ? 'not-allowed' : 'pointer',\n            fontSize: '14px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            opacity: loading ? 0.6 : 1\n          }}\n        >\n          <RefreshCw size={16} className={loading ? 'spinning' : ''} />\n          Refresh\n        </button>\n      </div>\n\n      {/* Phase 1 Analytics */}\n      {data?.accountStatus && (\n        <AccountStatusDashboard data={data.accountStatus} />\n      )}\n      \n      {data?.projectCoverage && (\n        <ProjectCoverageAnalytics data={data.projectCoverage} />\n      )}\n      \n      {data?.accountUtilization && (\n        <AccountUtilizationAnalytics data={data.accountUtilization} />\n      )}\n\n      {(!data || (!data.accountStatus && !data.projectCoverage && !data.accountUtilization)) && (\n        <div style={{ \n          padding: '40px', \n          textAlign: 'center', \n          color: '#666',\n          background: '#f5f5f5',\n          borderRadius: '8px'\n        }}>\n          <p>No analytics data available</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClientToolAccountAnalytics;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}