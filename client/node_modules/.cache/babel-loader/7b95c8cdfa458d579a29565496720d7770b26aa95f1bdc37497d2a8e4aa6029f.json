{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/components/DashboardWidgets/DashboardWidgetsManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Layout, Plus, BarChart3, TrendingUp, Users, FileText } from 'lucide-react';\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, AreaChart, Area } from 'recharts';\nimport WidgetContainer from './WidgetContainer';\nimport WidgetConfigModal from './WidgetConfigModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardWidgetsManager = ({\n  stats = [],\n  analytics = {}\n}) => {\n  _s();\n  const [widgets, setWidgets] = useState([]);\n  const [showAddMenu, setShowAddMenu] = useState(false);\n  const [configuringWidget, setConfiguringWidget] = useState(null);\n  useEffect(() => {\n    loadWidgets();\n  }, []);\n\n  // Close add menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (showAddMenu && !event.target.closest('[data-add-menu]')) {\n        setShowAddMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showAddMenu]);\n  const loadWidgets = () => {\n    try {\n      const saved = localStorage.getItem('dashboard_widgets');\n      if (saved) {\n        const parsedWidgets = JSON.parse(saved);\n        // Ensure all widgets have required default fields\n        const widgetsWithDefaults = parsedWidgets.map(w => ({\n          dataSource: w.type === 'chart' || w.type === 'table' ? 'publishes' : 'dashboard',\n          chartType: 'bar',\n          chartDataField: w.type === 'chart' || w.type === 'table' ? w.chartDataField || 'byObjectType' : '',\n          metricField: 'totalPublishes',\n          color: '#08979C',\n          showLegend: true,\n          showGrid: true,\n          ...w\n        }));\n        setWidgets(widgetsWithDefaults);\n      } else {\n        // Default widgets\n        const defaultWidget = {\n          id: 'widget_1',\n          type: 'summary',\n          title: 'Total Publishes',\n          dataSource: 'dashboard',\n          metricField: 'totalPublishes',\n          color: '#08979C'\n        };\n        setWidgets([defaultWidget]);\n      }\n    } catch (error) {\n      console.error('Error loading widgets:', error);\n    }\n  };\n  const saveWidgets = newWidgets => {\n    try {\n      // Don't save React components to localStorage - they can't be serialized\n      const widgetsToSave = newWidgets.map(w => {\n        const {\n          component,\n          ...widgetData\n        } = w;\n        return widgetData;\n      });\n      localStorage.setItem('dashboard_widgets', JSON.stringify(widgetsToSave));\n      // Update state with widgets (without components - they'll be generated on render)\n      setWidgets(widgetsToSave);\n    } catch (error) {\n      console.error('Error saving widgets:', error);\n    }\n  };\n  const addWidget = widgetType => {\n    // Set default configuration based on widget type\n    const defaultConfig = {\n      id: `widget_${Date.now()}`,\n      type: widgetType,\n      title: getWidgetTitle(widgetType),\n      dataSource: widgetType === 'chart' || widgetType === 'table' ? 'publishes' : 'dashboard',\n      chartType: 'bar',\n      chartDataField: widgetType === 'chart' || widgetType === 'table' ? 'byObjectType' : '',\n      metricField: 'totalPublishes',\n      color: '#08979C',\n      showLegend: true,\n      showGrid: true\n    };\n    const newWidgets = [...widgets, defaultConfig];\n    saveWidgets(newWidgets);\n    setShowAddMenu(false);\n    // Open configuration modal for new widget\n    setConfiguringWidget(defaultConfig);\n  };\n  const handleConfigure = widget => {\n    setConfiguringWidget(widget);\n  };\n  const handleSaveConfig = (widgetId, config) => {\n    const updatedWidgets = widgets.map(w => {\n      if (w.id === widgetId) {\n        return {\n          ...w,\n          ...config,\n          updatedAt: Date.now() // Add timestamp to force re-render\n        };\n      }\n      return w;\n    });\n    saveWidgets(updatedWidgets);\n    // Close modal after saving\n    setConfiguringWidget(null);\n  };\n  const removeWidget = widgetId => {\n    const newWidgets = widgets.filter(w => w.id !== widgetId);\n    saveWidgets(newWidgets);\n  };\n  const getWidgetTitle = type => {\n    const titles = {\n      summary: 'Summary',\n      chart: 'Chart',\n      table: 'Table',\n      metric: 'Metric',\n      list: 'List'\n    };\n    return titles[type] || 'Widget';\n  };\n  const getWidgetData = widget => {\n    var _stats$find, _stats$find2, _stats$find3, _stats$find4;\n    const dataSource = widget.dataSource || 'dashboard';\n    switch (dataSource) {\n      case 'dashboard':\n        // Return dashboard stats\n        const dashboardData = {\n          totalPublishes: ((_stats$find = stats.find(s => s.label === 'Total Publishes')) === null || _stats$find === void 0 ? void 0 : _stats$find.value) || '0',\n          todayPublishes: ((_stats$find2 = stats.find(s => s.label === 'Today')) === null || _stats$find2 === void 0 ? void 0 : _stats$find2.value) || '0',\n          recentPublishes: ((_stats$find3 = stats.find(s => s.label === 'Last 7 Days')) === null || _stats$find3 === void 0 ? void 0 : _stats$find3.value) || '0',\n          successRate: ((_stats$find4 = stats.find(s => s.label === 'Success Rate')) === null || _stats$find4 === void 0 ? void 0 : _stats$find4.value) || '0%'\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Dashboard widget data:', {\n            widget,\n            dashboardData,\n            stats\n          });\n        }\n        return dashboardData;\n      case 'publishes':\n        // Return publishing activity data\n        const publishesData = {\n          byObjectType: analytics.publishesByObjectType || {},\n          byOperation: analytics.publishesByOperation || {},\n          activityByDay: analytics.activityByDay || []\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Publishes widget data:', {\n            widget,\n            publishesData,\n            analytics\n          });\n        }\n        return publishesData;\n      case 'projects':\n        // Return project data\n        return {\n          byUser: analytics.projectsByUser || {},\n          byDate: analytics.projectsByDate || {}\n        };\n      default:\n        return {};\n    }\n  };\n  const getWidgetComponent = widget => {\n    const type = widget.type || 'summary';\n    const color = widget.color || '#08979C';\n    const data = getWidgetData(widget);\n    switch (type) {\n      case 'summary':\n        // Display a summary metric based on data source\n        let summaryValue = '0';\n        let summaryLabel = 'Total Items';\n        if (widget.dataSource === 'dashboard') {\n          const metric = widget.metricField || 'totalPublishes';\n          summaryValue = data[metric] || '0';\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        } else if (widget.dataSource === 'publishes') {\n          const total = Object.values(data.byObjectType || {}).reduce((sum, val) => sum + (Number(val) || 0), 0);\n          summaryValue = total.toString();\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            background: '#f9fafb',\n            borderRadius: '6px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: '600',\n              color: color\n            },\n            children: summaryValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: summaryLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this);\n      case 'chart':\n        const chartType = widget.chartType || 'bar';\n        let chartData = [];\n        let chartConfig = {};\n\n        // Determine chartDataField if not set (use default based on dataSource)\n        const chartDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        if (widget.dataSource === 'publishes') {\n          if (chartDataField === 'byObjectType') {\n            chartData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'byOperation') {\n            chartData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'activityByDay') {\n            chartData = (data.activityByDay || []).map(item => ({\n              date: new Date(item.date).toLocaleDateString('en-US', {\n                month: 'short',\n                day: 'numeric'\n              }),\n              creates: item.creates || 0,\n              updates: item.updates || 0,\n              total: item.total || 0\n            }));\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard data source, show stats as chart\n          chartData = [{\n            name: 'Total',\n            value: Number(data.totalPublishes) || 0\n          }, {\n            name: 'Today',\n            value: Number(data.todayPublishes) || 0\n          }, {\n            name: 'Last 7 Days',\n            value: Number(data.recentPublishes) || 0\n          }].filter(item => item.value > 0);\n        }\n        if (chartData.length === 0) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              textAlign: 'center',\n              color: '#666',\n              minHeight: '200px',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              size: 32,\n              style: {\n                opacity: 0.3,\n                color: color,\n                margin: '0 auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                marginTop: '8px'\n              },\n              children: widget.dataSource === 'publishes' && !chartDataField ? 'Please configure: Select a Data Field (By Object Type, By Operation, or Activity Over Time)' : 'No data available. Data may not be loaded yet.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this);\n        }\n        const COLORS = [color, '#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#ef4444'];\n        if (chartType === 'pie') {\n          return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 200,\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: chartData,\n                cx: \"50%\",\n                cy: \"50%\",\n                labelLine: false,\n                label: false,\n                outerRadius: 80,\n                fill: \"#8884d8\",\n                dataKey: \"value\",\n                children: chartData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: COLORS[index % COLORS.length]\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), widget.showLegend !== false && /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this);\n        } else if (chartType === 'line') {\n          return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 200,\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: chartData,\n              children: [widget.showGrid !== false && /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#f0f0f0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"name\",\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), widget.showLegend !== false && /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"value\",\n                stroke: color,\n                strokeWidth: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this);\n        } else if (chartType === 'area') {\n          return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 200,\n            children: /*#__PURE__*/_jsxDEV(AreaChart, {\n              data: chartData,\n              children: [widget.showGrid !== false && /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#f0f0f0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"name\",\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), widget.showLegend !== false && /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(Area, {\n                type: \"monotone\",\n                dataKey: \"value\",\n                stroke: color,\n                fill: color,\n                fillOpacity: 0.3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this);\n        } else {\n          // Bar chart (default)\n          return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 200,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: chartData,\n              children: [widget.showGrid !== false && /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#f0f0f0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"name\",\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), widget.showLegend !== false && /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"value\",\n                fill: color,\n                radius: [8, 8, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this);\n        }\n      case 'table':\n        let tableData = [];\n        const tableDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        if (widget.dataSource === 'publishes') {\n          if (tableDataField === 'byObjectType') {\n            tableData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (tableDataField === 'byOperation') {\n            tableData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard, show stats as table\n          tableData = [{\n            name: 'Total Publishes',\n            value: Number(data.totalPublishes) || 0\n          }, {\n            name: 'Today',\n            value: Number(data.todayPublishes) || 0\n          }, {\n            name: 'Last 7 Days',\n            value: Number(data.recentPublishes) || 0\n          }, {\n            name: 'Success Rate',\n            value: data.successRate || '0%'\n          }].filter(item => {\n            if (typeof item.value === 'string' && item.value.includes('%')) return true;\n            return Number(item.value) > 0;\n          });\n        }\n        if (tableData.length === 0) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              textAlign: 'center',\n              color: '#666',\n              minHeight: '150px',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              size: 32,\n              style: {\n                opacity: 0.3,\n                color: color,\n                margin: '0 auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                marginTop: '8px'\n              },\n              children: widget.dataSource === 'publishes' && !tableDataField ? 'Please configure: Select a Data Field' : 'No data available. Data may not be loaded yet.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            style: {\n              width: '100%',\n              borderCollapse: 'collapse',\n              fontSize: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: '1px solid #e5e7eb'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'left',\n                    padding: '8px',\n                    fontWeight: '600',\n                    color: '#002329'\n                  },\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right',\n                    padding: '8px',\n                    fontWeight: '600',\n                    color: '#002329'\n                  },\n                  children: \"Count\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: tableData.slice(0, 5).map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: '1px solid #f3f4f6'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '8px',\n                    color: '#002329'\n                  },\n                  children: row.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    padding: '8px',\n                    color: color,\n                    fontWeight: '600'\n                  },\n                  children: row.value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this);\n      case 'metric':\n        let metricValue = widget.metricValue || '0';\n        let metricLabel = widget.metricLabel || 'Metric';\n\n        // If data source is dashboard, try to get real value\n        if (widget.dataSource === 'dashboard' && widget.metricField) {\n          metricValue = data[widget.metricField] || metricValue;\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            background: '#f9fafb',\n            borderRadius: '6px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '20px',\n              fontWeight: '600',\n              color: color\n            },\n            children: metricValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: metricLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            color: '#666'\n          },\n          children: \"Widget content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const widgetTypes = [{\n    type: 'summary',\n    label: 'Summary',\n    icon: BarChart3\n  }, {\n    type: 'chart',\n    label: 'Chart',\n    icon: TrendingUp\n  }, {\n    type: 'table',\n    label: 'Table',\n    icon: FileText\n  }, {\n    type: 'metric',\n    label: 'Metric',\n    icon: Users\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '24px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: '20px',\n          fontWeight: '600',\n          margin: 0,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Layout, {\n          size: 24,\n          color: \"#0176d3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), \"Dashboard Widgets\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        \"data-add-menu\": true,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddMenu(!showAddMenu),\n          style: {\n            padding: '8px 16px',\n            background: '#08979C',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '13px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            transition: 'background 0.2s'\n          },\n          onMouseEnter: e => e.target.style.background = '#067a7f',\n          onMouseLeave: e => e.target.style.background = '#08979C',\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), \"Add Widget\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), showAddMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-add-menu\": true,\n          style: {\n            position: 'absolute',\n            top: '100%',\n            right: 0,\n            marginTop: '8px',\n            background: '#fff',\n            border: '1px solid #e5e7eb',\n            borderRadius: '6px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n            padding: '8px',\n            minWidth: '200px',\n            zIndex: 1000\n          },\n          children: widgetTypes.map(wt => {\n            const Icon = wt.icon;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => addWidget(wt.type),\n              style: {\n                padding: '10px 12px',\n                cursor: 'pointer',\n                borderRadius: '4px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '10px',\n                fontSize: '13px',\n                transition: 'background 0.2s'\n              },\n              onMouseEnter: e => e.target.style.background = '#f9fafb',\n              onMouseLeave: e => e.target.style.background = 'transparent',\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                size: 16,\n                color: \"#0176d3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this), wt.label]\n            }, wt.type, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n        gap: '16px'\n      },\n      children: widgets.map(widget => {\n        // Ensure widget has required default fields\n        const widgetWithDefaults = {\n          dataSource: 'dashboard',\n          chartType: 'bar',\n          chartDataField: '',\n          metricField: 'totalPublishes',\n          color: '#08979C',\n          showLegend: true,\n          showGrid: true,\n          ...widget\n        };\n\n        // Generate component dynamically based on widget config\n        const widgetWithComponent = {\n          ...widgetWithDefaults,\n          component: getWidgetComponent(widgetWithDefaults)\n        };\n        return /*#__PURE__*/_jsxDEV(WidgetContainer, {\n          widget: widgetWithComponent,\n          onRemove: removeWidget,\n          onConfigure: handleConfigure\n        }, `${widget.id}-${widget.updatedAt || 0}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), widgets.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#666'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Layout, {\n        size: 32,\n        style: {\n          marginBottom: '12px',\n          opacity: 0.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No widgets. Add widgets to customize your dashboard.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(WidgetConfigModal, {\n      show: !!configuringWidget,\n      onClose: () => setConfiguringWidget(null),\n      widget: configuringWidget,\n      onSave: handleSaveConfig\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 411,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardWidgetsManager, \"Qo2SqWghuoX3iozoIMhgPDoZn4g=\");\n_c = DashboardWidgetsManager;\nexport default DashboardWidgetsManager;\nvar _c;\n$RefreshReg$(_c, \"DashboardWidgetsManager\");","map":{"version":3,"names":["React","useState","useEffect","Layout","Plus","BarChart3","TrendingUp","Users","FileText","BarChart","Bar","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","AreaChart","Area","WidgetContainer","WidgetConfigModal","jsxDEV","_jsxDEV","DashboardWidgetsManager","stats","analytics","_s","widgets","setWidgets","showAddMenu","setShowAddMenu","configuringWidget","setConfiguringWidget","loadWidgets","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","saved","localStorage","getItem","parsedWidgets","JSON","parse","widgetsWithDefaults","map","w","dataSource","type","chartType","chartDataField","metricField","color","showLegend","showGrid","defaultWidget","id","title","error","console","saveWidgets","newWidgets","widgetsToSave","component","widgetData","setItem","stringify","addWidget","widgetType","defaultConfig","Date","now","getWidgetTitle","handleConfigure","widget","handleSaveConfig","widgetId","config","updatedWidgets","updatedAt","removeWidget","filter","titles","summary","chart","table","metric","list","getWidgetData","_stats$find","_stats$find2","_stats$find3","_stats$find4","dashboardData","totalPublishes","find","s","label","value","todayPublishes","recentPublishes","successRate","process","env","NODE_ENV","log","publishesData","byObjectType","publishesByObjectType","byOperation","publishesByOperation","activityByDay","byUser","projectsByUser","byDate","projectsByDate","getWidgetComponent","data","summaryValue","summaryLabel","metricLabel","total","Object","values","reduce","sum","val","Number","toString","style","padding","background","borderRadius","children","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","chartData","chartConfig","entries","name","replace","l","toUpperCase","item","charAt","slice","date","toLocaleDateString","month","day","creates","updates","length","textAlign","minHeight","display","flexDirection","justifyContent","size","opacity","margin","marginTop","COLORS","width","height","cx","cy","labelLine","outerRadius","fill","dataKey","entry","index","strokeDasharray","stroke","tick","strokeWidth","fillOpacity","radius","tableData","tableDataField","includes","borderCollapse","borderBottom","row","metricValue","widgetTypes","icon","alignItems","marginBottom","gap","position","onClick","border","cursor","transition","onMouseEnter","e","onMouseLeave","top","right","boxShadow","minWidth","zIndex","wt","Icon","gridTemplateColumns","widgetWithDefaults","widgetWithComponent","onRemove","onConfigure","show","onClose","onSave","_c","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/DashboardWidgets/DashboardWidgetsManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Layout, Plus, BarChart3, TrendingUp, Users, FileText } from 'lucide-react';\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, AreaChart, Area } from 'recharts';\nimport WidgetContainer from './WidgetContainer';\nimport WidgetConfigModal from './WidgetConfigModal';\n\nconst DashboardWidgetsManager = ({ stats = [], analytics = {} }) => {\n  const [widgets, setWidgets] = useState([]);\n  const [showAddMenu, setShowAddMenu] = useState(false);\n  const [configuringWidget, setConfiguringWidget] = useState(null);\n\n  useEffect(() => {\n    loadWidgets();\n  }, []);\n\n  // Close add menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showAddMenu && !event.target.closest('[data-add-menu]')) {\n        setShowAddMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showAddMenu]);\n\n  const loadWidgets = () => {\n    try {\n      const saved = localStorage.getItem('dashboard_widgets');\n      if (saved) {\n        const parsedWidgets = JSON.parse(saved);\n        // Ensure all widgets have required default fields\n        const widgetsWithDefaults = parsedWidgets.map(w => ({\n          dataSource: w.type === 'chart' || w.type === 'table' ? 'publishes' : 'dashboard',\n          chartType: 'bar',\n          chartDataField: w.type === 'chart' || w.type === 'table' ? (w.chartDataField || 'byObjectType') : '',\n          metricField: 'totalPublishes',\n          color: '#08979C',\n          showLegend: true,\n          showGrid: true,\n          ...w\n        }));\n        setWidgets(widgetsWithDefaults);\n      } else {\n        // Default widgets\n        const defaultWidget = {\n          id: 'widget_1',\n          type: 'summary',\n          title: 'Total Publishes',\n          dataSource: 'dashboard',\n          metricField: 'totalPublishes',\n          color: '#08979C'\n        };\n        setWidgets([defaultWidget]);\n      }\n    } catch (error) {\n      console.error('Error loading widgets:', error);\n    }\n  };\n\n  const saveWidgets = (newWidgets) => {\n    try {\n      // Don't save React components to localStorage - they can't be serialized\n      const widgetsToSave = newWidgets.map(w => {\n        const { component, ...widgetData } = w;\n        return widgetData;\n      });\n      localStorage.setItem('dashboard_widgets', JSON.stringify(widgetsToSave));\n      // Update state with widgets (without components - they'll be generated on render)\n      setWidgets(widgetsToSave);\n    } catch (error) {\n      console.error('Error saving widgets:', error);\n    }\n  };\n\n  const addWidget = (widgetType) => {\n    // Set default configuration based on widget type\n    const defaultConfig = {\n      id: `widget_${Date.now()}`,\n      type: widgetType,\n      title: getWidgetTitle(widgetType),\n      dataSource: widgetType === 'chart' || widgetType === 'table' ? 'publishes' : 'dashboard',\n      chartType: 'bar',\n      chartDataField: widgetType === 'chart' || widgetType === 'table' ? 'byObjectType' : '',\n      metricField: 'totalPublishes',\n      color: '#08979C',\n      showLegend: true,\n      showGrid: true\n    };\n    const newWidgets = [...widgets, defaultConfig];\n    saveWidgets(newWidgets);\n    setShowAddMenu(false);\n    // Open configuration modal for new widget\n    setConfiguringWidget(defaultConfig);\n  };\n\n  const handleConfigure = (widget) => {\n    setConfiguringWidget(widget);\n  };\n\n  const handleSaveConfig = (widgetId, config) => {\n    const updatedWidgets = widgets.map(w => {\n      if (w.id === widgetId) {\n        return {\n          ...w,\n          ...config,\n          updatedAt: Date.now() // Add timestamp to force re-render\n        };\n      }\n      return w;\n    });\n    saveWidgets(updatedWidgets);\n    // Close modal after saving\n    setConfiguringWidget(null);\n  };\n\n  const removeWidget = (widgetId) => {\n    const newWidgets = widgets.filter(w => w.id !== widgetId);\n    saveWidgets(newWidgets);\n  };\n\n  const getWidgetTitle = (type) => {\n    const titles = {\n      summary: 'Summary',\n      chart: 'Chart',\n      table: 'Table',\n      metric: 'Metric',\n      list: 'List'\n    };\n    return titles[type] || 'Widget';\n  };\n\n  const getWidgetData = (widget) => {\n    const dataSource = widget.dataSource || 'dashboard';\n    \n    switch (dataSource) {\n      case 'dashboard':\n        // Return dashboard stats\n        const dashboardData = {\n          totalPublishes: stats.find(s => s.label === 'Total Publishes')?.value || '0',\n          todayPublishes: stats.find(s => s.label === 'Today')?.value || '0',\n          recentPublishes: stats.find(s => s.label === 'Last 7 Days')?.value || '0',\n          successRate: stats.find(s => s.label === 'Success Rate')?.value || '0%'\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Dashboard widget data:', { widget, dashboardData, stats });\n        }\n        return dashboardData;\n      case 'publishes':\n        // Return publishing activity data\n        const publishesData = {\n          byObjectType: analytics.publishesByObjectType || {},\n          byOperation: analytics.publishesByOperation || {},\n          activityByDay: analytics.activityByDay || []\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Publishes widget data:', { widget, publishesData, analytics });\n        }\n        return publishesData;\n      case 'projects':\n        // Return project data\n        return {\n          byUser: analytics.projectsByUser || {},\n          byDate: analytics.projectsByDate || {}\n        };\n      default:\n        return {};\n    }\n  };\n\n  const getWidgetComponent = (widget) => {\n    const type = widget.type || 'summary';\n    const color = widget.color || '#08979C';\n    const data = getWidgetData(widget);\n    \n    switch (type) {\n      case 'summary':\n        // Display a summary metric based on data source\n        let summaryValue = '0';\n        let summaryLabel = 'Total Items';\n        \n        if (widget.dataSource === 'dashboard') {\n          const metric = widget.metricField || 'totalPublishes';\n          summaryValue = data[metric] || '0';\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        } else if (widget.dataSource === 'publishes') {\n          const total = Object.values(data.byObjectType || {}).reduce((sum, val) => sum + (Number(val) || 0), 0);\n          summaryValue = total.toString();\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        }\n        \n        return (\n          <div style={{ padding: '12px', background: '#f9fafb', borderRadius: '6px' }}>\n            <div style={{ fontSize: '24px', fontWeight: '600', color: color }}>{summaryValue}</div>\n            <div style={{ fontSize: '12px', color: '#666' }}>{summaryLabel}</div>\n          </div>\n        );\n        \n      case 'chart':\n        const chartType = widget.chartType || 'bar';\n        let chartData = [];\n        let chartConfig = {};\n        \n        // Determine chartDataField if not set (use default based on dataSource)\n        const chartDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        \n        if (widget.dataSource === 'publishes') {\n          if (chartDataField === 'byObjectType') {\n            chartData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'byOperation') {\n            chartData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'activityByDay') {\n            chartData = (data.activityByDay || []).map(item => ({\n              date: new Date(item.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n              creates: item.creates || 0,\n              updates: item.updates || 0,\n              total: item.total || 0\n            }));\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard data source, show stats as chart\n          chartData = [\n            { name: 'Total', value: Number(data.totalPublishes) || 0 },\n            { name: 'Today', value: Number(data.todayPublishes) || 0 },\n            { name: 'Last 7 Days', value: Number(data.recentPublishes) || 0 }\n          ].filter(item => item.value > 0);\n        }\n        \n        if (chartData.length === 0) {\n          return (\n            <div style={{ padding: '12px', textAlign: 'center', color: '#666', minHeight: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n              <BarChart3 size={32} style={{ opacity: 0.3, color: color, margin: '0 auto' }} />\n              <div style={{ fontSize: '12px', marginTop: '8px' }}>\n                {widget.dataSource === 'publishes' && !chartDataField \n                  ? 'Please configure: Select a Data Field (By Object Type, By Operation, or Activity Over Time)'\n                  : 'No data available. Data may not be loaded yet.'}\n              </div>\n            </div>\n          );\n        }\n        \n        const COLORS = [color, '#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#ef4444'];\n        \n        if (chartType === 'pie') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <PieChart>\n                <Pie\n                  data={chartData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={false}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {chartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n              </PieChart>\n            </ResponsiveContainer>\n          );\n        } else if (chartType === 'line') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <LineChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Line type=\"monotone\" dataKey=\"value\" stroke={color} strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          );\n        } else if (chartType === 'area') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <AreaChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Area type=\"monotone\" dataKey=\"value\" stroke={color} fill={color} fillOpacity={0.3} />\n              </AreaChart>\n            </ResponsiveContainer>\n          );\n        } else {\n          // Bar chart (default)\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <BarChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Bar dataKey=\"value\" fill={color} radius={[8, 8, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          );\n        }\n        \n      case 'table':\n        let tableData = [];\n        const tableDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        \n        if (widget.dataSource === 'publishes') {\n          if (tableDataField === 'byObjectType') {\n            tableData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (tableDataField === 'byOperation') {\n            tableData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard, show stats as table\n          tableData = [\n            { name: 'Total Publishes', value: Number(data.totalPublishes) || 0 },\n            { name: 'Today', value: Number(data.todayPublishes) || 0 },\n            { name: 'Last 7 Days', value: Number(data.recentPublishes) || 0 },\n            { name: 'Success Rate', value: data.successRate || '0%' }\n          ].filter(item => {\n            if (typeof item.value === 'string' && item.value.includes('%')) return true;\n            return Number(item.value) > 0;\n          });\n        }\n        \n        if (tableData.length === 0) {\n          return (\n            <div style={{ padding: '12px', textAlign: 'center', color: '#666', minHeight: '150px', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n              <FileText size={32} style={{ opacity: 0.3, color: color, margin: '0 auto' }} />\n              <div style={{ fontSize: '12px', marginTop: '8px' }}>\n                {widget.dataSource === 'publishes' && !tableDataField \n                  ? 'Please configure: Select a Data Field'\n                  : 'No data available. Data may not be loaded yet.'}\n              </div>\n            </div>\n          );\n        }\n        \n        return (\n          <div style={{ padding: '8px' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n              <thead>\n                <tr style={{ borderBottom: '1px solid #e5e7eb' }}>\n                  <th style={{ textAlign: 'left', padding: '8px', fontWeight: '600', color: '#002329' }}>Name</th>\n                  <th style={{ textAlign: 'right', padding: '8px', fontWeight: '600', color: '#002329' }}>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData.slice(0, 5).map((row, index) => (\n                  <tr key={index} style={{ borderBottom: '1px solid #f3f4f6' }}>\n                    <td style={{ padding: '8px', color: '#002329' }}>{row.name}</td>\n                    <td style={{ textAlign: 'right', padding: '8px', color: color, fontWeight: '600' }}>{row.value}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        );\n        \n      case 'metric':\n        let metricValue = widget.metricValue || '0';\n        let metricLabel = widget.metricLabel || 'Metric';\n        \n        // If data source is dashboard, try to get real value\n        if (widget.dataSource === 'dashboard' && widget.metricField) {\n          metricValue = data[widget.metricField] || metricValue;\n        }\n        \n        return (\n          <div style={{ padding: '12px', background: '#f9fafb', borderRadius: '6px' }}>\n            <div style={{ fontSize: '20px', fontWeight: '600', color: color }}>\n              {metricValue}\n            </div>\n            <div style={{ fontSize: '12px', color: '#666' }}>\n              {metricLabel}\n            </div>\n          </div>\n        );\n        \n      default:\n        return <div style={{ padding: '12px', color: '#666' }}>Widget content</div>;\n    }\n  };\n\n  const widgetTypes = [\n    { type: 'summary', label: 'Summary', icon: BarChart3 },\n    { type: 'chart', label: 'Chart', icon: TrendingUp },\n    { type: 'table', label: 'Table', icon: FileText },\n    { type: 'metric', label: 'Metric', icon: Users }\n  ];\n\n  return (\n    <div style={{ padding: '24px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n        <h2 style={{ fontSize: '20px', fontWeight: '600', margin: 0, display: 'flex', alignItems: 'center', gap: '8px' }}>\n          <Layout size={24} color=\"#0176d3\" />\n          Dashboard Widgets\n        </h2>\n        <div style={{ position: 'relative' }} data-add-menu>\n          <button\n            onClick={() => setShowAddMenu(!showAddMenu)}\n            style={{\n              padding: '8px 16px',\n              background: '#08979C',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '13px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n              transition: 'background 0.2s'\n            }}\n            onMouseEnter={(e) => e.target.style.background = '#067a7f'}\n            onMouseLeave={(e) => e.target.style.background = '#08979C'}\n          >\n            <Plus size={16} />\n            Add Widget\n          </button>\n\n          {showAddMenu && (\n            <div\n              data-add-menu\n              style={{\n                position: 'absolute',\n                top: '100%',\n                right: 0,\n                marginTop: '8px',\n                background: '#fff',\n                border: '1px solid #e5e7eb',\n                borderRadius: '6px',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                padding: '8px',\n                minWidth: '200px',\n                zIndex: 1000\n              }}\n            >\n              {widgetTypes.map(wt => {\n                const Icon = wt.icon;\n                return (\n                  <div\n                    key={wt.type}\n                    onClick={() => addWidget(wt.type)}\n                    style={{\n                      padding: '10px 12px',\n                      cursor: 'pointer',\n                      borderRadius: '4px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '10px',\n                      fontSize: '13px',\n                      transition: 'background 0.2s'\n                    }}\n                    onMouseEnter={(e) => e.target.style.background = '#f9fafb'}\n                    onMouseLeave={(e) => e.target.style.background = 'transparent'}\n                  >\n                    <Icon size={16} color=\"#0176d3\" />\n                    {wt.label}\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '16px' }}>\n        {widgets.map(widget => {\n          // Ensure widget has required default fields\n          const widgetWithDefaults = {\n            dataSource: 'dashboard',\n            chartType: 'bar',\n            chartDataField: '',\n            metricField: 'totalPublishes',\n            color: '#08979C',\n            showLegend: true,\n            showGrid: true,\n            ...widget\n          };\n          \n          // Generate component dynamically based on widget config\n          const widgetWithComponent = {\n            ...widgetWithDefaults,\n            component: getWidgetComponent(widgetWithDefaults)\n          };\n          return (\n            <WidgetContainer\n              key={`${widget.id}-${widget.updatedAt || 0}`}\n              widget={widgetWithComponent}\n              onRemove={removeWidget}\n              onConfigure={handleConfigure}\n            />\n          );\n        })}\n      </div>\n\n      {widgets.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n          <Layout size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n          <p>No widgets. Add widgets to customize your dashboard.</p>\n        </div>\n      )}\n\n      {/* Configuration Modal */}\n      <WidgetConfigModal\n        show={!!configuringWidget}\n        onClose={() => setConfiguringWidget(null)}\n        widget={configuringWidget}\n        onSave={handleSaveConfig}\n      />\n    </div>\n  );\n};\n\nexport default DashboardWidgetsManager;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}