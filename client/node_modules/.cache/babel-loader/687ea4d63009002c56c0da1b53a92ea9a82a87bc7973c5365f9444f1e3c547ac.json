{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import useSidebarWidth from'../hooks/useSidebarWidth';import{Menu,LogOut,RefreshCw,Loader,X,Eye,Download,Search,TrendingUp,BarChart3,ChevronDown,ChevronUp,FileText,Upload}from'lucide-react';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,AreaChart,Area}from'recharts';import apiClient from'../config/api';import toast from'react-hot-toast';import*as XLSX from'xlsx';import WorkStreamFilter from'../components/WorkStreamManagement/WorkStreamFilter';import'../styles/WorkStreamReporting.css';import'../styles/Sidebar.css';import'../styles/GlobalHeader.css';import'../styles/GlobalTableHeaders.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WorkStreamReporting=_ref=>{let{hideHeader=false}=_ref;const{user,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const sidebarWidth=useSidebarWidth(sidebarOpen);const[loading,setLoading]=useState(true);const[workstreams,setWorkstreams]=useState([]);const[refreshing,setRefreshing]=useState(false);const[showProjectObjectivesModal,setShowProjectObjectivesModal]=useState(false);const[selectedDeliveryTool,setSelectedDeliveryTool]=useState(null);const[projectObjectives,setProjectObjectives]=useState([]);const[loadingProjectObjectives,setLoadingProjectObjectives]=useState(false);const[showContributorProjectsModal,setShowContributorProjectsModal]=useState(false);const[selectedProjectObjective,setSelectedProjectObjective]=useState(null);const[contributorProjects,setContributorProjects]=useState([]);const[loadingContributorProjects,setLoadingContributorProjects]=useState(false);const[loadingMoreContributorProjects,setLoadingMoreContributorProjects]=useState(false);const[contributorProjectsHasMore,setContributorProjectsHasMore]=useState(false);const[contributorProjectsCounts,setContributorProjectsCounts]=useState({});const[loadingContributorCounts,setLoadingContributorCounts]=useState({});// Track loading per delivery tool\nconst[downloadingContributorProjects,setDownloadingContributorProjects]=useState({});// Track downloading per delivery tool\nconst[selectedDeliveryTools,setSelectedDeliveryTools]=useState(new Set());// For selective refresh\nconst[dataStale,setDataStale]=useState(false);const[contributorProjectsModalCollapsed,setContributorProjectsModalCollapsed]=useState(false);// Track if data is stale\nconst[dataAge,setDataAge]=useState(0);// Track data age in seconds\nconst[projectObjectivesOffset,setProjectObjectivesOffset]=useState(0);// For infinite scroll\nconst[projectObjectivesHasMore,setProjectObjectivesHasMore]=useState(false);const[projectObjectivesTotal,setProjectObjectivesTotal]=useState(0);const[loadingMoreProjectObjectives,setLoadingMoreProjectObjectives]=useState(false);const infiniteScrollRef=useRef(null);// Ref for infinite scroll trigger\nconst[showAnalytics,setShowAnalytics]=useState(false);const[analyticsData,setAnalyticsData]=useState({});const[loadingAnalytics,setLoadingAnalytics]=useState(false);const[analyticsDays,setAnalyticsDays]=useState(30);const[projectObjectivesModalCollapsed,setProjectObjectivesModalCollapsed]=useState(false);const[selectedTools,setSelectedTools]=useState(new Set());// Track which tools are selected for display\nconst[showFilters,setShowFilters]=useState(false);const[filters,setFilters]=useState({projectStatus:[],projectObjectiveStatus:['Open','Paused','Hidden']// Default filter\n});// Frontend cache for workstreams summary\nconst[cachedWorkstreams,setCachedWorkstreams]=useState(null);const[cacheTimestamp,setCacheTimestamp]=useState(null);const CACHE_TTL=10*60*1000;// 10 minutes\nuseEffect(()=>{fetchWorkstreams();},[filters]);const fetchWorkstreams=async function(){let forceRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let selectedTools=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let retryCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;// Check frontend cache first (unless force refresh or filters changed)\nconst filtersChanged=JSON.stringify(filters)!==JSON.stringify(cachedWorkstreams===null||cachedWorkstreams===void 0?void 0:cachedWorkstreams.filters);if(!forceRefresh&&!filtersChanged&&cachedWorkstreams&&cacheTimestamp){const age=Date.now()-cacheTimestamp;if(age<CACHE_TTL){setWorkstreams(cachedWorkstreams.workstreams);setDataStale(age>CACHE_TTL*0.8);// Stale if > 80% of TTL\nsetDataAge(Math.round(age/1000));setLoading(false);return;}else{// Cache expired, but show stale data with warning\nsetWorkstreams(cachedWorkstreams.workstreams);setDataStale(true);setDataAge(Math.round(age/1000));toast('Showing cached data. Fetching fresh data in background...',{duration:3000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});}}setLoading(true);const MAX_RETRIES=2;try{// Build query parameters\nconst params=new URLSearchParams();if(forceRefresh)params.append('refresh','true');if(filters.projectStatus&&filters.projectStatus.length>0){filters.projectStatus.forEach(status=>params.append('projectStatus',status));}if(filters.projectObjectiveStatus&&filters.projectObjectiveStatus.length>0){filters.projectObjectiveStatus.forEach(status=>params.append('projectObjectiveStatus',status));}const queryString=params.toString();const url=\"/workstream-reporting/summary\".concat(queryString?'?'+queryString:'');const response=await apiClient.get(url,{timeout:300000// 5 minutes timeout to match server capabilities\n});if(response.data.success){const workstreamsData=response.data.workstreams||[];// If selective refresh, only update selected delivery tools\nif(selectedTools&&selectedTools.size>0){setWorkstreams(prev=>{const updated=[...prev];workstreamsData.forEach(newWs=>{if(selectedTools.has(newWs.deliveryToolName)){const index=updated.findIndex(ws=>ws.deliveryToolName===newWs.deliveryToolName);if(index>=0){updated[index]=newWs;}}});return updated;});}else{setWorkstreams(workstreamsData);}// Update cache with filters\nsetCachedWorkstreams({workstreams:workstreamsData,filters:_objectSpread({},filters)});setCacheTimestamp(Date.now());setDataStale(response.data.stale||false);setDataAge(response.data.age||0);}else{toast.error(response.data.error||'Failed to fetch workstreams');}}catch(error){var _error$response,_error$response$data,_error$message;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message||'Failed to fetch workstreams';// Retry logic for timeout errors\nif((error.code==='ECONNABORTED'||(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('timeout')||error.status===504)&&retryCount<MAX_RETRIES){// Wait a bit before retrying\nawait new Promise(resolve=>setTimeout(resolve,1000));return fetchWorkstreams(forceRefresh,selectedTools,retryCount+1);}// Graceful degradation: show cached data if available\nif(cachedWorkstreams){toast(\"\".concat(errorMessage,\". Showing cached data.\"),{duration:5000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});setWorkstreams(cachedWorkstreams);setDataStale(true);setDataAge(Math.round((Date.now()-cacheTimestamp)/1000));}else{var _error$message2;if(error.code==='ECONNABORTED'||(_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('timeout')||error.status===504){toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');}else{toast.error(errorMessage);}}}finally{setLoading(false);}};// Frontend cache for contributor counts\nconst[cachedContributorCounts,setCachedContributorCounts]=useState({});const[contributorCountTimestamps,setContributorCountTimestamps]=useState({});const CONTRIBUTOR_COUNT_CACHE_TTL=15*60*1000;// 15 minutes\nconst fetchContributorProjectsCount=async function(deliveryToolName){let forceRefresh=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;// Don't fetch for Unassigned\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams have no contributor projects.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Check frontend cache first (unless force refresh)\nif(!forceRefresh&&cachedContributorCounts[deliveryToolName]!==undefined){const timestamp=contributorCountTimestamps[deliveryToolName];if(timestamp){const age=Date.now()-timestamp;if(age<CONTRIBUTOR_COUNT_CACHE_TTL){setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:cachedContributorCounts[deliveryToolName]}));return;}}}// If already loaded and not expired, don't fetch again\nif(contributorProjectsCounts[deliveryToolName]!==undefined&&!forceRefresh){return;}// Set loading state for this specific delivery tool\nsetLoadingContributorCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:true}));try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);const refreshParam=forceRefresh?'?refresh=true':'';const response=await apiClient.get(\"/workstream-reporting/contributor-projects-count/\".concat(encodedDeliveryTool).concat(refreshParam),{timeout:300000// 5 minutes timeout to match download endpoint and allow for large datasets\n});if(response.data.success){const count=response.data.contributorProjectsCount||0;setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:count}));// Update frontend cache\nsetCachedContributorCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:count}));setContributorCountTimestamps(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:Date.now()}));}else{toast.error(response.data.error||'Failed to fetch contributor project count');// Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n}}catch(error){var _error$response2,_error$response2$data;const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message||'Failed to fetch contributor project count';// Graceful degradation: use cached count if available\nif(cachedContributorCounts[deliveryToolName]!==undefined){toast(\"\".concat(errorMessage,\". Using cached count.\"),{duration:3000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:cachedContributorCounts[deliveryToolName]}));}else{var _error$message3;// Show specific error message for timeout\nif(error.code==='ECONNABORTED'||(_error$message3=error.message)!==null&&_error$message3!==void 0&&_error$message3.includes('timeout')){toast.error('Request timed out. Please try again.');}else{toast.error(errorMessage);}}// Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n}finally{setLoadingContributorCounts(prev=>{const newState=_objectSpread({},prev);delete newState[deliveryToolName];return newState;});}};const handleRefresh=async function(){let selectedOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(e){e.preventDefault();e.stopPropagation();}setRefreshing(true);try{if(selectedOnly&&selectedDeliveryTools.size>0){// Selective refresh: only refresh selected delivery tools\nawait fetchWorkstreams(true,selectedDeliveryTools);// Clear selection after refresh\nsetSelectedDeliveryTools(new Set());toast.success(\"Refreshed \".concat(selectedDeliveryTools.size,\" delivery tool(s)\"));}else{// Full refresh\nawait fetchWorkstreams(true);// Clear contributor project counts on full refresh\nsetContributorProjectsCounts({});setCachedContributorCounts({});setContributorCountTimestamps({});toast.success('All data refreshed');}}catch(error){var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||error.message||'Failed to refresh workstreams');}finally{setRefreshing(false);}};const handleSelectDeliveryTool=(deliveryToolName,isSelected)=>{setSelectedDeliveryTools(prev=>{const newSet=new Set(prev);if(isSelected){newSet.add(deliveryToolName);}else{newSet.delete(deliveryToolName);}return newSet;});};const handleDeliveryToolClick=async deliveryToolName=>{// Don't allow clicking on \"Unassigned\" category\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}setSelectedDeliveryTool(deliveryToolName);setShowProjectObjectivesModal(true);setProjectObjectives([]);setProjectObjectivesOffset(0);setProjectObjectivesHasMore(false);setProjectObjectivesTotal(0);// Fetch first page (loading state handled in fetchProjectObjectives)\nawait fetchProjectObjectives(deliveryToolName,0);};const fetchProjectObjectives=async function(deliveryToolName){let offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let append=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!append){setLoadingProjectObjectives(true);}try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);const response=await apiClient.get(\"/workstream-reporting/project-objectives/\".concat(encodedDeliveryTool,\"?limit=50&offset=\").concat(offset));if(response.data.success){const newObjectives=response.data.projectObjectives||[];if(append){setProjectObjectives(prev=>[...prev,...newObjectives]);}else{setProjectObjectives(newObjectives);}setProjectObjectivesHasMore(response.data.hasMore||false);setProjectObjectivesTotal(response.data.total||0);setProjectObjectivesOffset(offset+newObjectives.length);}else{toast.error(response.data.error||'Failed to fetch project objectives');}}catch(error){var _error$response4,_error$response4$data;const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||error.message||'Failed to fetch project objectives';toast.error(errorMessage);}finally{setLoadingProjectObjectives(false);setLoadingMoreProjectObjectives(false);}};const loadMoreProjectObjectives=useCallback(async()=>{if(!selectedDeliveryTool||!projectObjectivesHasMore||loadingMoreProjectObjectives){return;}setLoadingMoreProjectObjectives(true);await fetchProjectObjectives(selectedDeliveryTool,projectObjectivesOffset,true);},[selectedDeliveryTool,projectObjectivesHasMore,loadingMoreProjectObjectives,projectObjectivesOffset]);// Set up IntersectionObserver for infinite scroll\nuseEffect(()=>{const element=infiniteScrollRef.current;if(!element||!projectObjectivesHasMore||loadingMoreProjectObjectives){return;}const observer=new IntersectionObserver(entries=>{if(entries[0].isIntersecting){loadMoreProjectObjectives();}},{threshold:0.1});observer.observe(element);// Cleanup on unmount\nreturn()=>{observer.disconnect();};},[projectObjectivesHasMore,loadingMoreProjectObjectives,loadMoreProjectObjectives]);const handleViewContributorProjects=async function(projectObjective){let append=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!append){setSelectedProjectObjective(projectObjective);setShowContributorProjectsModal(true);setLoadingContributorProjects(true);setContributorProjects([]);setContributorProjectsHasMore(false);}else{setLoadingMoreContributorProjects(true);}try{const offset=append?contributorProjects.length:0;const limit=1000;const response=await apiClient.get(\"/workstream-reporting/contributor-projects/\".concat(projectObjective.id),{params:{offset,limit}});if(response.data.success){if(append){setContributorProjects(prev=>[...prev,...(response.data.contributorProjects||[])]);}else{setContributorProjects(response.data.contributorProjects||[]);}setContributorProjectsHasMore(response.data.hasMore||false);}else{toast.error(response.data.error||'Failed to fetch contributor projects');}}catch(error){var _error$response5,_error$response5$data;const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||error.message||'Failed to fetch contributor projects';toast.error(errorMessage);}finally{if(append){setLoadingMoreContributorProjects(false);}else{setLoadingContributorProjects(false);}}};const handleLoadMoreContributorProjects=()=>{if(selectedProjectObjective&&contributorProjectsHasMore&&!loadingMoreContributorProjects){handleViewContributorProjects(selectedProjectObjective,true);}};// Download workstreams (all or by tool)\nconst handleDownloadWorkstreams=async function(){let deliveryToolName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;try{setDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName||'all']:true}));// Include filter parameters (same as summary endpoint)\nconst params=_objectSpread(_objectSpread(_objectSpread({},deliveryToolName?{deliveryToolName}:{}),filters.projectStatus&&filters.projectStatus.length>0?{projectStatus:filters.projectStatus}:{}),filters.projectObjectiveStatus&&filters.projectObjectiveStatus.length>0?{projectObjectiveStatus:filters.projectObjectiveStatus}:{});const response=await apiClient.get('/workstream-reporting/download-workstreams',{params});if(response.data.success&&response.data.workstreams){const workstreamsData=response.data.workstreams;// Define column order (priority fields first)\nconst priorityColumns=['Delivery Tool Name','Name','Functionality','Owner Name','Project Objective Name'];// Get all columns from the data\nconst allColumns=new Set();workstreamsData.forEach(row=>{Object.keys(row).forEach(key=>allColumns.add(key));});// Order columns: priority first, then others alphabetically\nconst orderedColumns=[...priorityColumns.filter(col=>allColumns.has(col)),...Array.from(allColumns).filter(col=>!priorityColumns.includes(col)).sort()];// Reorder data to match column order\nconst orderedData=workstreamsData.map(row=>{const orderedRow={};orderedColumns.forEach(col=>{orderedRow[col]=row[col]!==undefined?row[col]:null;});return orderedRow;});// Create Excel file with ordered columns\nconst ws=XLSX.utils.json_to_sheet(orderedData,{header:orderedColumns});const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Workstreams');const filename=deliveryToolName?\"Workstreams_\".concat(deliveryToolName.replace(/[^a-zA-Z0-9]/g,'_'),\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\"):\"All_Workstreams_\".concat(new Date().toISOString().split('T')[0],\".xlsx\");XLSX.writeFile(wb,filename);toast.success(\"Downloaded \".concat(workstreamsData.length,\" workstream(s)\"));}else{toast.error(response.data.error||'Failed to download workstreams');}}catch(error){var _error$response6,_error$response6$data;console.error('Error downloading workstreams:',error);toast.error(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||error.message||'Failed to download workstreams');}finally{setDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName||'all']:false}));}};// Download contributor projects for a specific delivery tool\nconst handleDownloadContributorProjects=async deliveryToolName=>{// Don't download for Unassigned\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams have no contributor projects.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Check if count is available\nconst expectedCount=contributorProjectsCounts[deliveryToolName];if(expectedCount===undefined){toast.error('Please get the count first before downloading.');return;}if(expectedCount===0){toast('No contributor projects to download.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Set downloading state\nsetDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:true}));try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);// Include filter parameters (same as summary endpoint)\nconst params=_objectSpread(_objectSpread({},filters.projectStatus&&filters.projectStatus.length>0?{projectStatus:filters.projectStatus}:{}),filters.projectObjectiveStatus&&filters.projectObjectiveStatus.length>0?{projectObjectiveStatus:filters.projectObjectiveStatus}:{});const response=await apiClient.get(\"/workstream-reporting/contributor-projects-by-tool/\".concat(encodedDeliveryTool),{params,timeout:300000// 5 minutes timeout for large datasets\n});if(response.data.success){const contributorProjects=response.data.contributorProjects||[];const actualCount=contributorProjects.length;// Verify count matches\nif(actualCount!==expectedCount){toast(\"Downloaded \".concat(actualCount,\" records, but table shows \").concat(expectedCount,\". Some records may be missing due to limits.\"),{duration:5000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});}if(contributorProjects.length===0){toast('No contributor projects found to download.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Prepare data for export - only Contributor Project, Project Objective, Status\nconst headers=[{key:'name',label:'Contributor Project'},{key:'projectObjectiveName',label:'Project Objective'},{key:'status',label:'Status'}];// Sanitize delivery tool name for filename\nconst sanitizedDeliveryTool=deliveryToolName.replace(/[^a-z0-9]/gi,'_').toLowerCase();const filename=\"Contributor_Projects_\".concat(sanitizedDeliveryTool,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(contributorProjects,headers,filename);toast.success(\"Downloaded \".concat(actualCount,\" contributor project\").concat(actualCount!==1?'s':'',\" for \").concat(deliveryToolName));}else{toast.error(response.data.error||'Failed to download contributor projects');}}catch(error){var _error$response7,_error$response7$data;const errorMessage=((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||error.message||'Failed to download contributor projects';toast.error(errorMessage);}finally{setDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:false}));}};// Export functions\nconst exportToExcel=(data,headers,filename)=>{try{// Prepare data for Excel - header row with labels\nconst headerLabels=headers.map(h=>h.label);const worksheetData=[headerLabels,// Header row with labels\n...data.map(row=>headers.map(header=>{const value=row[header.key];// Handle null/undefined values - show empty string for Excel\n// For contributor project count, if not retrieved (undefined), show empty string\nif(value===null||value===undefined){return'';}// For contributor project count that is 0, show 0 (not empty)\nreturn value;}))];// Create workbook and worksheet\nconst worksheet=XLSX.utils.aoa_to_sheet(worksheetData);const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,'Sheet1');// Set column widths (auto-size based on content)\nconst columnWidths=headers.map(()=>({wch:25}));worksheet['!cols']=columnWidths;// Generate Excel file and download\nXLSX.writeFile(workbook,filename);toast.success('Excel file downloaded successfully');}catch(error){toast.error('Failed to export to Excel');}};const handleExportProjectObjectives=()=>{if(projectObjectives.length===0){toast.error('No data to export');return;}const headers=[{key:'name',label:'Project Objective'},{key:'projectName',label:'Project'},{key:'workstreamName',label:'Associated WorkStream'},{key:'deliveryToolName',label:'Delivery Tool Name'}];// Sanitize filename - remove invalid characters\nconst sanitizedToolName=(selectedDeliveryTool||'Unknown').replace(/[^a-zA-Z0-9_-]/g,'_');const filename=\"Project_Objectives_\".concat(sanitizedToolName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(projectObjectives,headers,filename);};const handleExportContributorProjects=()=>{if(contributorProjects.length===0){toast.error('No data to export');return;}const headers=[{key:'name',label:'Contributor Project Name'},{key:'projectName',label:'Project'},{key:'status',label:'Status'}];// Sanitize filename - remove invalid characters\nconst sanitizedObjectiveName=((selectedProjectObjective===null||selectedProjectObjective===void 0?void 0:selectedProjectObjective.name)||'Unknown').replace(/[^a-zA-Z0-9_-]/g,'_');const filename=\"Contributor_Projects_\".concat(sanitizedObjectiveName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(contributorProjects,headers,filename);};const fetchAnalytics=async()=>{setLoadingAnalytics(true);try{const response=await apiClient.get(\"/workstream-reporting/analytics?days=\".concat(analyticsDays));if(response.data.success){const trends=response.data.trends||{};setAnalyticsData(trends);// Initialize or update selected tools\nconst availableTools=Object.keys(trends);if(availableTools.length>0){if(selectedTools.size===0){// First time: select all tools\nsetSelectedTools(new Set(availableTools));}else{// Update selection: keep existing selections if tools still exist, add new ones\nconst newSelection=new Set();availableTools.forEach(tool=>{if(selectedTools.has(tool)){newSelection.add(tool);}});// If no tools were kept, select all (user might have deselected everything)\nif(newSelection.size===0){setSelectedTools(new Set(availableTools));}else{setSelectedTools(newSelection);}}}}else{toast.error(response.data.error||'Failed to fetch analytics');}}catch(error){var _error$response8,_error$response8$data;toast.error(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.error)||error.message||'Failed to fetch analytics');}finally{setLoadingAnalytics(false);}};useEffect(()=>{if(showAnalytics){fetchAnalytics();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[showAnalytics,analyticsDays]);// Format date for display\nconst formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{month:'short',day:'numeric'});};// Generate unique colors for all tools\nconst generateUniqueColors=count=>{const baseColors=['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#06b6d4','#ec4899','#84cc16','#f97316','#6366f1','#14b8a6','#eab308','#a855f7','#f43f5e','#22c55e','#0ea5e9','#d946ef','#64748b','#fb923c','#34d399'];if(count<=baseColors.length){return baseColors.slice(0,count);}// Generate additional colors if needed\nconst colors=[...baseColors];for(let i=baseColors.length;i<count;i++){const hue=i*137.508%360;// Golden angle approximation for color distribution\nconst saturation=60+i%3*10;// Vary saturation\nconst lightness=45+i%2*10;// Vary lightness\ncolors.push(\"hsl(\".concat(hue,\", \").concat(saturation,\"%, \").concat(lightness,\"%)\"));}return colors;};// Prepare chart data from analytics (include all tools, but style based on selection)\nconst prepareChartData=()=>{const allDates=new Set();// Process all tools to get all dates\nObject.values(analyticsData).forEach(trend=>{trend.forEach(point=>allDates.add(point.date));});const sortedDates=Array.from(allDates).sort();const chartData=sortedDates.map(date=>{const dataPoint={date:formatDate(date)};// Include all tools in data\nObject.keys(analyticsData).forEach(toolName=>{const trend=analyticsData[toolName];const point=trend.find(p=>p.date===date);dataPoint[toolName]=point?point.count:0;});return dataPoint;});return chartData;};// Handle tool selection toggle\nconst handleToolToggle=toolName=>{setSelectedTools(prev=>{const newSet=new Set(prev);if(newSet.has(toolName)){newSet.delete(toolName);}else{newSet.add(toolName);}return newSet;});};// Select all tools\nconst handleSelectAllTools=()=>{setSelectedTools(new Set(Object.keys(analyticsData)));};// Deselect all tools\nconst handleDeselectAllTools=()=>{setSelectedTools(new Set());};const handleExportToExcel=()=>{if(workstreams.length===0){toast.error('No data to export');return;}try{// Prepare data for export - include contributor projects count\nconst exportData=workstreams.map(ws=>({'Delivery Tool Name':ws.deliveryToolName||'N/A','No. of Project Objectives':ws.projectObjectivesCount||0,'No. of Projects':ws.projectsCount||0,'No. of Workstreams':ws.workstreamCount||0,'Total Contributor Projects':contributorProjectsCounts[ws.deliveryToolName]!==undefined?contributorProjectsCounts[ws.deliveryToolName]:'N/A'}));// Create workbook and worksheet\nconst ws=XLSX.utils.json_to_sheet(exportData);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Workstream Summary');// Generate filename with timestamp\nconst filename=\"Workstream_Summary_\".concat(new Date().toISOString().split('T')[0],\".xlsx\");// Write and download\nXLSX.writeFile(wb,filename);toast.success(\"Exported \".concat(exportData.length,\" records to Excel\"));}catch(error){console.error('Error exporting to Excel:',error);toast.error('Failed to export to Excel');}};const content=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workstream-reporting-content\",children:[dataStale&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 16px',backgroundColor:'#fff3cd',border:'1px solid #ffc107',borderRadius:'4px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px',color:'#856404'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing cached data (age: \",dataAge,\"s). Data may be outdated.\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchWorkstreams(true),style:{marginLeft:'8px',color:'#856404',textDecoration:'underline',background:'none',border:'none',cursor:'pointer'},children:\"Refresh now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-header\",style:{marginTop:'8px',paddingTop:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:'0',marginBottom:'8px'},children:\"WorkStream Summary\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(WorkStreamFilter,{showFilters:showFilters,onToggleFilters:()=>setShowFilters(!showFilters),onApplyFilters:newFilters=>{setFilters(newFilters);setShowFilters(false);},onClearFilters:()=>{setFilters({projectStatus:[],projectObjectiveStatus:['Open','Paused','Hidden']// Reset to default\n});},filters:filters}),selectedDeliveryTools.size>0&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:e=>handleRefresh(true,e),disabled:refreshing,style:{marginRight:'8px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:refreshing?'spinning':''}),\"Refresh Selected (\",selectedDeliveryTools.size,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:()=>setShowAnalytics(!showAnalytics),style:{display:'flex',alignItems:'center',gap:'6px'},title:\"View Analytics\",children:[/*#__PURE__*/_jsx(TrendingUp,{size:16}),showAnalytics?'Hide':'Show',\" Analytics\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:e=>handleRefresh(false,e),disabled:refreshing,style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:refreshing?'spinning':''}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportToExcel,disabled:workstreams.length===0,style:{display:'flex',alignItems:'center',gap:'6px'},title:\"Export table data to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Export to Excel\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:()=>handleDownloadWorkstreams(null),disabled:loading,style:{display:'flex',alignItems:'center',gap:'6px'},title:\"Download all workstreams with all fields\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Download All Workstreams\"]})]})]}),loading&&workstreams.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading workstreams...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"summary-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"summary-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'40px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeliveryTools.size===workstreams.length&&workstreams.length>0,onChange:e=>{if(e.target.checked){setSelectedDeliveryTools(new Set(workstreams.map(ws=>ws.deliveryToolName)));}else{setSelectedDeliveryTools(new Set());}}})}),/*#__PURE__*/_jsx(\"th\",{children:\"Delivery Tool Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"No. of Project Objectives\"}),/*#__PURE__*/_jsx(\"th\",{children:\"No. of Projects\"}),/*#__PURE__*/_jsx(\"th\",{children:\"No. of Workstreams\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Contributor Projects\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:workstreams.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"no-data\",children:loading?'Loading workstreams...':'No delivery tools found'})}):workstreams.map((ws,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeliveryTools.has(ws.deliveryToolName),onChange:e=>handleSelectDeliveryTool(ws.deliveryToolName,e.target.checked)})}),/*#__PURE__*/_jsx(\"td\",{children:ws.deliveryToolName==='Unassigned'?/*#__PURE__*/_jsx(\"span\",{style:{color:'#706e6b',fontStyle:'italic'},children:ws.deliveryToolName}):/*#__PURE__*/_jsx(\"span\",{className:\"delivery-tool-link\",onClick:()=>handleDeliveryToolClick(ws.deliveryToolName),style:{color:'#0176d3',cursor:'pointer',textDecoration:'underline'},children:ws.deliveryToolName||'--'})}),/*#__PURE__*/_jsx(\"td\",{children:ws.projectObjectivesCount||0}),/*#__PURE__*/_jsx(\"td\",{children:ws.projectsCount||0}),/*#__PURE__*/_jsx(\"td\",{children:ws.workstreamCount||0}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:loadingContributorCounts[ws.deliveryToolName]?/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:14,style:{display:'inline-block'}}):contributorProjectsCounts[ws.deliveryToolName]!==undefined?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:contributorProjectsCounts[ws.deliveryToolName]}),contributorProjectsCounts[ws.deliveryToolName]>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadContributorProjects(ws.deliveryToolName),disabled:downloadingContributorProjects[ws.deliveryToolName],style:{background:'none',border:'none',color:downloadingContributorProjects[ws.deliveryToolName]?'#706e6b':'#0176d3',cursor:downloadingContributorProjects[ws.deliveryToolName]?'not-allowed':'pointer',display:'inline-flex',alignItems:'center',padding:'2px 4px',fontSize:'12px',opacity:downloadingContributorProjects[ws.deliveryToolName]?0.6:1},title:downloadingContributorProjects[ws.deliveryToolName]?'Downloading...':'Download Contributor Projects List',children:downloadingContributorProjects[ws.deliveryToolName]?/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:14}):/*#__PURE__*/_jsx(Download,{size:14})})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchContributorProjectsCount(ws.deliveryToolName),style:{background:'none',border:'none',color:'#0176d3',cursor:'pointer',display:'inline-flex',alignItems:'center',gap:'4px',padding:'4px 8px',fontSize:'13px'},title:\"Get Contributor Project Count\",children:[/*#__PURE__*/_jsx(Search,{size:14}),\"Get Count\"]})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadWorkstreams(ws.deliveryToolName),disabled:downloadingContributorProjects[ws.deliveryToolName],style:{background:'none',border:'none',color:downloadingContributorProjects[ws.deliveryToolName]?'#706e6b':'#0176d3',cursor:downloadingContributorProjects[ws.deliveryToolName]?'not-allowed':'pointer',display:'inline-flex',alignItems:'center',gap:'4px',padding:'4px 8px',fontSize:'13px',opacity:downloadingContributorProjects[ws.deliveryToolName]?0.6:1},title:downloadingContributorProjects[ws.deliveryToolName]?'Downloading...':'Download Workstreams for this tool',children:downloadingContributorProjects[ws.deliveryToolName]?/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:14}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Download,{size:14}),\"Download Workstreams\"]})})})]},ws.deliveryToolName||index))})]})}),showAnalytics&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'24px',padding:'20px',backgroundColor:'#fff',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'18px',fontWeight:'600'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,style:{display:'inline-block',marginRight:'8px',verticalAlign:'middle'}}),\"Trend Analysis - Project Objectives by Delivery Tool\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px'},children:\"Days:\"}),/*#__PURE__*/_jsxs(\"select\",{value:analyticsDays,onChange:e=>setAnalyticsDays(parseInt(e.target.value)),style:{padding:'6px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:7,children:\"7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:14,children:\"14 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"60 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:90,children:\"90 Days\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:fetchAnalytics,disabled:loadingAnalytics,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:14,className:loadingAnalytics?'spinning':''}),\"Refresh\"]})]})]}),loadingAnalytics?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'calc(100vh - 200px)',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading analytics...\"})]}):Object.keys(analyticsData).length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666'},children:/*#__PURE__*/_jsx(\"p\",{children:\"No analytics data available. Data will be collected as snapshots are created.\"})}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'400px'},children:/*#__PURE__*/_jsx(ResponsiveContainer,{children:/*#__PURE__*/_jsxs(AreaChart,{data:prepareChartData(),margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(\"defs\",{children:Object.keys(analyticsData).map((toolName,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];const isSelected=selectedTools.has(toolName);return/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"color\".concat(toolName),x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:color,stopOpacity:isSelected?0.8:0.2}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:color,stopOpacity:isSelected?0.1:0.05})]},toolName);})}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",angle:-45,textAnchor:\"end\",height:80,style:{fontSize:'12px'}}),/*#__PURE__*/_jsx(YAxis,{style:{fontSize:'12px'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'#fff',border:'1px solid #ddd',borderRadius:'4px'},labelStyle:{fontWeight:'bold',marginBottom:'4px'},content:_ref2=>{let{active,payload,label}=_ref2;if(!active||!payload||payload.length===0)return null;// Filter to show only selected tools\nconst selectedPayload=payload.filter(item=>selectedTools.has(item.dataKey));if(selectedPayload.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'12px',color:'#666'},children:\"No selected tools\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',backgroundColor:'#fff',border:'1px solid #ddd',borderRadius:'4px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontWeight:'bold',fontSize:'13px',color:'#333'},children:label}),selectedPayload.map((entry,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const toolIndex=Object.keys(analyticsData).indexOf(entry.dataKey);const color=colors[toolIndex];return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'4px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'12px',height:'12px',backgroundColor:color,borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666',minWidth:'150px'},children:[entry.dataKey,\":\"]}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#333'},children:entry.value})]},index);})]});}}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},content:_ref3=>{let{payload}=_ref3;if(!payload||payload.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'12px',padding:'10px',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',marginRight:'16px',padding:'4px 8px',border:'1px solid #e0e0e0',borderRadius:'4px',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAllTools,style:{padding:'4px 8px',fontSize:'12px',border:'1px solid #ddd',borderRadius:'4px',background:'#fff',cursor:'pointer',marginRight:'4px'},children:\"Select All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeselectAllTools,style:{padding:'4px 8px',fontSize:'12px',border:'1px solid #ddd',borderRadius:'4px',background:'#fff',cursor:'pointer'},children:\"Deselect All\"})]}),Object.keys(analyticsData).map((toolName,index)=>{const isSelected=selectedTools.has(toolName);const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleToolToggle(toolName),style:{display:'flex',alignItems:'center',gap:'6px',cursor:'pointer',padding:'6px 10px',borderRadius:'4px',backgroundColor:isSelected?'#f0f7ff':'#f9f9f9',border:\"1px solid \".concat(isSelected?color:'#e0e0e0'),opacity:isSelected?1:0.6,transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=isSelected?'#e0f0ff':'#f0f0f0';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=isSelected?'#f0f7ff':'#f9f9f9';},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:()=>handleToolToggle(toolName),onClick:e=>e.stopPropagation(),style:{cursor:'pointer',marginRight:'4px',width:'16px',height:'16px'}}),/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'14px',height:'14px',backgroundColor:color,borderRadius:'2px',marginRight:'4px',flexShrink:0}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px',fontWeight:isSelected?'500':'400'},children:toolName})]},toolName);})]});}}),Object.keys(analyticsData).map((toolName,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];const isSelected=selectedTools.has(toolName);return/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:toolName,stroke:color,fill:\"url(#color\".concat(toolName,\")\"),strokeWidth:isSelected?2:1,strokeDasharray:isSelected?'0':'5 5',opacity:isSelected?1:0.4,name:toolName},toolName);})]})})})]})]}),showProjectObjectivesModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowProjectObjectivesModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{padding:'12px 16px',cursor:'pointer'},onClick:()=>setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',flex:1,minWidth:0},children:[projectObjectivesModalCollapsed?/*#__PURE__*/_jsx(ChevronDown,{size:16,style:{flexShrink:0}}):/*#__PURE__*/_jsx(ChevronUp,{size:16,style:{flexShrink:0}}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'16px',fontWeight:600,color:'#16325c',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',flex:1,minWidth:0},children:selectedDeliveryTool})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',flexShrink:0},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportProjectObjectives,disabled:projectObjectives.length===0,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px',fontSize:'13px'},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:14}),\"Export\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowProjectObjectivesModal(false),children:/*#__PURE__*/_jsx(X,{size:20})})]})]}),!projectObjectivesModalCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:loadingProjectObjectives&&projectObjectives.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'400px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading project objectives...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"project-objectives-table-container\",style:{maxHeight:'60vh',overflowY:'auto',overflowX:'auto',width:'100%'},children:[/*#__PURE__*/_jsxs(\"table\",{className:\"project-objectives-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Project Objective\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Associated WorkStream\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delivery Tool Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projectObjectives.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no-data\",children:\"No project objectives found for this delivery tool\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[projectObjectives.map((po,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:po.name||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.projectName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.workstreamName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.deliveryToolName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-link\",onClick:()=>handleViewContributorProjects(po),children:[/*#__PURE__*/_jsx(Eye,{size:14}),\"View Contributor Projects\"]})})]},po.id||index)),projectObjectivesHasMore&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",style:{textAlign:'center',padding:'16px'},children:loadingMoreProjectObjectives?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading more...\"})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:loadMoreProjectObjectives,style:{padding:'8px 16px'},children:[\"Load More (\",projectObjectivesTotal-projectObjectives.length,\" remaining)\"]})})})]})})]}),projectObjectivesHasMore&&!loadingMoreProjectObjectives&&/*#__PURE__*/_jsx(\"div\",{ref:infiniteScrollRef,style:{height:'20px',width:'100%'}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowProjectObjectivesModal(false),children:\"Close\"})})]})}),showContributorProjectsModal&&selectedProjectObjective&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowContributorProjectsModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{padding:'12px 16px',cursor:'pointer'},onClick:()=>setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',flex:1,minWidth:0},children:[contributorProjectsModalCollapsed?/*#__PURE__*/_jsx(ChevronDown,{size:16,style:{flexShrink:0}}):/*#__PURE__*/_jsx(ChevronUp,{size:16,style:{flexShrink:0}}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'16px',fontWeight:600,color:'#16325c',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',flex:1,minWidth:0},children:selectedProjectObjective.name})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',flexShrink:0},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportContributorProjects,disabled:contributorProjects.length===0,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px',fontSize:'13px'},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:14}),\"Export\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowContributorProjectsModal(false),children:/*#__PURE__*/_jsx(X,{size:20})})]})]}),!contributorProjectsModalCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:loadingContributorProjects?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'400px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading contributor projects...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"project-objectives-table-container contributor-projects-table\",style:{overflowX:'visible',width:'100%',maxWidth:'100%'},children:[/*#__PURE__*/_jsxs(\"table\",{className:\"project-objectives-table contributor-projects-table\",style:{width:'100%',tableLayout:'fixed'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Contributor Project Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contributorProjects.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"no-data\",children:\"No contributor projects found for this project objective\"})}):contributorProjects.map((cp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cp.name||'--'}),/*#__PURE__*/_jsx(\"td\",{children:cp.projectName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:cp.status||'--'})]},cp.id||index))})]}),contributorProjectsHasMore&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'16px',borderTop:'1px solid #e2e8f0'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMoreContributorProjects,disabled:loadingMoreContributorProjects,style:{padding:'10px 20px',backgroundColor:loadingMoreContributorProjects?'#cbd5e1':'#08979C',color:'#ffffff',border:'none',borderRadius:'6px',cursor:loadingMoreContributorProjects?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500',display:'inline-flex',alignItems:'center',gap:'8px'},children:loadingMoreContributorProjects?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:16}),\"Loading...\"]}):'Show More'}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',fontSize:'12px',color:'#64748b'},children:[\"Showing \",contributorProjects.length,\" entries. Click to load more.\"]})]}),contributorProjects.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',fontSize:'13px',color:'#706e6b'},children:[\"Total: \",contributorProjects.length,\" contributor project\",contributorProjects.length!==1?'s':'',!contributorProjectsHasMore&&contributorProjects.length>=1000&&' (all entries loaded)']})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowContributorProjectsModal(false),children:\"Close\"})})]})})]});if(hideHeader){return/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting-content-wrapper\",children:content});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting\",style:{marginLeft:\"\".concat(sidebarWidth,\"px\"),width:\"calc(100% - \".concat(sidebarWidth,\"px)\"),transition:'margin-left 0.2s ease, width 0.2s ease',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"workstream-reporting-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"WorkStream Reporting\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"View workstream summary and associated project objectives\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-user-profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})]})}),content]})})]});};export default WorkStreamReporting;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useAuth","Sidebar","useSidebarWidth","Menu","LogOut","RefreshCw","Loader","X","Eye","Download","Search","TrendingUp","BarChart3","ChevronDown","ChevronUp","FileText","Upload","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","AreaChart","Area","apiClient","toast","XLSX","WorkStreamFilter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WorkStreamReporting","_ref","hideHeader","user","logout","sidebarOpen","setSidebarOpen","sidebarWidth","loading","setLoading","workstreams","setWorkstreams","refreshing","setRefreshing","showProjectObjectivesModal","setShowProjectObjectivesModal","selectedDeliveryTool","setSelectedDeliveryTool","projectObjectives","setProjectObjectives","loadingProjectObjectives","setLoadingProjectObjectives","showContributorProjectsModal","setShowContributorProjectsModal","selectedProjectObjective","setSelectedProjectObjective","contributorProjects","setContributorProjects","loadingContributorProjects","setLoadingContributorProjects","loadingMoreContributorProjects","setLoadingMoreContributorProjects","contributorProjectsHasMore","setContributorProjectsHasMore","contributorProjectsCounts","setContributorProjectsCounts","loadingContributorCounts","setLoadingContributorCounts","downloadingContributorProjects","setDownloadingContributorProjects","selectedDeliveryTools","setSelectedDeliveryTools","Set","dataStale","setDataStale","contributorProjectsModalCollapsed","setContributorProjectsModalCollapsed","dataAge","setDataAge","projectObjectivesOffset","setProjectObjectivesOffset","projectObjectivesHasMore","setProjectObjectivesHasMore","projectObjectivesTotal","setProjectObjectivesTotal","loadingMoreProjectObjectives","setLoadingMoreProjectObjectives","infiniteScrollRef","showAnalytics","setShowAnalytics","analyticsData","setAnalyticsData","loadingAnalytics","setLoadingAnalytics","analyticsDays","setAnalyticsDays","projectObjectivesModalCollapsed","setProjectObjectivesModalCollapsed","selectedTools","setSelectedTools","showFilters","setShowFilters","filters","setFilters","projectStatus","projectObjectiveStatus","cachedWorkstreams","setCachedWorkstreams","cacheTimestamp","setCacheTimestamp","CACHE_TTL","fetchWorkstreams","forceRefresh","arguments","length","undefined","retryCount","filtersChanged","JSON","stringify","age","Date","now","Math","round","duration","icon","style","background","color","MAX_RETRIES","params","URLSearchParams","append","forEach","status","queryString","toString","url","concat","response","get","timeout","data","success","workstreamsData","size","prev","updated","newWs","has","deliveryToolName","index","findIndex","ws","_objectSpread","stale","error","_error$response","_error$response$data","_error$message","errorMessage","message","code","includes","Promise","resolve","setTimeout","_error$message2","cachedContributorCounts","setCachedContributorCounts","contributorCountTimestamps","setContributorCountTimestamps","CONTRIBUTOR_COUNT_CACHE_TTL","fetchContributorProjectsCount","timestamp","encodedDeliveryTool","encodeURIComponent","refreshParam","count","contributorProjectsCount","_error$response2","_error$response2$data","_error$message3","newState","handleRefresh","selectedOnly","e","preventDefault","stopPropagation","_error$response3","_error$response3$data","handleSelectDeliveryTool","isSelected","newSet","add","delete","handleDeliveryToolClick","fetchProjectObjectives","offset","newObjectives","hasMore","total","_error$response4","_error$response4$data","loadMoreProjectObjectives","element","current","observer","IntersectionObserver","entries","isIntersecting","threshold","observe","disconnect","handleViewContributorProjects","projectObjective","limit","id","_error$response5","_error$response5$data","handleLoadMoreContributorProjects","handleDownloadWorkstreams","priorityColumns","allColumns","row","Object","keys","key","orderedColumns","filter","col","Array","from","sort","orderedData","map","orderedRow","utils","json_to_sheet","header","wb","book_new","book_append_sheet","filename","replace","toISOString","split","writeFile","_error$response6","_error$response6$data","console","handleDownloadContributorProjects","expectedCount","actualCount","headers","label","sanitizedDeliveryTool","toLowerCase","exportToExcel","_error$response7","_error$response7$data","headerLabels","h","worksheetData","value","worksheet","aoa_to_sheet","workbook","columnWidths","wch","handleExportProjectObjectives","sanitizedToolName","handleExportContributorProjects","sanitizedObjectiveName","name","fetchAnalytics","trends","availableTools","newSelection","tool","_error$response8","_error$response8$data","formatDate","dateString","date","toLocaleDateString","month","day","generateUniqueColors","baseColors","slice","colors","i","hue","saturation","lightness","push","prepareChartData","allDates","values","trend","point","sortedDates","chartData","dataPoint","toolName","find","p","handleToolToggle","handleSelectAllTools","handleDeselectAllTools","handleExportToExcel","exportData","projectObjectivesCount","projectsCount","workstreamCount","content","children","className","padding","backgroundColor","border","borderRadius","marginBottom","display","alignItems","gap","onClick","marginLeft","textDecoration","cursor","marginTop","paddingTop","flexWrap","onToggleFilters","onApplyFilters","newFilters","onClearFilters","disabled","marginRight","title","width","type","checked","onChange","target","colSpan","fontStyle","fontSize","opacity","boxShadow","justifyContent","margin","fontWeight","verticalAlign","parseInt","minHeight","flexDirection","textAlign","height","top","right","left","bottom","x1","y1","x2","y2","stopColor","stopOpacity","strokeDasharray","dataKey","angle","textAnchor","contentStyle","labelStyle","_ref2","active","payload","selectedPayload","item","entry","toolIndex","indexOf","minWidth","wrapperStyle","_ref3","transition","onMouseEnter","currentTarget","onMouseLeave","flexShrink","stroke","fill","strokeWidth","flex","whiteSpace","overflow","textOverflow","maxHeight","overflowY","overflowX","po","projectName","workstreamName","ref","maxWidth","tableLayout","cp","borderTop","isOpen","toggleSidebar","email","charAt","toUpperCase"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/WorkStreamReporting.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport useSidebarWidth from '../hooks/useSidebarWidth';\nimport { Menu, LogOut, RefreshCw, Loader, X, Eye, Download, Search, TrendingUp, BarChart3, ChevronDown, ChevronUp, FileText, Upload } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport WorkStreamFilter from '../components/WorkStreamManagement/WorkStreamFilter';\nimport '../styles/WorkStreamReporting.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\nimport '../styles/GlobalTableHeaders.css';\n\nconst WorkStreamReporting = ({ hideHeader = false }) => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const sidebarWidth = useSidebarWidth(sidebarOpen);\n  const [loading, setLoading] = useState(true);\n  const [workstreams, setWorkstreams] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showProjectObjectivesModal, setShowProjectObjectivesModal] = useState(false);\n  const [selectedDeliveryTool, setSelectedDeliveryTool] = useState(null);\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [loadingProjectObjectives, setLoadingProjectObjectives] = useState(false);\n  const [showContributorProjectsModal, setShowContributorProjectsModal] = useState(false);\n  const [selectedProjectObjective, setSelectedProjectObjective] = useState(null);\n  const [contributorProjects, setContributorProjects] = useState([]);\n  const [loadingContributorProjects, setLoadingContributorProjects] = useState(false);\n  const [loadingMoreContributorProjects, setLoadingMoreContributorProjects] = useState(false);\n  const [contributorProjectsHasMore, setContributorProjectsHasMore] = useState(false);\n  const [contributorProjectsCounts, setContributorProjectsCounts] = useState({});\n  const [loadingContributorCounts, setLoadingContributorCounts] = useState({}); // Track loading per delivery tool\n  const [downloadingContributorProjects, setDownloadingContributorProjects] = useState({}); // Track downloading per delivery tool\n  const [selectedDeliveryTools, setSelectedDeliveryTools] = useState(new Set()); // For selective refresh\n  const [dataStale, setDataStale] = useState(false);\n  const [contributorProjectsModalCollapsed, setContributorProjectsModalCollapsed] = useState(false); // Track if data is stale\n  const [dataAge, setDataAge] = useState(0); // Track data age in seconds\n  const [projectObjectivesOffset, setProjectObjectivesOffset] = useState(0); // For infinite scroll\n  const [projectObjectivesHasMore, setProjectObjectivesHasMore] = useState(false);\n  const [projectObjectivesTotal, setProjectObjectivesTotal] = useState(0);\n  const [loadingMoreProjectObjectives, setLoadingMoreProjectObjectives] = useState(false);\n  const infiniteScrollRef = useRef(null); // Ref for infinite scroll trigger\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [analyticsData, setAnalyticsData] = useState({});\n  const [loadingAnalytics, setLoadingAnalytics] = useState(false);\n  const [analyticsDays, setAnalyticsDays] = useState(30);\n  const [projectObjectivesModalCollapsed, setProjectObjectivesModalCollapsed] = useState(false);\n  const [selectedTools, setSelectedTools] = useState(new Set()); // Track which tools are selected for display\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    projectStatus: [],\n    projectObjectiveStatus: ['Open', 'Paused', 'Hidden'] // Default filter\n  });\n\n  // Frontend cache for workstreams summary\n  const [cachedWorkstreams, setCachedWorkstreams] = useState(null);\n  const [cacheTimestamp, setCacheTimestamp] = useState(null);\n  const CACHE_TTL = 10 * 60 * 1000; // 10 minutes\n\n  useEffect(() => {\n    fetchWorkstreams();\n  }, [filters]);\n\n  const fetchWorkstreams = async (forceRefresh = false, selectedTools = null, retryCount = 0) => {\n    // Check frontend cache first (unless force refresh or filters changed)\n    const filtersChanged = JSON.stringify(filters) !== JSON.stringify(cachedWorkstreams?.filters);\n    if (!forceRefresh && !filtersChanged && cachedWorkstreams && cacheTimestamp) {\n      const age = Date.now() - cacheTimestamp;\n      if (age < CACHE_TTL) {\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(age > CACHE_TTL * 0.8); // Stale if > 80% of TTL\n        setDataAge(Math.round(age / 1000));\n        setLoading(false);\n        return;\n      } else {\n        // Cache expired, but show stale data with warning\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(true);\n        setDataAge(Math.round(age / 1000));\n        toast('Showing cached data. Fetching fresh data in background...', { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n      }\n    }\n\n    setLoading(true);\n    const MAX_RETRIES = 2;\n    \n    try {\n      // Build query parameters\n      const params = new URLSearchParams();\n      if (forceRefresh) params.append('refresh', 'true');\n      if (filters.projectStatus && filters.projectStatus.length > 0) {\n        filters.projectStatus.forEach(status => params.append('projectStatus', status));\n      }\n      if (filters.projectObjectiveStatus && filters.projectObjectiveStatus.length > 0) {\n        filters.projectObjectiveStatus.forEach(status => params.append('projectObjectiveStatus', status));\n      }\n      \n      const queryString = params.toString();\n      const url = `/workstream-reporting/summary${queryString ? '?' + queryString : ''}`;\n      \n      const response = await apiClient.get(url, {\n        timeout: 300000 // 5 minutes timeout to match server capabilities\n      });\n      if (response.data.success) {\n        const workstreamsData = response.data.workstreams || [];\n        \n        // If selective refresh, only update selected delivery tools\n        if (selectedTools && selectedTools.size > 0) {\n          setWorkstreams(prev => {\n            const updated = [...prev];\n            workstreamsData.forEach(newWs => {\n              if (selectedTools.has(newWs.deliveryToolName)) {\n                const index = updated.findIndex(ws => ws.deliveryToolName === newWs.deliveryToolName);\n                if (index >= 0) {\n                  updated[index] = newWs;\n                }\n              }\n            });\n            return updated;\n          });\n        } else {\n          setWorkstreams(workstreamsData);\n        }\n        \n        // Update cache with filters\n        setCachedWorkstreams({ workstreams: workstreamsData, filters: { ...filters } });\n        setCacheTimestamp(Date.now());\n        setDataStale(response.data.stale || false);\n        setDataAge(response.data.age || 0);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch workstreams');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch workstreams';\n      \n      // Retry logic for timeout errors\n      if ((error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) && retryCount < MAX_RETRIES) {\n        // Wait a bit before retrying\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        return fetchWorkstreams(forceRefresh, selectedTools, retryCount + 1);\n      }\n      \n      // Graceful degradation: show cached data if available\n      if (cachedWorkstreams) {\n        toast(`${errorMessage}. Showing cached data.`, { \n          duration: 5000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(true);\n        setDataAge(Math.round((Date.now() - cacheTimestamp) / 1000));\n      } else {\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) {\n          toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Frontend cache for contributor counts\n  const [cachedContributorCounts, setCachedContributorCounts] = useState({});\n  const [contributorCountTimestamps, setContributorCountTimestamps] = useState({});\n  const CONTRIBUTOR_COUNT_CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n  const fetchContributorProjectsCount = async (deliveryToolName, forceRefresh = false) => {\n    // Don't fetch for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check frontend cache first (unless force refresh)\n    if (!forceRefresh && cachedContributorCounts[deliveryToolName] !== undefined) {\n      const timestamp = contributorCountTimestamps[deliveryToolName];\n      if (timestamp) {\n        const age = Date.now() - timestamp;\n        if (age < CONTRIBUTOR_COUNT_CACHE_TTL) {\n          setContributorProjectsCounts(prev => ({\n            ...prev,\n            [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n          }));\n          return;\n        }\n      }\n    }\n\n    // If already loaded and not expired, don't fetch again\n    if (contributorProjectsCounts[deliveryToolName] !== undefined && !forceRefresh) {\n      return;\n    }\n\n    // Set loading state for this specific delivery tool\n    setLoadingContributorCounts(prev => ({ ...prev, [deliveryToolName]: true }));\n\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const refreshParam = forceRefresh ? '?refresh=true' : '';\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-count/${encodedDeliveryTool}${refreshParam}`, {\n        timeout: 300000 // 5 minutes timeout to match download endpoint and allow for large datasets\n      });\n      \n      if (response.data.success) {\n        const count = response.data.contributorProjectsCount || 0;\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        \n        // Update frontend cache\n        setCachedContributorCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        setContributorCountTimestamps(prev => ({\n          ...prev,\n          [deliveryToolName]: Date.now()\n        }));\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor project count');\n        // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor project count';\n      \n      // Graceful degradation: use cached count if available\n      if (cachedContributorCounts[deliveryToolName] !== undefined) {\n        toast(`${errorMessage}. Using cached count.`, { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n        }));\n      } else {\n        // Show specific error message for timeout\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n          toast.error('Request timed out. Please try again.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n      \n      // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n    } finally {\n      setLoadingContributorCounts(prev => {\n        const newState = { ...prev };\n        delete newState[deliveryToolName];\n        return newState;\n      });\n    }\n  };\n\n  const handleRefresh = async (selectedOnly = false, e = null) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    setRefreshing(true);\n    try {\n      if (selectedOnly && selectedDeliveryTools.size > 0) {\n        // Selective refresh: only refresh selected delivery tools\n        await fetchWorkstreams(true, selectedDeliveryTools);\n        // Clear selection after refresh\n        setSelectedDeliveryTools(new Set());\n        toast.success(`Refreshed ${selectedDeliveryTools.size} delivery tool(s)`);\n      } else {\n        // Full refresh\n        await fetchWorkstreams(true);\n        // Clear contributor project counts on full refresh\n        setContributorProjectsCounts({});\n        setCachedContributorCounts({});\n        setContributorCountTimestamps({});\n        toast.success('All data refreshed');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to refresh workstreams');\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const handleSelectDeliveryTool = (deliveryToolName, isSelected) => {\n    setSelectedDeliveryTools(prev => {\n      const newSet = new Set(prev);\n      if (isSelected) {\n        newSet.add(deliveryToolName);\n      } else {\n        newSet.delete(deliveryToolName);\n      }\n      return newSet;\n    });\n  };\n\n  const handleDeliveryToolClick = async (deliveryToolName) => {\n    // Don't allow clicking on \"Unassigned\" category\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    setSelectedDeliveryTool(deliveryToolName);\n    setShowProjectObjectivesModal(true);\n    setProjectObjectives([]);\n    setProjectObjectivesOffset(0);\n    setProjectObjectivesHasMore(false);\n    setProjectObjectivesTotal(0);\n\n    // Fetch first page (loading state handled in fetchProjectObjectives)\n    await fetchProjectObjectives(deliveryToolName, 0);\n  };\n\n  const fetchProjectObjectives = async (deliveryToolName, offset = 0, append = false) => {\n    if (!append) {\n      setLoadingProjectObjectives(true);\n    }\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/project-objectives/${encodedDeliveryTool}?limit=50&offset=${offset}`);\n      if (response.data.success) {\n        const newObjectives = response.data.projectObjectives || [];\n        if (append) {\n          setProjectObjectives(prev => [...prev, ...newObjectives]);\n        } else {\n          setProjectObjectives(newObjectives);\n        }\n        setProjectObjectivesHasMore(response.data.hasMore || false);\n        setProjectObjectivesTotal(response.data.total || 0);\n        setProjectObjectivesOffset(offset + newObjectives.length);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch project objectives');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch project objectives';\n      toast.error(errorMessage);\n    } finally {\n      setLoadingProjectObjectives(false);\n      setLoadingMoreProjectObjectives(false);\n    }\n  };\n\n  const loadMoreProjectObjectives = useCallback(async () => {\n    if (!selectedDeliveryTool || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n    setLoadingMoreProjectObjectives(true);\n    await fetchProjectObjectives(selectedDeliveryTool, projectObjectivesOffset, true);\n  }, [selectedDeliveryTool, projectObjectivesHasMore, loadingMoreProjectObjectives, projectObjectivesOffset]);\n\n  // Set up IntersectionObserver for infinite scroll\n  useEffect(() => {\n    const element = infiniteScrollRef.current;\n    if (!element || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          loadMoreProjectObjectives();\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    observer.observe(element);\n\n    // Cleanup on unmount\n    return () => {\n      observer.disconnect();\n    };\n  }, [projectObjectivesHasMore, loadingMoreProjectObjectives, loadMoreProjectObjectives]);\n\n  const handleViewContributorProjects = async (projectObjective, append = false) => {\n    if (!append) {\n      setSelectedProjectObjective(projectObjective);\n      setShowContributorProjectsModal(true);\n      setLoadingContributorProjects(true);\n      setContributorProjects([]);\n      setContributorProjectsHasMore(false);\n    } else {\n      setLoadingMoreContributorProjects(true);\n    }\n\n    try {\n      const offset = append ? contributorProjects.length : 0;\n      const limit = 1000;\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects/${projectObjective.id}`, {\n        params: { offset, limit }\n      });\n      if (response.data.success) {\n        if (append) {\n          setContributorProjects(prev => [...prev, ...(response.data.contributorProjects || [])]);\n        } else {\n          setContributorProjects(response.data.contributorProjects || []);\n        }\n        setContributorProjectsHasMore(response.data.hasMore || false);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      if (append) {\n        setLoadingMoreContributorProjects(false);\n      } else {\n        setLoadingContributorProjects(false);\n      }\n    }\n  };\n\n  const handleLoadMoreContributorProjects = () => {\n    if (selectedProjectObjective && contributorProjectsHasMore && !loadingMoreContributorProjects) {\n      handleViewContributorProjects(selectedProjectObjective, true);\n    }\n  };\n\n  // Download workstreams (all or by tool)\n  const handleDownloadWorkstreams = async (deliveryToolName = null) => {\n    try {\n      setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName || 'all']: true }));\n      \n      // Include filter parameters (same as summary endpoint)\n      const params = {\n        ...(deliveryToolName ? { deliveryToolName } : {}),\n        ...(filters.projectStatus && filters.projectStatus.length > 0 ? { projectStatus: filters.projectStatus } : {}),\n        ...(filters.projectObjectiveStatus && filters.projectObjectiveStatus.length > 0 ? { projectObjectiveStatus: filters.projectObjectiveStatus } : {})\n      };\n      const response = await apiClient.get('/workstream-reporting/download-workstreams', { params });\n      \n      if (response.data.success && response.data.workstreams) {\n        const workstreamsData = response.data.workstreams;\n        \n        // Define column order (priority fields first)\n        const priorityColumns = ['Delivery Tool Name', 'Name', 'Functionality', 'Owner Name', 'Project Objective Name'];\n        \n        // Get all columns from the data\n        const allColumns = new Set();\n        workstreamsData.forEach(row => {\n          Object.keys(row).forEach(key => allColumns.add(key));\n        });\n        \n        // Order columns: priority first, then others alphabetically\n        const orderedColumns = [\n          ...priorityColumns.filter(col => allColumns.has(col)),\n          ...Array.from(allColumns).filter(col => !priorityColumns.includes(col)).sort()\n        ];\n        \n        // Reorder data to match column order\n        const orderedData = workstreamsData.map(row => {\n          const orderedRow = {};\n          orderedColumns.forEach(col => {\n            orderedRow[col] = row[col] !== undefined ? row[col] : null;\n          });\n          return orderedRow;\n        });\n        \n        // Create Excel file with ordered columns\n        const ws = XLSX.utils.json_to_sheet(orderedData, { header: orderedColumns });\n        const wb = XLSX.utils.book_new();\n        XLSX.utils.book_append_sheet(wb, ws, 'Workstreams');\n        \n        const filename = deliveryToolName \n          ? `Workstreams_${deliveryToolName.replace(/[^a-zA-Z0-9]/g, '_')}_${new Date().toISOString().split('T')[0]}.xlsx`\n          : `All_Workstreams_${new Date().toISOString().split('T')[0]}.xlsx`;\n        \n        XLSX.writeFile(wb, filename);\n        toast.success(`Downloaded ${workstreamsData.length} workstream(s)`);\n      } else {\n        toast.error(response.data.error || 'Failed to download workstreams');\n      }\n    } catch (error) {\n      console.error('Error downloading workstreams:', error);\n      toast.error(error.response?.data?.error || error.message || 'Failed to download workstreams');\n    } finally {\n      setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName || 'all']: false }));\n    }\n  };\n\n  // Download contributor projects for a specific delivery tool\n  const handleDownloadContributorProjects = async (deliveryToolName) => {\n    // Don't download for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check if count is available\n    const expectedCount = contributorProjectsCounts[deliveryToolName];\n    if (expectedCount === undefined) {\n      toast.error('Please get the count first before downloading.');\n      return;\n    }\n\n    if (expectedCount === 0) {\n      toast('No contributor projects to download.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Set downloading state\n    setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: true }));\n    \n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      // Include filter parameters (same as summary endpoint)\n      const params = {\n        ...(filters.projectStatus && filters.projectStatus.length > 0 ? { projectStatus: filters.projectStatus } : {}),\n        ...(filters.projectObjectiveStatus && filters.projectObjectiveStatus.length > 0 ? { projectObjectiveStatus: filters.projectObjectiveStatus } : {})\n      };\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-by-tool/${encodedDeliveryTool}`, {\n        params,\n        timeout: 300000 // 5 minutes timeout for large datasets\n      });\n\n      if (response.data.success) {\n        const contributorProjects = response.data.contributorProjects || [];\n        const actualCount = contributorProjects.length;\n        \n        // Verify count matches\n        if (actualCount !== expectedCount) {\n          toast(`Downloaded ${actualCount} records, but table shows ${expectedCount}. Some records may be missing due to limits.`, { \n            duration: 5000,\n            icon: '⚠️',\n            style: {\n              background: '#fef3c7',\n              color: '#92400e',\n            }\n          });\n        }\n\n        if (contributorProjects.length === 0) {\n          toast('No contributor projects found to download.', {\n            icon: 'ℹ️',\n            style: {\n              background: '#dbeafe',\n              color: '#1e40af',\n            }\n          });\n          return;\n        }\n\n        // Prepare data for export - only Contributor Project, Project Objective, Status\n        const headers = [\n          { key: 'name', label: 'Contributor Project' },\n          { key: 'projectObjectiveName', label: 'Project Objective' },\n          { key: 'status', label: 'Status' }\n        ];\n\n        // Sanitize delivery tool name for filename\n        const sanitizedDeliveryTool = deliveryToolName.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n        const filename = `Contributor_Projects_${sanitizedDeliveryTool}_${new Date().toISOString().split('T')[0]}.xlsx`;\n        \n        exportToExcel(contributorProjects, headers, filename);\n        toast.success(`Downloaded ${actualCount} contributor project${actualCount !== 1 ? 's' : ''} for ${deliveryToolName}`);\n      } else {\n        toast.error(response.data.error || 'Failed to download contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to download contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: false }));\n    }\n  };\n\n  // Export functions\n  const exportToExcel = (data, headers, filename) => {\n    try {\n      // Prepare data for Excel - header row with labels\n      const headerLabels = headers.map(h => h.label);\n      const worksheetData = [\n        headerLabels, // Header row with labels\n        ...data.map(row => headers.map(header => {\n          const value = row[header.key];\n          // Handle null/undefined values - show empty string for Excel\n          // For contributor project count, if not retrieved (undefined), show empty string\n          if (value === null || value === undefined) {\n            return '';\n          }\n          // For contributor project count that is 0, show 0 (not empty)\n          return value;\n        }))\n      ];\n\n      // Create workbook and worksheet\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');\n\n      // Set column widths (auto-size based on content)\n      const columnWidths = headers.map(() => ({ wch: 25 }));\n      worksheet['!cols'] = columnWidths;\n\n      // Generate Excel file and download\n      XLSX.writeFile(workbook, filename);\n      toast.success('Excel file downloaded successfully');\n    } catch (error) {\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n\n  const handleExportProjectObjectives = () => {\n    if (projectObjectives.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Project Objective' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'workstreamName', label: 'Associated WorkStream' },\n      { key: 'deliveryToolName', label: 'Delivery Tool Name' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedToolName = (selectedDeliveryTool || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Project_Objectives_${sanitizedToolName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(projectObjectives, headers, filename);\n  };\n\n  const handleExportContributorProjects = () => {\n    if (contributorProjects.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Contributor Project Name' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'status', label: 'Status' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedObjectiveName = (selectedProjectObjective?.name || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Contributor_Projects_${sanitizedObjectiveName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(contributorProjects, headers, filename);\n  };\n\n  const fetchAnalytics = async () => {\n    setLoadingAnalytics(true);\n    try {\n      const response = await apiClient.get(`/workstream-reporting/analytics?days=${analyticsDays}`);\n      if (response.data.success) {\n        const trends = response.data.trends || {};\n        setAnalyticsData(trends);\n        // Initialize or update selected tools\n        const availableTools = Object.keys(trends);\n        if (availableTools.length > 0) {\n          if (selectedTools.size === 0) {\n            // First time: select all tools\n            setSelectedTools(new Set(availableTools));\n          } else {\n            // Update selection: keep existing selections if tools still exist, add new ones\n            const newSelection = new Set();\n            availableTools.forEach(tool => {\n              if (selectedTools.has(tool)) {\n                newSelection.add(tool);\n              }\n            });\n            // If no tools were kept, select all (user might have deselected everything)\n            if (newSelection.size === 0) {\n              setSelectedTools(new Set(availableTools));\n            } else {\n              setSelectedTools(newSelection);\n            }\n          }\n        }\n      } else {\n        toast.error(response.data.error || 'Failed to fetch analytics');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to fetch analytics');\n    } finally {\n      setLoadingAnalytics(false);\n    }\n  };\n\n  useEffect(() => {\n    if (showAnalytics) {\n      fetchAnalytics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAnalytics, analyticsDays]);\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  // Generate unique colors for all tools\n  const generateUniqueColors = (count) => {\n    const baseColors = [\n      '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', \n      '#06b6d4', '#ec4899', '#84cc16', '#f97316', '#6366f1',\n      '#14b8a6', '#eab308', '#a855f7', '#f43f5e', '#22c55e',\n      '#0ea5e9', '#d946ef', '#64748b', '#fb923c', '#34d399'\n    ];\n    \n    if (count <= baseColors.length) {\n      return baseColors.slice(0, count);\n    }\n    \n    // Generate additional colors if needed\n    const colors = [...baseColors];\n    for (let i = baseColors.length; i < count; i++) {\n      const hue = (i * 137.508) % 360; // Golden angle approximation for color distribution\n      const saturation = 60 + (i % 3) * 10; // Vary saturation\n      const lightness = 45 + (i % 2) * 10; // Vary lightness\n      colors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);\n    }\n    \n    return colors;\n  };\n\n  // Prepare chart data from analytics (include all tools, but style based on selection)\n  const prepareChartData = () => {\n    const allDates = new Set();\n    // Process all tools to get all dates\n    Object.values(analyticsData).forEach(trend => {\n      trend.forEach(point => allDates.add(point.date));\n    });\n    \n    const sortedDates = Array.from(allDates).sort();\n    const chartData = sortedDates.map(date => {\n      const dataPoint = { date: formatDate(date) };\n      // Include all tools in data\n      Object.keys(analyticsData).forEach(toolName => {\n        const trend = analyticsData[toolName];\n        const point = trend.find(p => p.date === date);\n        dataPoint[toolName] = point ? point.count : 0;\n      });\n      return dataPoint;\n    });\n    \n    return chartData;\n  };\n\n  // Handle tool selection toggle\n  const handleToolToggle = (toolName) => {\n    setSelectedTools(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(toolName)) {\n        newSet.delete(toolName);\n      } else {\n        newSet.add(toolName);\n      }\n      return newSet;\n    });\n  };\n\n  // Select all tools\n  const handleSelectAllTools = () => {\n    setSelectedTools(new Set(Object.keys(analyticsData)));\n  };\n\n  // Deselect all tools\n  const handleDeselectAllTools = () => {\n    setSelectedTools(new Set());\n  };\n\n  const handleExportToExcel = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    try {\n      // Prepare data for export - include contributor projects count\n      const exportData = workstreams.map(ws => ({\n        'Delivery Tool Name': ws.deliveryToolName || 'N/A',\n        'No. of Project Objectives': ws.projectObjectivesCount || 0,\n        'No. of Projects': ws.projectsCount || 0,\n        'No. of Workstreams': ws.workstreamCount || 0,\n        'Total Contributor Projects': contributorProjectsCounts[ws.deliveryToolName] !== undefined \n          ? contributorProjectsCounts[ws.deliveryToolName] \n          : 'N/A'\n      }));\n\n      // Create workbook and worksheet\n      const ws = XLSX.utils.json_to_sheet(exportData);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Workstream Summary');\n\n      // Generate filename with timestamp\n      const filename = `Workstream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`;\n\n      // Write and download\n      XLSX.writeFile(wb, filename);\n      toast.success(`Exported ${exportData.length} records to Excel`);\n    } catch (error) {\n      console.error('Error exporting to Excel:', error);\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n  const content = (\n    <>\n      <div className=\"workstream-reporting-content\">\n          {/* Stale Data Warning */}\n          {dataStale && (\n            <div style={{\n              padding: '12px 16px',\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffc107',\n              borderRadius: '4px',\n              marginBottom: '16px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              color: '#856404'\n            }}>\n              <span>⚠️</span>\n              <span>\n                Showing cached data (age: {dataAge}s). Data may be outdated. \n                <button \n                  onClick={() => fetchWorkstreams(true)} \n                  style={{ \n                    marginLeft: '8px', \n                    color: '#856404', \n                    textDecoration: 'underline',\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Refresh now\n                </button>\n              </span>\n            </div>\n          )}\n          \n          <div className=\"content-header\" style={{ marginTop: '8px', paddingTop: '8px' }}>\n            <h2 style={{ marginTop: '0', marginBottom: '8px' }}>WorkStream Summary</h2>\n            <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexWrap: 'wrap' }}>\n              <WorkStreamFilter\n                showFilters={showFilters}\n                onToggleFilters={() => setShowFilters(!showFilters)}\n                onApplyFilters={(newFilters) => {\n                  setFilters(newFilters);\n                  setShowFilters(false);\n                }}\n                onClearFilters={() => {\n                  setFilters({\n                    projectStatus: [],\n                    projectObjectiveStatus: ['Open', 'Paused', 'Hidden'] // Reset to default\n                  });\n                }}\n                filters={filters}\n              />\n              {selectedDeliveryTools.size > 0 && (\n                <button\n                  className=\"btn btn-secondary\"\n                  onClick={(e) => handleRefresh(true, e)}\n                  disabled={refreshing}\n                  style={{ marginRight: '8px' }}\n                >\n                  <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                  Refresh Selected ({selectedDeliveryTools.size})\n                </button>\n              )}\n              <button\n                className=\"btn-secondary\"\n                onClick={() => setShowAnalytics(!showAnalytics)}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"View Analytics\"\n              >\n                <TrendingUp size={16} />\n                {showAnalytics ? 'Hide' : 'Show'} Analytics\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={(e) => handleRefresh(false, e)}\n                disabled={refreshing}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n              >\n                <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                Refresh\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={handleExportToExcel}\n                disabled={workstreams.length === 0}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Export table data to Excel\"\n              >\n                <Download size={16} />\n                Export to Excel\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={() => handleDownloadWorkstreams(null)}\n                disabled={loading}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Download all workstreams with all fields\"\n              >\n                <Download size={16} />\n                Download All Workstreams\n              </button>\n            </div>\n          </div>\n\n          {loading && workstreams.length === 0 ? (\n            <div className=\"loading-container\">\n              <Loader className=\"spinning\" size={24} style={{ color: '#08979C' }} />\n              <p>Loading workstreams...</p>\n            </div>\n          ) : (\n            <div className=\"summary-table-container\">\n              <table className=\"summary-table\">\n                <thead>\n                      <tr>\n                        <th style={{ width: '40px' }}>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.size === workstreams.length && workstreams.length > 0}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setSelectedDeliveryTools(new Set(workstreams.map(ws => ws.deliveryToolName)));\n                              } else {\n                                setSelectedDeliveryTools(new Set());\n                              }\n                            }}\n                          />\n                        </th>\n                        <th>Delivery Tool Name</th>\n                        <th>No. of Project Objectives</th>\n                        <th>No. of Projects</th>\n                        <th>No. of Workstreams</th>\n                        <th>Total Contributor Projects</th>\n                        <th>Actions</th>\n                      </tr>\n                </thead>\n                <tbody>\n                  {workstreams.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"7\" className=\"no-data\">\n                        {loading ? 'Loading workstreams...' : 'No delivery tools found'}\n                      </td>\n                    </tr>\n                  ) : (\n                    workstreams.map((ws, index) => (\n                      <tr key={ws.deliveryToolName || index}>\n                        <td>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.has(ws.deliveryToolName)}\n                            onChange={(e) => handleSelectDeliveryTool(ws.deliveryToolName, e.target.checked)}\n                          />\n                        </td>\n                        <td>\n                          {ws.deliveryToolName === 'Unassigned' ? (\n                            <span style={{ color: '#706e6b', fontStyle: 'italic' }}>\n                              {ws.deliveryToolName}\n                            </span>\n                          ) : (\n                            <span \n                              className=\"delivery-tool-link\" \n                              onClick={() => handleDeliveryToolClick(ws.deliveryToolName)}\n                              style={{ color: '#0176d3', cursor: 'pointer', textDecoration: 'underline' }}\n                            >\n                              {ws.deliveryToolName || '--'}\n                            </span>\n                          )}\n                        </td>\n                        <td>{ws.projectObjectivesCount || 0}</td>\n                        <td>{ws.projectsCount || 0}</td>\n                        <td>{ws.workstreamCount || 0}</td>\n                        <td>\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                            {loadingContributorCounts[ws.deliveryToolName] ? (\n                              <Loader className=\"spinning\" size={14} style={{ display: 'inline-block' }} />\n                            ) : contributorProjectsCounts[ws.deliveryToolName] !== undefined ? (\n                              <>\n                                <span>{contributorProjectsCounts[ws.deliveryToolName]}</span>\n                                {contributorProjectsCounts[ws.deliveryToolName] > 0 && (\n                                  <button\n                                    onClick={() => handleDownloadContributorProjects(ws.deliveryToolName)}\n                                    disabled={downloadingContributorProjects[ws.deliveryToolName]}\n                                    style={{\n                                      background: 'none',\n                                      border: 'none',\n                                      color: downloadingContributorProjects[ws.deliveryToolName] ? '#706e6b' : '#0176d3',\n                                      cursor: downloadingContributorProjects[ws.deliveryToolName] ? 'not-allowed' : 'pointer',\n                                      display: 'inline-flex',\n                                      alignItems: 'center',\n                                      padding: '2px 4px',\n                                      fontSize: '12px',\n                                      opacity: downloadingContributorProjects[ws.deliveryToolName] ? 0.6 : 1\n                                    }}\n                                    title={downloadingContributorProjects[ws.deliveryToolName] ? 'Downloading...' : 'Download Contributor Projects List'}\n                                  >\n                                    {downloadingContributorProjects[ws.deliveryToolName] ? (\n                                      <Loader className=\"spinning\" size={14} />\n                                    ) : (\n                                      <Download size={14} />\n                                    )}\n                                  </button>\n                                )}\n                              </>\n                            ) : (\n                              <button\n                                onClick={() => fetchContributorProjectsCount(ws.deliveryToolName)}\n                                style={{\n                                  background: 'none',\n                                  border: 'none',\n                                  color: '#0176d3',\n                                  cursor: 'pointer',\n                                  display: 'inline-flex',\n                                  alignItems: 'center',\n                                  gap: '4px',\n                                  padding: '4px 8px',\n                                  fontSize: '13px'\n                                }}\n                                title=\"Get Contributor Project Count\"\n                              >\n                                <Search size={14} />\n                                Get Count\n                              </button>\n                            )}\n                          </div>\n                        </td>\n                        <td>\n                          <button\n                            onClick={() => handleDownloadWorkstreams(ws.deliveryToolName)}\n                            disabled={downloadingContributorProjects[ws.deliveryToolName]}\n                            style={{\n                              background: 'none',\n                              border: 'none',\n                              color: downloadingContributorProjects[ws.deliveryToolName] ? '#706e6b' : '#0176d3',\n                              cursor: downloadingContributorProjects[ws.deliveryToolName] ? 'not-allowed' : 'pointer',\n                              display: 'inline-flex',\n                              alignItems: 'center',\n                              gap: '4px',\n                              padding: '4px 8px',\n                              fontSize: '13px',\n                              opacity: downloadingContributorProjects[ws.deliveryToolName] ? 0.6 : 1\n                            }}\n                            title={downloadingContributorProjects[ws.deliveryToolName] ? 'Downloading...' : 'Download Workstreams for this tool'}\n                          >\n                            {downloadingContributorProjects[ws.deliveryToolName] ? (\n                              <Loader className=\"spinning\" size={14} />\n                            ) : (\n                              <>\n                                <Download size={14} />\n                                Download Workstreams\n                              </>\n                            )}\n                          </button>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {/* Analytics Section - Below Summary Table */}\n          {showAnalytics && (\n            <div style={{\n              marginTop: '24px',\n              padding: '20px',\n              backgroundColor: '#fff',\n              borderRadius: '8px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                <h3 style={{ margin: 0, fontSize: '18px', fontWeight: '600' }}>\n                  <BarChart3 size={20} style={{ display: 'inline-block', marginRight: '8px', verticalAlign: 'middle' }} />\n                  Trend Analysis - Project Objectives by Delivery Tool\n                </h3>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <label style={{ fontSize: '14px' }}>Days:</label>\n                  <select\n                    value={analyticsDays}\n                    onChange={(e) => setAnalyticsDays(parseInt(e.target.value))}\n                    style={{\n                      padding: '6px 12px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      fontSize: '14px'\n                    }}\n                  >\n                    <option value={7}>7 Days</option>\n                    <option value={14}>14 Days</option>\n                    <option value={30}>30 Days</option>\n                    <option value={60}>60 Days</option>\n                    <option value={90}>90 Days</option>\n                  </select>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={fetchAnalytics}\n                    disabled={loadingAnalytics}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px' }}\n                  >\n                    <RefreshCw size={14} className={loadingAnalytics ? 'spinning' : ''} />\n                    Refresh\n                  </button>\n                </div>\n              </div>\n              \n              {loadingAnalytics ? (\n                <div className=\"loading-container\" style={{ minHeight: 'calc(100vh - 200px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                  <Loader className=\"spinning\" size={24} style={{ color: '#08979C' }} />\n                  <p>Loading analytics...</p>\n                </div>\n              ) : Object.keys(analyticsData).length === 0 ? (\n                <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n                  <p>No analytics data available. Data will be collected as snapshots are created.</p>\n                </div>\n              ) : (\n                <div style={{ width: '100%', height: '400px' }}>\n                  <ResponsiveContainer>\n                    <AreaChart data={prepareChartData()} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                      <defs>\n                        {Object.keys(analyticsData).map((toolName, index) => {\n                          const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                          const color = colors[index];\n                          const isSelected = selectedTools.has(toolName);\n                          return (\n                            <linearGradient key={toolName} id={`color${toolName}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor={color} stopOpacity={isSelected ? 0.8 : 0.2}/>\n                              <stop offset=\"95%\" stopColor={color} stopOpacity={isSelected ? 0.1 : 0.05}/>\n                            </linearGradient>\n                          );\n                        })}\n                      </defs>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis \n                        dataKey=\"date\" \n                        angle={-45}\n                        textAnchor=\"end\"\n                        height={80}\n                        style={{ fontSize: '12px' }}\n                      />\n                      <YAxis style={{ fontSize: '12px' }} />\n                      <Tooltip \n                        contentStyle={{ backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px' }}\n                        labelStyle={{ fontWeight: 'bold', marginBottom: '4px' }}\n                        content={({ active, payload, label }) => {\n                          if (!active || !payload || payload.length === 0) return null;\n                          \n                          // Filter to show only selected tools\n                          const selectedPayload = payload.filter(item => selectedTools.has(item.dataKey));\n                          \n                          if (selectedPayload.length === 0) {\n                            return (\n                              <div style={{ padding: '8px', fontSize: '12px', color: '#666' }}>\n                                No selected tools\n                              </div>\n                            );\n                          }\n                          \n                          return (\n                            <div style={{ padding: '10px', backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n                              <p style={{ margin: '0 0 8px 0', fontWeight: 'bold', fontSize: '13px', color: '#333' }}>\n                                {label}\n                              </p>\n                              {selectedPayload.map((entry, index) => {\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const toolIndex = Object.keys(analyticsData).indexOf(entry.dataKey);\n                                const color = colors[toolIndex];\n                                return (\n                                  <div key={index} style={{ \n                                    display: 'flex', \n                                    alignItems: 'center', \n                                    gap: '8px',\n                                    marginBottom: '4px',\n                                    fontSize: '12px'\n                                  }}>\n                                    <span style={{\n                                      display: 'inline-block',\n                                      width: '12px',\n                                      height: '12px',\n                                      backgroundColor: color,\n                                      borderRadius: '2px'\n                                    }} />\n                                    <span style={{ color: '#666', minWidth: '150px' }}>{entry.dataKey}:</span>\n                                    <span style={{ fontWeight: '600', color: '#333' }}>{entry.value}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      <Legend \n                        wrapperStyle={{ paddingTop: '20px' }}\n                        content={({ payload }) => {\n                          if (!payload || payload.length === 0) return null;\n                          return (\n                            <div style={{ \n                              display: 'flex', \n                              flexWrap: 'wrap', \n                              gap: '12px',\n                              padding: '10px',\n                              justifyContent: 'center',\n                              alignItems: 'center'\n                            }}>\n                              <div style={{ \n                                display: 'flex', \n                                gap: '8px', \n                                alignItems: 'center',\n                                marginRight: '16px',\n                                padding: '4px 8px',\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                backgroundColor: '#f9f9f9'\n                              }}>\n                                <button\n                                  onClick={handleSelectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer',\n                                    marginRight: '4px'\n                                  }}\n                                >\n                                  Select All\n                                </button>\n                                <button\n                                  onClick={handleDeselectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer'\n                                  }}\n                                >\n                                  Deselect All\n                                </button>\n                              </div>\n                              {Object.keys(analyticsData).map((toolName, index) => {\n                                const isSelected = selectedTools.has(toolName);\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const color = colors[index];\n                                return (\n                                  <div\n                                    key={toolName}\n                                    onClick={() => handleToolToggle(toolName)}\n                                    style={{\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      gap: '6px',\n                                      cursor: 'pointer',\n                                      padding: '6px 10px',\n                                      borderRadius: '4px',\n                                      backgroundColor: isSelected ? '#f0f7ff' : '#f9f9f9',\n                                      border: `1px solid ${isSelected ? color : '#e0e0e0'}`,\n                                      opacity: isSelected ? 1 : 0.6,\n                                      transition: 'all 0.2s'\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#e0f0ff' : '#f0f0f0';\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#f0f7ff' : '#f9f9f9';\n                                    }}\n                                  >\n                                    <input\n                                      type=\"checkbox\"\n                                      checked={isSelected}\n                                      onChange={() => handleToolToggle(toolName)}\n                                      onClick={(e) => e.stopPropagation()}\n                                      style={{\n                                        cursor: 'pointer',\n                                        marginRight: '4px',\n                                        width: '16px',\n                                        height: '16px'\n                                      }}\n                                    />\n                                    <span\n                                      style={{\n                                        display: 'inline-block',\n                                        width: '14px',\n                                        height: '14px',\n                                        backgroundColor: color,\n                                        borderRadius: '2px',\n                                        marginRight: '4px',\n                                        flexShrink: 0\n                                      }}\n                                    />\n                                    <span style={{ fontSize: '13px', fontWeight: isSelected ? '500' : '400' }}>{toolName}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      {Object.keys(analyticsData).map((toolName, index) => {\n                        const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                        const color = colors[index];\n                        const isSelected = selectedTools.has(toolName);\n                        return (\n                          <Area\n                            key={toolName}\n                            type=\"monotone\"\n                            dataKey={toolName}\n                            stroke={color}\n                            fill={`url(#color${toolName})`}\n                            strokeWidth={isSelected ? 2 : 1}\n                            strokeDasharray={isSelected ? '0' : '5 5'}\n                            opacity={isSelected ? 1 : 0.4}\n                            name={toolName}\n                          />\n                        );\n                      })}\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              )}\n            </div>\n          )}\n      </div>\n\n      {/* Project Objectives Modal */}\n        {showProjectObjectivesModal && (\n          <div className=\"modal-overlay\" onClick={() => setShowProjectObjectivesModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {projectObjectivesModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedDeliveryTool}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportProjectObjectives}\n                    disabled={projectObjectives.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowProjectObjectivesModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!projectObjectivesModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingProjectObjectives && projectObjectives.length === 0 ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading project objectives...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container\" style={{ maxHeight: '60vh', overflowY: 'auto', overflowX: 'auto', width: '100%' }}>\n                    <table className=\"project-objectives-table\">\n                      <thead>\n                        <tr>\n                          <th>Project Objective</th>\n                          <th>Project</th>\n                          <th>Associated WorkStream</th>\n                          <th>Delivery Tool Name</th>\n                          <th>Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {projectObjectives.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"5\" className=\"no-data\">\n                              No project objectives found for this delivery tool\n                            </td>\n                          </tr>\n                        ) : (\n                          <>\n                            {projectObjectives.map((po, index) => (\n                              <tr key={po.id || index}>\n                                <td>{po.name || '--'}</td>\n                                <td>{po.projectName || '--'}</td>\n                                <td>{po.workstreamName || '--'}</td>\n                                <td>{po.deliveryToolName || '--'}</td>\n                                <td>\n                                  <button\n                                    className=\"btn-link\"\n                                    onClick={() => handleViewContributorProjects(po)}\n                                  >\n                                    <Eye size={14} />\n                                    View Contributor Projects\n                                  </button>\n                                </td>\n                              </tr>\n                            ))}\n                            {projectObjectivesHasMore && (\n                              <tr>\n                                <td colSpan=\"5\" style={{ textAlign: 'center', padding: '16px' }}>\n                                  {loadingMoreProjectObjectives ? (\n                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\n                                      <Loader className=\"spinning\" size={16} />\n                                      <span>Loading more...</span>\n                                    </div>\n                                  ) : (\n                                    <button\n                                      className=\"btn-secondary\"\n                                      onClick={loadMoreProjectObjectives}\n                                      style={{ padding: '8px 16px' }}\n                                    >\n                                      Load More ({projectObjectivesTotal - projectObjectives.length} remaining)\n                                    </button>\n                                  )}\n                                </td>\n                              </tr>\n                            )}\n                          </>\n                        )}\n                      </tbody>\n                    </table>\n                    {/* Infinite scroll trigger */}\n                    {projectObjectivesHasMore && !loadingMoreProjectObjectives && (\n                      <div\n                        ref={infiniteScrollRef}\n                        style={{ height: '20px', width: '100%' }}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowProjectObjectivesModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Contributor Projects Modal */}\n        {showContributorProjectsModal && selectedProjectObjective && (\n          <div className=\"modal-overlay\" onClick={() => setShowContributorProjectsModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {contributorProjectsModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedProjectObjective.name}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportContributorProjects}\n                    disabled={contributorProjects.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowContributorProjectsModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!contributorProjectsModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingContributorProjects ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading contributor projects...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container contributor-projects-table\" style={{ overflowX: 'visible', width: '100%', maxWidth: '100%' }}>\n                    <table className=\"project-objectives-table contributor-projects-table\" style={{ width: '100%', tableLayout: 'fixed' }}>\n                      <thead>\n                        <tr>\n                          <th>Contributor Project Name</th>\n                          <th>Project</th>\n                          <th>Status</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {contributorProjects.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"3\" className=\"no-data\">\n                              No contributor projects found for this project objective\n                            </td>\n                          </tr>\n                        ) : (\n                          contributorProjects.map((cp, index) => (\n                            <tr key={cp.id || index}>\n                              <td>{cp.name || '--'}</td>\n                              <td>{cp.projectName || '--'}</td>\n                              <td>{cp.status || '--'}</td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                    {contributorProjectsHasMore && (\n                      <div style={{ textAlign: 'center', padding: '16px', borderTop: '1px solid #e2e8f0' }}>\n                        <button\n                          onClick={handleLoadMoreContributorProjects}\n                          disabled={loadingMoreContributorProjects}\n                          style={{\n                            padding: '10px 20px',\n                            backgroundColor: loadingMoreContributorProjects ? '#cbd5e1' : '#08979C',\n                            color: '#ffffff',\n                            border: 'none',\n                            borderRadius: '6px',\n                            cursor: loadingMoreContributorProjects ? 'not-allowed' : 'pointer',\n                            fontSize: '14px',\n                            fontWeight: '500',\n                            display: 'inline-flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          }}\n                        >\n                          {loadingMoreContributorProjects ? (\n                            <>\n                              <Loader className=\"spinner\" size={16} />\n                              Loading...\n                            </>\n                          ) : (\n                            'Show More'\n                          )}\n                        </button>\n                        <div style={{ marginTop: '8px', fontSize: '12px', color: '#64748b' }}>\n                          Showing {contributorProjects.length} entries. Click to load more.\n                        </div>\n                      </div>\n                    )}\n                    {contributorProjects.length > 0 && (\n                      <div style={{ marginTop: '12px', fontSize: '13px', color: '#706e6b' }}>\n                        Total: {contributorProjects.length} contributor project{contributorProjects.length !== 1 ? 's' : ''}\n                        {!contributorProjectsHasMore && contributorProjects.length >= 1000 && ' (all entries loaded)'}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowContributorProjectsModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n    </>\n  );\n\n  if (hideHeader) {\n    return <div className=\"workstream-reporting-content-wrapper\">{content}</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      <div className=\"workstream-reporting\" style={{ marginLeft: `${sidebarWidth}px`, width: `calc(100% - ${sidebarWidth}px)`, transition: 'margin-left 0.2s ease, width 0.2s ease', minHeight: '100vh' }}>\n        <div className=\"workstream-reporting-container\">\n          <div className=\"workstream-reporting-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button\n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">\n                    WorkStream Reporting\n                  </h1>\n                  <p className=\"page-subtitle\">\n                    View workstream summary and associated project objectives\n                  </p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\">\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                </div>\n                <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                  <LogOut size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkStreamReporting;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}