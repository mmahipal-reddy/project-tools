{"ast":null,"code":"import React from'react';import{ChevronUp,ChevronDown,Download,Eye}from'lucide-react';import{exportData}from'../../../utils/crossFeature/exportService';import PreviewTable from'./PreviewTable';import'../../styles/PreviewPanel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviewPanel=_ref=>{let{data,loading,error,expanded,onToggle,reportName}=_ref;if(!expanded&&!data&&!loading){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"preview-panel \".concat(expanded?'expanded':'collapsed'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-panel-header\",onClick:onToggle,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-header-left\",children:[expanded?/*#__PURE__*/_jsx(ChevronDown,{size:18}):/*#__PURE__*/_jsx(ChevronUp,{size:18}),/*#__PURE__*/_jsx(\"h3\",{children:\"Preview\"}),data&&/*#__PURE__*/_jsxs(\"span\",{className:\"preview-count\",children:[\"(\",data.length,\" rows)\"]})]}),expanded&&data&&data.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"preview-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"preview-action-btn\",onClick:e=>{e.stopPropagation();exportData(data,reportName||'report','excel');},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\" Export\"]})})]}),expanded&&/*#__PURE__*/_jsx(\"div\",{className:\"preview-panel-content\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"preview-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading preview...\"})]}):error?/*#__PURE__*/_jsx(\"div\",{className:\"preview-error\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})}):!data||data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"preview-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No data to preview. Add fields and configure your report.\"})}):/*#__PURE__*/_jsx(PreviewTable,{data:data.slice(0,10)})})]});};export default PreviewPanel;","map":{"version":3,"names":["React","ChevronUp","ChevronDown","Download","Eye","exportData","PreviewTable","jsx","_jsx","jsxs","_jsxs","PreviewPanel","_ref","data","loading","error","expanded","onToggle","reportName","className","concat","children","onClick","size","length","e","stopPropagation","title","slice"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/AdvancedReportBuilder/PreviewPanel/PreviewPanel.js"],"sourcesContent":["import React from 'react';\nimport { ChevronUp, ChevronDown, Download, Eye } from 'lucide-react';\nimport { exportData } from '../../../utils/crossFeature/exportService';\nimport PreviewTable from './PreviewTable';\nimport '../../styles/PreviewPanel.css';\n\nconst PreviewPanel = ({ data, loading, error, expanded, onToggle, reportName }) => {\n  if (!expanded && !data && !loading) {\n    return null;\n  }\n\n  return (\n    <div className={`preview-panel ${expanded ? 'expanded' : 'collapsed'}`}>\n      <div className=\"preview-panel-header\" onClick={onToggle}>\n        <div className=\"preview-header-left\">\n          {expanded ? <ChevronDown size={18} /> : <ChevronUp size={18} />}\n          <h3>Preview</h3>\n          {data && <span className=\"preview-count\">({data.length} rows)</span>}\n        </div>\n        {expanded && data && data.length > 0 && (\n          <div className=\"preview-actions\">\n            <button\n              className=\"preview-action-btn\"\n              onClick={(e) => {\n                e.stopPropagation();\n                exportData(data, reportName || 'report', 'excel');\n              }}\n              title=\"Export to Excel\"\n            >\n              <Download size={16} /> Export\n            </button>\n          </div>\n        )}\n      </div>\n\n      {expanded && (\n        <div className=\"preview-panel-content\">\n          {loading ? (\n            <div className=\"preview-loading\">\n              <div className=\"spinner\"></div>\n              <p>Loading preview...</p>\n            </div>\n          ) : error ? (\n            <div className=\"preview-error\">\n              <p>Error: {error}</p>\n            </div>\n          ) : !data || data.length === 0 ? (\n            <div className=\"preview-empty\">\n              <p>No data to preview. Add fields and configure your report.</p>\n            </div>\n          ) : (\n            <PreviewTable data={data.slice(0, 10)} />\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PreviewPanel;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,GAAG,KAAQ,cAAc,CACpE,OAASC,UAAU,KAAQ,2CAA2C,CACtE,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA8D,IAA7D,CAAEC,IAAI,CAAEC,OAAO,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,UAAW,CAAC,CAAAN,IAAA,CAC5E,GAAI,CAACI,QAAQ,EAAI,CAACH,IAAI,EAAI,CAACC,OAAO,CAAE,CAClC,MAAO,KAAI,CACb,CAEA,mBACEJ,KAAA,QAAKS,SAAS,kBAAAC,MAAA,CAAmBJ,QAAQ,CAAG,UAAU,CAAG,WAAW,CAAG,CAAAK,QAAA,eACrEX,KAAA,QAAKS,SAAS,CAAC,sBAAsB,CAACG,OAAO,CAAEL,QAAS,CAAAI,QAAA,eACtDX,KAAA,QAAKS,SAAS,CAAC,qBAAqB,CAAAE,QAAA,EACjCL,QAAQ,cAAGR,IAAA,CAACN,WAAW,EAACqB,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGf,IAAA,CAACP,SAAS,EAACsB,IAAI,CAAE,EAAG,CAAE,CAAC,cAC/Df,IAAA,OAAAa,QAAA,CAAI,SAAO,CAAI,CAAC,CACfR,IAAI,eAAIH,KAAA,SAAMS,SAAS,CAAC,eAAe,CAAAE,QAAA,EAAC,GAAC,CAACR,IAAI,CAACW,MAAM,CAAC,QAAM,EAAM,CAAC,EACjE,CAAC,CACLR,QAAQ,EAAIH,IAAI,EAAIA,IAAI,CAACW,MAAM,CAAG,CAAC,eAClChB,IAAA,QAAKW,SAAS,CAAC,iBAAiB,CAAAE,QAAA,cAC9BX,KAAA,WACES,SAAS,CAAC,oBAAoB,CAC9BG,OAAO,CAAGG,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBrB,UAAU,CAACQ,IAAI,CAAEK,UAAU,EAAI,QAAQ,CAAE,OAAO,CAAC,CACnD,CAAE,CACFS,KAAK,CAAC,iBAAiB,CAAAN,QAAA,eAEvBb,IAAA,CAACL,QAAQ,EAACoB,IAAI,CAAE,EAAG,CAAE,CAAC,UACxB,EAAQ,CAAC,CACN,CACN,EACE,CAAC,CAELP,QAAQ,eACPR,IAAA,QAAKW,SAAS,CAAC,uBAAuB,CAAAE,QAAA,CACnCP,OAAO,cACNJ,KAAA,QAAKS,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9Bb,IAAA,QAAKW,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BX,IAAA,MAAAa,QAAA,CAAG,oBAAkB,CAAG,CAAC,EACtB,CAAC,CACJN,KAAK,cACPP,IAAA,QAAKW,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BX,KAAA,MAAAW,QAAA,EAAG,SAAO,CAACN,KAAK,EAAI,CAAC,CAClB,CAAC,CACJ,CAACF,IAAI,EAAIA,IAAI,CAACW,MAAM,GAAK,CAAC,cAC5BhB,IAAA,QAAKW,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5Bb,IAAA,MAAAa,QAAA,CAAG,2DAAyD,CAAG,CAAC,CAC7D,CAAC,cAENb,IAAA,CAACF,YAAY,EAACO,IAAI,CAAEA,IAAI,CAACe,KAAK,CAAC,CAAC,CAAE,EAAE,CAAE,CAAE,CACzC,CACE,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}