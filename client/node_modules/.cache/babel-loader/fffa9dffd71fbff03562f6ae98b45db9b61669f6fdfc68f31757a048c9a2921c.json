{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{FileText,Save,X,Filter,Eye,BarChart3,Clock,RefreshCw}from'lucide-react';import FilterBuilder from'./FilterBuilder';import FieldSelector from'./FieldSelector';import RelationshipBrowser from'./RelationshipBrowser/RelationshipBrowser';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ReportConfiguration=_ref=>{let{reportConfig,setReportConfig,availableObjects,availableFields,filterOptions,loadingFields,loading,isPreviewing,isGenerating,previewData,viewMode,onSave,onPreview,onGenerate,onSchedule,onFieldToggle,onFilterChange}=_ref;// Get all available fields including relationship fields\nconst getAllAvailableFields=()=>{const allFields=[...availableFields];// Add relationship fields from selected fields\nreportConfig.fields.forEach(fieldName=>{// Check if it's a relationship field (contains . or starts with SUBQUERY:)\nif(fieldName.includes('.')||fieldName.startsWith('SUBQUERY:')){// Check if already in allFields\nconst exists=allFields.find(f=>f.name===fieldName);if(!exists){// Extract field label from field name\nconst parts=fieldName.replace('SUBQUERY:','').split('.');const displayName=parts.length>1?\"\".concat(parts[0],\" \").concat(parts[parts.length-1]):fieldName;allFields.push({name:fieldName,label:displayName,type:'string',// Default type for relationship fields\nisRelationship:true});}}});return allFields;};const allAvailableFields=getAllAvailableFields();return/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:!viewMode?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'18px',fontWeight:'600',margin:0,display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(FileText,{size:20,color:\"#08979C\"}),\"Report Configuration\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onSave,style:{padding:'6px 12px',background:'#08979C',color:'#fff',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(Save,{size:14}),\"Save\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:'12px',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Report Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reportConfig.name,onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{name:e.target.value})),placeholder:\"Enter report name\",style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reportConfig.category,onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{category:e.target.value})),placeholder:\"Category\",style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:'12px',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Object Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:reportConfig.objectType,onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{objectType:e.target.value,fields:[],filters:{}})),style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px',background:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Object Type\"}),availableObjects.map(obj=>/*#__PURE__*/_jsx(\"option\",{value:obj.value,children:obj.label},obj.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Record Limit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:reportConfig.limit,onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{limit:parseInt(e.target.value)||1000})),min:\"1\",max:\"10000\",style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px'}})]})]}),reportConfig.objectType&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:loadingFields?/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px',textAlign:'center',color:'#666',fontSize:'12px'},children:\"Loading fields...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FieldSelector,{availableFields:availableFields,selectedFields:reportConfig.fields.filter(f=>!f.includes('.')&&!f.startsWith('SUBQUERY:')),onFieldToggle:onFieldToggle,onSelectAll:()=>{availableFields.forEach(field=>{if(!reportConfig.fields.includes(field.name)){onFieldToggle(field.name);}});},onSelectNone:()=>{reportConfig.fields.filter(f=>!f.includes('.')&&!f.startsWith('SUBQUERY:')).forEach(fieldName=>{onFieldToggle(fieldName);});}}),/*#__PURE__*/_jsx(RelationshipBrowser,{objectType:reportConfig.objectType,selectedFields:reportConfig.fields.filter(f=>f.includes('.')||f.startsWith('SUBQUERY:')),onFieldToggle:onFieldToggle,availableFields:availableFields})]})}),reportConfig.objectType&&allAvailableFields.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsx(FilterBuilder,{availableFields:allAvailableFields,filterOptions:filterOptions,filters:reportConfig.filters,onFiltersChange:newFilters=>{setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{filters:newFilters}));}})}),reportConfig.objectType&&allAvailableFields.length>0&&reportConfig.fields.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Sort By & Group By (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:reportConfig.sortBy?'1fr 1fr 1fr':'1fr 1fr',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'11px',color:'#666',marginBottom:'2px'},children:\"Group By\"}),/*#__PURE__*/_jsxs(\"select\",{value:reportConfig.groupBy||'',onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{groupBy:e.target.value})),style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px',background:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No grouping\"}),reportConfig.fields.filter(fieldName=>!fieldName.startsWith('SUBQUERY:'))// Exclude raw subquery fields\n.map(fieldName=>{const field=allAvailableFields.find(f=>f.name===fieldName);return field?/*#__PURE__*/_jsx(\"option\",{value:field.name,children:field.label||field.name},field.name):null;}),reportConfig.fields.filter(fieldName=>fieldName.startsWith('SUBQUERY:')).map(fieldName=>{const parts=fieldName.replace('SUBQUERY:','').split('.');if(parts.length>=2){const relationshipName=parts[0];const childField=parts[parts.length-1];// Add flattened fields: relationshipName.childField and relationshipName.Count\nreturn[{name:\"\".concat(relationshipName,\".\").concat(childField),label:\"\".concat(relationshipName,\" \").concat(childField)},{name:\"\".concat(relationshipName,\".Count\"),label:\"\".concat(relationshipName,\" Count\")}];}return[];}).flat().map(field=>/*#__PURE__*/_jsx(\"option\",{value:field.name,children:field.label},field.name))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'11px',color:'#666',marginBottom:'2px'},children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:reportConfig.sortBy||'',onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{sortBy:e.target.value})),style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px',background:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No sorting\"}),reportConfig.fields.filter(fieldName=>!fieldName.startsWith('SUBQUERY:'))// Exclude raw subquery fields\n.map(fieldName=>{const field=allAvailableFields.find(f=>f.name===fieldName);return field?/*#__PURE__*/_jsx(\"option\",{value:field.name,children:field.label||field.name},field.name):null;}),reportConfig.fields.filter(fieldName=>fieldName.startsWith('SUBQUERY:')).map(fieldName=>{const parts=fieldName.replace('SUBQUERY:','').split('.');if(parts.length>=2){const relationshipName=parts[0];const childField=parts[parts.length-1];// Add flattened fields: relationshipName.childField and relationshipName.Count\nreturn[{name:\"\".concat(relationshipName,\".\").concat(childField),label:\"\".concat(relationshipName,\" \").concat(childField)},{name:\"\".concat(relationshipName,\".Count\"),label:\"\".concat(relationshipName,\" Count\")}];}return[];}).flat().map(field=>/*#__PURE__*/_jsx(\"option\",{value:field.name,children:field.label},field.name))]})]}),reportConfig.sortBy&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'11px',color:'#666',marginBottom:'2px'},children:\"Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:reportConfig.sortOrder,onChange:e=>setReportConfig(_objectSpread(_objectSpread({},reportConfig),{},{sortOrder:e.target.value})),style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px',background:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"ASC\",children:\"Ascending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DESC\",children:\"Descending\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap',marginTop:'16px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"preview-report-button\",onClick:e=>{console.log('[Preview Button] Clicked');e.preventDefault();e.stopPropagation();if(e.nativeEvent){e.nativeEvent.stopImmediatePropagation();}// Only call if not already processing\nif(!isPreviewing&&!isGenerating&&reportConfig.objectType&&reportConfig.fields.length>0){console.log('[Preview Button] Calling onPreview');onPreview(e);}else{console.log('[Preview Button] Skipping - conditions not met',{isPreviewing,isGenerating,objectType:reportConfig.objectType,fieldsLength:reportConfig.fields.length});}},disabled:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0,style:{flex:1,padding:'8px 14px',background:'#08979C',color:'#fff',border:'none',borderRadius:'4px',cursor:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0?'not-allowed':'pointer',fontSize:'12px',fontWeight:'600',fontFamily:'Poppins',opacity:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0?0.6:1,display:'flex',alignItems:'center',justifyContent:'center',gap:'6px',minWidth:'120px',position:'relative',zIndex:1},children:isPreviewing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{size:14,className:\"spinner\"}),\"Previewing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Eye,{size:14}),\"Preview\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"generate-report-button\",onClick:e=>{console.log('[Generate Button] Clicked');e.preventDefault();e.stopPropagation();if(e.nativeEvent){e.nativeEvent.stopImmediatePropagation();}// Only call if not already processing\nif(!isPreviewing&&!isGenerating&&reportConfig.objectType&&reportConfig.fields.length>0){console.log('[Generate Button] Calling onGenerate');onGenerate(e);}else{console.log('[Generate Button] Skipping - conditions not met',{isPreviewing,isGenerating,objectType:reportConfig.objectType,fieldsLength:reportConfig.fields.length});}},disabled:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0,style:{flex:1,padding:'8px 14px',background:'#08979C',color:'#fff',border:'none',borderRadius:'4px',cursor:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0?'not-allowed':'pointer',fontSize:'12px',fontWeight:'600',fontFamily:'Poppins',opacity:isPreviewing||isGenerating||!reportConfig.objectType||reportConfig.fields.length===0?0.6:1,display:'flex',alignItems:'center',justifyContent:'center',gap:'6px',minWidth:'120px',position:'relative',zIndex:1},children:isGenerating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{size:14,className:\"spinner\"}),\"Generating...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BarChart3,{size:14}),\"Generate Report\"]})}),previewData&&previewData.length>0&&!viewMode&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:e=>{e.preventDefault();e.stopPropagation();onSchedule();},style:{padding:'8px 14px',background:'#08979C',color:'#fff',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Clock,{size:14}),\"Schedule\"]})]})]}):null});};export default ReportConfiguration;","map":{"version":3,"names":["React","useState","FileText","Save","X","Filter","Eye","BarChart3","Clock","RefreshCw","FilterBuilder","FieldSelector","RelationshipBrowser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReportConfiguration","_ref","reportConfig","setReportConfig","availableObjects","availableFields","filterOptions","loadingFields","loading","isPreviewing","isGenerating","previewData","viewMode","onSave","onPreview","onGenerate","onSchedule","onFieldToggle","onFilterChange","getAllAvailableFields","allFields","fields","forEach","fieldName","includes","startsWith","exists","find","f","name","parts","replace","split","displayName","length","concat","push","label","type","isRelationship","allAvailableFields","style","flex","children","display","justifyContent","alignItems","marginBottom","fontSize","fontWeight","margin","gap","size","color","onClick","padding","background","border","borderRadius","cursor","fontFamily","gridTemplateColumns","value","onChange","e","_objectSpread","target","placeholder","width","category","objectType","filters","map","obj","limit","parseInt","min","max","textAlign","selectedFields","filter","onSelectAll","field","onSelectNone","onFiltersChange","newFilters","sortBy","groupBy","relationshipName","childField","flat","sortOrder","flexWrap","marginTop","id","console","log","preventDefault","stopPropagation","nativeEvent","stopImmediatePropagation","fieldsLength","disabled","opacity","minWidth","position","zIndex","className"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/ReportConfiguration.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { FileText, Save, X, Filter, Eye, BarChart3, Clock, RefreshCw } from 'lucide-react';\nimport FilterBuilder from './FilterBuilder';\nimport FieldSelector from './FieldSelector';\nimport RelationshipBrowser from './RelationshipBrowser/RelationshipBrowser';\n\nconst ReportConfiguration = ({\n  reportConfig,\n  setReportConfig,\n  availableObjects,\n  availableFields,\n  filterOptions,\n  loadingFields,\n  loading,\n  isPreviewing,\n  isGenerating,\n  previewData,\n  viewMode,\n  onSave,\n  onPreview,\n  onGenerate,\n  onSchedule,\n  onFieldToggle,\n  onFilterChange\n}) => {\n  // Get all available fields including relationship fields\n  const getAllAvailableFields = () => {\n    const allFields = [...availableFields];\n    \n    // Add relationship fields from selected fields\n    reportConfig.fields.forEach(fieldName => {\n      // Check if it's a relationship field (contains . or starts with SUBQUERY:)\n      if (fieldName.includes('.') || fieldName.startsWith('SUBQUERY:')) {\n        // Check if already in allFields\n        const exists = allFields.find(f => f.name === fieldName);\n        if (!exists) {\n          // Extract field label from field name\n          const parts = fieldName.replace('SUBQUERY:', '').split('.');\n          const displayName = parts.length > 1 ? `${parts[0]} ${parts[parts.length - 1]}` : fieldName;\n          allFields.push({\n            name: fieldName,\n            label: displayName,\n            type: 'string', // Default type for relationship fields\n            isRelationship: true\n          });\n        }\n      }\n    });\n    \n    return allFields;\n  };\n  \n  const allAvailableFields = getAllAvailableFields();\n  return (\n    <div style={{ flex: 1 }}>\n      {!viewMode ? (\n        <div>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n            <h2 style={{ fontSize: '18px', fontWeight: '600', margin: 0, display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <FileText size={20} color=\"#08979C\" />\n              Report Configuration\n            </h2>\n            <button\n              onClick={onSave}\n              style={{\n                padding: '6px 12px',\n                background: '#08979C',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '12px',\n                fontWeight: '600',\n                fontFamily: 'Poppins',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px'\n              }}\n            >\n              <Save size={14} />\n              Save\n            </button>\n          </div>\n\n          {/* Report Name and Category in one row */}\n          <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '12px', marginBottom: '12px' }}>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                Report Name *\n              </label>\n              <input\n                type=\"text\"\n                value={reportConfig.name}\n                onChange={(e) => setReportConfig({ ...reportConfig, name: e.target.value })}\n                placeholder=\"Enter report name\"\n                style={{\n                  width: '100%',\n                  padding: '6px 10px',\n                  border: '1px solid #d9d9d9',\n                  borderRadius: '4px',\n                  fontSize: '12px'\n                }}\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                Category\n              </label>\n              <input\n                type=\"text\"\n                value={reportConfig.category}\n                onChange={(e) => setReportConfig({ ...reportConfig, category: e.target.value })}\n                placeholder=\"Category\"\n                style={{\n                  width: '100%',\n                  padding: '6px 10px',\n                  border: '1px solid #d9d9d9',\n                  borderRadius: '4px',\n                  fontSize: '12px'\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Object Type and Record Limit in one row */}\n          <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '12px', marginBottom: '12px' }}>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                Object Type *\n              </label>\n              <select\n                value={reportConfig.objectType}\n                onChange={(e) => setReportConfig({ ...reportConfig, objectType: e.target.value, fields: [], filters: {} })}\n                style={{\n                  width: '100%',\n                  padding: '6px 10px',\n                  border: '1px solid #d9d9d9',\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  background: '#fff'\n                }}\n              >\n                <option value=\"\">Select Object Type</option>\n                {availableObjects.map(obj => (\n                  <option key={obj.value} value={obj.value}>{obj.label}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                Record Limit\n              </label>\n              <input\n                type=\"number\"\n                value={reportConfig.limit}\n                onChange={(e) => setReportConfig({ ...reportConfig, limit: parseInt(e.target.value) || 1000 })}\n                min=\"1\"\n                max=\"10000\"\n                style={{\n                  width: '100%',\n                  padding: '6px 10px',\n                  border: '1px solid #d9d9d9',\n                  borderRadius: '4px',\n                  fontSize: '12px'\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Fields Selection */}\n          {reportConfig.objectType && (\n            <div style={{ marginBottom: '12px' }}>\n              {loadingFields ? (\n                <div style={{ padding: '16px', textAlign: 'center', color: '#666', fontSize: '12px' }}>Loading fields...</div>\n              ) : (\n                <>\n                  <FieldSelector\n                    availableFields={availableFields}\n                    selectedFields={reportConfig.fields.filter(f => !f.includes('.') && !f.startsWith('SUBQUERY:'))}\n                    onFieldToggle={onFieldToggle}\n                    onSelectAll={() => {\n                      availableFields.forEach(field => {\n                        if (!reportConfig.fields.includes(field.name)) {\n                          onFieldToggle(field.name);\n                        }\n                      });\n                    }}\n                    onSelectNone={() => {\n                      reportConfig.fields\n                        .filter(f => !f.includes('.') && !f.startsWith('SUBQUERY:'))\n                        .forEach(fieldName => {\n                          onFieldToggle(fieldName);\n                        });\n                    }}\n                  />\n                  \n                  {/* Relationship Browser for Cross-Object Fields */}\n                  <RelationshipBrowser\n                    objectType={reportConfig.objectType}\n                    selectedFields={reportConfig.fields.filter(f => f.includes('.') || f.startsWith('SUBQUERY:'))}\n                    onFieldToggle={onFieldToggle}\n                    availableFields={availableFields}\n                  />\n                </>\n              )}\n            </div>\n          )}\n\n          {/* Advanced Filters */}\n          {reportConfig.objectType && allAvailableFields.length > 0 && (\n            <div style={{ marginBottom: '12px' }}>\n              <FilterBuilder\n                availableFields={allAvailableFields}\n                filterOptions={filterOptions}\n                filters={reportConfig.filters}\n                onFiltersChange={(newFilters) => {\n                  setReportConfig({ ...reportConfig, filters: newFilters });\n                }}\n              />\n            </div>\n          )}\n\n          {/* Sort and Group By Options */}\n          {reportConfig.objectType && allAvailableFields.length > 0 && reportConfig.fields.length > 0 && (\n            <div style={{ marginBottom: '12px' }}>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                Sort By & Group By (Optional)\n              </label>\n              <div style={{ display: 'grid', gridTemplateColumns: reportConfig.sortBy ? '1fr 1fr 1fr' : '1fr 1fr', gap: '8px' }}>\n                <div>\n                  <label style={{ display: 'block', fontSize: '11px', color: '#666', marginBottom: '2px' }}>Group By</label>\n                  <select\n                    value={reportConfig.groupBy || ''}\n                    onChange={(e) => setReportConfig({ ...reportConfig, groupBy: e.target.value })}\n                    style={{\n                      width: '100%',\n                      padding: '6px 10px',\n                      border: '1px solid #d9d9d9',\n                      borderRadius: '4px',\n                      fontSize: '12px',\n                      background: '#fff'\n                    }}\n                  >\n                    <option value=\"\">No grouping</option>\n                    {reportConfig.fields\n                      .filter(fieldName => !fieldName.startsWith('SUBQUERY:')) // Exclude raw subquery fields\n                      .map(fieldName => {\n                        const field = allAvailableFields.find(f => f.name === fieldName);\n                        return field ? (\n                          <option key={field.name} value={field.name}>{field.label || field.name}</option>\n                        ) : null;\n                      })}\n                    {/* Add flattened subquery fields for grouping */}\n                    {reportConfig.fields\n                      .filter(fieldName => fieldName.startsWith('SUBQUERY:'))\n                      .map(fieldName => {\n                        const parts = fieldName.replace('SUBQUERY:', '').split('.');\n                        if (parts.length >= 2) {\n                          const relationshipName = parts[0];\n                          const childField = parts[parts.length - 1];\n                          // Add flattened fields: relationshipName.childField and relationshipName.Count\n                          return [\n                            { name: `${relationshipName}.${childField}`, label: `${relationshipName} ${childField}` },\n                            { name: `${relationshipName}.Count`, label: `${relationshipName} Count` }\n                          ];\n                        }\n                        return [];\n                      })\n                      .flat()\n                      .map(field => (\n                        <option key={field.name} value={field.name}>{field.label}</option>\n                      ))}\n                  </select>\n                </div>\n                <div>\n                  <label style={{ display: 'block', fontSize: '11px', color: '#666', marginBottom: '2px' }}>Sort By</label>\n                  <select\n                    value={reportConfig.sortBy || ''}\n                    onChange={(e) => setReportConfig({ ...reportConfig, sortBy: e.target.value })}\n                    style={{\n                      width: '100%',\n                      padding: '6px 10px',\n                      border: '1px solid #d9d9d9',\n                      borderRadius: '4px',\n                      fontSize: '12px',\n                      background: '#fff'\n                    }}\n                  >\n                    <option value=\"\">No sorting</option>\n                    {reportConfig.fields\n                      .filter(fieldName => !fieldName.startsWith('SUBQUERY:')) // Exclude raw subquery fields\n                      .map(fieldName => {\n                        const field = allAvailableFields.find(f => f.name === fieldName);\n                        return field ? (\n                          <option key={field.name} value={field.name}>{field.label || field.name}</option>\n                        ) : null;\n                      })}\n                    {/* Add flattened subquery fields for sorting */}\n                    {reportConfig.fields\n                      .filter(fieldName => fieldName.startsWith('SUBQUERY:'))\n                      .map(fieldName => {\n                        const parts = fieldName.replace('SUBQUERY:', '').split('.');\n                        if (parts.length >= 2) {\n                          const relationshipName = parts[0];\n                          const childField = parts[parts.length - 1];\n                          // Add flattened fields: relationshipName.childField and relationshipName.Count\n                          return [\n                            { name: `${relationshipName}.${childField}`, label: `${relationshipName} ${childField}` },\n                            { name: `${relationshipName}.Count`, label: `${relationshipName} Count` }\n                          ];\n                        }\n                        return [];\n                      })\n                      .flat()\n                      .map(field => (\n                        <option key={field.name} value={field.name}>{field.label}</option>\n                      ))}\n                  </select>\n                </div>\n                {reportConfig.sortBy && (\n                  <div>\n                    <label style={{ display: 'block', fontSize: '11px', color: '#666', marginBottom: '2px' }}>Order</label>\n                    <select\n                      value={reportConfig.sortOrder}\n                      onChange={(e) => setReportConfig({ ...reportConfig, sortOrder: e.target.value })}\n                      style={{\n                        width: '100%',\n                        padding: '6px 10px',\n                        border: '1px solid #d9d9d9',\n                        borderRadius: '4px',\n                        fontSize: '12px',\n                        background: '#fff'\n                      }}\n                    >\n                      <option value=\"ASC\">Ascending</option>\n                      <option value=\"DESC\">Descending</option>\n                    </select>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Actions */}\n          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap', marginTop: '16px' }}>\n            <button\n              type=\"button\"\n              id=\"preview-report-button\"\n              onClick={(e) => {\n                console.log('[Preview Button] Clicked');\n                e.preventDefault();\n                e.stopPropagation();\n                if (e.nativeEvent) {\n                  e.nativeEvent.stopImmediatePropagation();\n                }\n                // Only call if not already processing\n                if (!isPreviewing && !isGenerating && reportConfig.objectType && reportConfig.fields.length > 0) {\n                  console.log('[Preview Button] Calling onPreview');\n                  onPreview(e);\n                } else {\n                  console.log('[Preview Button] Skipping - conditions not met', { isPreviewing, isGenerating, objectType: reportConfig.objectType, fieldsLength: reportConfig.fields.length });\n                }\n              }}\n              disabled={isPreviewing || isGenerating || !reportConfig.objectType || reportConfig.fields.length === 0}\n              style={{\n                flex: 1,\n                padding: '8px 14px',\n                background: '#08979C',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: (isPreviewing || isGenerating || !reportConfig.objectType || reportConfig.fields.length === 0) ? 'not-allowed' : 'pointer',\n                fontSize: '12px',\n                fontWeight: '600',\n                fontFamily: 'Poppins',\n                opacity: ((isPreviewing || isGenerating) || !reportConfig.objectType || reportConfig.fields.length === 0) ? 0.6 : 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '6px',\n                minWidth: '120px',\n                position: 'relative',\n                zIndex: 1\n              }}\n            >\n              {isPreviewing ? (\n                <>\n                  <RefreshCw size={14} className=\"spinner\" />\n                  Previewing...\n                </>\n              ) : (\n                <>\n                  <Eye size={14} />\n                  Preview\n                </>\n              )}\n            </button>\n            <button\n              type=\"button\"\n              id=\"generate-report-button\"\n              onClick={(e) => {\n                console.log('[Generate Button] Clicked');\n                e.preventDefault();\n                e.stopPropagation();\n                if (e.nativeEvent) {\n                  e.nativeEvent.stopImmediatePropagation();\n                }\n                // Only call if not already processing\n                if (!isPreviewing && !isGenerating && reportConfig.objectType && reportConfig.fields.length > 0) {\n                  console.log('[Generate Button] Calling onGenerate');\n                  onGenerate(e);\n                } else {\n                  console.log('[Generate Button] Skipping - conditions not met', { isPreviewing, isGenerating, objectType: reportConfig.objectType, fieldsLength: reportConfig.fields.length });\n                }\n              }}\n              disabled={isPreviewing || isGenerating || !reportConfig.objectType || reportConfig.fields.length === 0}\n              style={{\n                flex: 1,\n                padding: '8px 14px',\n                background: '#08979C',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: (isPreviewing || isGenerating || !reportConfig.objectType || reportConfig.fields.length === 0) ? 'not-allowed' : 'pointer',\n                fontSize: '12px',\n                fontWeight: '600',\n                fontFamily: 'Poppins',\n                opacity: ((isPreviewing || isGenerating) || !reportConfig.objectType || reportConfig.fields.length === 0) ? 0.6 : 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '6px',\n                minWidth: '120px',\n                position: 'relative',\n                zIndex: 1\n              }}\n            >\n              {isGenerating ? (\n                <>\n                  <RefreshCw size={14} className=\"spinner\" />\n                  Generating...\n                </>\n              ) : (\n                <>\n                  <BarChart3 size={14} />\n                  Generate Report\n                </>\n              )}\n            </button>\n            {previewData && previewData.length > 0 && !viewMode && (\n              <button\n                type=\"button\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  onSchedule();\n                }}\n                style={{\n                  padding: '8px 14px',\n                  background: '#08979C',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  fontFamily: 'Poppins',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px'\n                }}\n              >\n                <Clock size={14} />\n                Schedule\n              </button>\n            )}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ReportConfiguration;\n\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,CAAEC,IAAI,CAAEC,CAAC,CAAEC,MAAM,CAAEC,GAAG,CAAEC,SAAS,CAAEC,KAAK,CAAEC,SAAS,KAAQ,cAAc,CAC1F,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,mBAAmB,KAAM,2CAA2C,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE5E,KAAM,CAAAC,mBAAmB,CAAGC,IAAA,EAkBtB,IAlBuB,CAC3BC,YAAY,CACZC,eAAe,CACfC,gBAAgB,CAChBC,eAAe,CACfC,aAAa,CACbC,aAAa,CACbC,OAAO,CACPC,YAAY,CACZC,YAAY,CACZC,WAAW,CACXC,QAAQ,CACRC,MAAM,CACNC,SAAS,CACTC,UAAU,CACVC,UAAU,CACVC,aAAa,CACbC,cACF,CAAC,CAAAjB,IAAA,CACC;AACA,KAAM,CAAAkB,qBAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,SAAS,CAAG,CAAC,GAAGf,eAAe,CAAC,CAEtC;AACAH,YAAY,CAACmB,MAAM,CAACC,OAAO,CAACC,SAAS,EAAI,CACvC;AACA,GAAIA,SAAS,CAACC,QAAQ,CAAC,GAAG,CAAC,EAAID,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC,CAAE,CAChE;AACA,KAAM,CAAAC,MAAM,CAAGN,SAAS,CAACO,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAKN,SAAS,CAAC,CACxD,GAAI,CAACG,MAAM,CAAE,CACX;AACA,KAAM,CAAAI,KAAK,CAAGP,SAAS,CAACQ,OAAO,CAAC,WAAW,CAAE,EAAE,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAC3D,KAAM,CAAAC,WAAW,CAAGH,KAAK,CAACI,MAAM,CAAG,CAAC,IAAAC,MAAA,CAAML,KAAK,CAAC,CAAC,CAAC,MAAAK,MAAA,CAAIL,KAAK,CAACA,KAAK,CAACI,MAAM,CAAG,CAAC,CAAC,EAAKX,SAAS,CAC3FH,SAAS,CAACgB,IAAI,CAAC,CACbP,IAAI,CAAEN,SAAS,CACfc,KAAK,CAAEJ,WAAW,CAClBK,IAAI,CAAE,QAAQ,CAAE;AAChBC,cAAc,CAAE,IAClB,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CAEF,MAAO,CAAAnB,SAAS,CAClB,CAAC,CAED,KAAM,CAAAoB,kBAAkB,CAAGrB,qBAAqB,CAAC,CAAC,CAClD,mBACExB,IAAA,QAAK8C,KAAK,CAAE,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAC,QAAA,CACrB,CAAC/B,QAAQ,cACRf,KAAA,QAAA8C,QAAA,eACE9C,KAAA,QAAK4C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,eAC3G9C,KAAA,OAAI4C,KAAK,CAAE,CAAEO,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEC,MAAM,CAAE,CAAC,CAAEN,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEK,GAAG,CAAE,KAAM,CAAE,CAAAR,QAAA,eAC/GhD,IAAA,CAACZ,QAAQ,EAACqE,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,uBAExC,EAAI,CAAC,cACLxD,KAAA,WACEyD,OAAO,CAAEzC,MAAO,CAChB4B,KAAK,CAAE,CACLc,OAAO,CAAE,UAAU,CACnBC,UAAU,CAAE,SAAS,CACrBH,KAAK,CAAE,MAAM,CACbI,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SAAS,CACjBX,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBW,UAAU,CAAE,SAAS,CACrBhB,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBK,GAAG,CAAE,KACP,CAAE,CAAAR,QAAA,eAEFhD,IAAA,CAACX,IAAI,EAACoE,IAAI,CAAE,EAAG,CAAE,CAAC,OAEpB,EAAQ,CAAC,EACN,CAAC,cAGNvD,KAAA,QAAK4C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEiB,mBAAmB,CAAE,SAAS,CAAEV,GAAG,CAAE,MAAM,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,eACjG9C,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,eAE9F,CAAO,CAAC,cACRhD,IAAA,UACE2C,IAAI,CAAC,MAAM,CACXwB,KAAK,CAAE5D,YAAY,CAAC2B,IAAK,CACzBkC,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAE2B,IAAI,CAAEmC,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAC5EK,WAAW,CAAC,mBAAmB,CAC/B1B,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,cACNnD,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,UAE9F,CAAO,CAAC,cACRhD,IAAA,UACE2C,IAAI,CAAC,MAAM,CACXwB,KAAK,CAAE5D,YAAY,CAACmE,QAAS,CAC7BN,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEmE,QAAQ,CAAEL,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAChFK,WAAW,CAAC,UAAU,CACtB1B,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,cAGNnD,KAAA,QAAK4C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEiB,mBAAmB,CAAE,SAAS,CAAEV,GAAG,CAAE,MAAM,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,eACjG9C,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,eAE9F,CAAO,CAAC,cACR9C,KAAA,WACEiE,KAAK,CAAE5D,YAAY,CAACoE,UAAW,CAC/BP,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEoE,UAAU,CAAEN,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAEzC,MAAM,CAAE,EAAE,CAAEkD,OAAO,CAAE,CAAC,CAAC,EAAE,CAAE,CAC3G9B,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MAAM,CAChBQ,UAAU,CAAE,MACd,CAAE,CAAAb,QAAA,eAEFhD,IAAA,WAAQmE,KAAK,CAAC,EAAE,CAAAnB,QAAA,CAAC,oBAAkB,CAAQ,CAAC,CAC3CvC,gBAAgB,CAACoE,GAAG,CAACC,GAAG,eACvB9E,IAAA,WAAwBmE,KAAK,CAAEW,GAAG,CAACX,KAAM,CAAAnB,QAAA,CAAE8B,GAAG,CAACpC,KAAK,EAAvCoC,GAAG,CAACX,KAA4C,CAC9D,CAAC,EACI,CAAC,EACN,CAAC,cACNjE,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,cAE9F,CAAO,CAAC,cACRhD,IAAA,UACE2C,IAAI,CAAC,QAAQ,CACbwB,KAAK,CAAE5D,YAAY,CAACwE,KAAM,CAC1BX,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEwE,KAAK,CAAEC,QAAQ,CAACX,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,EAAI,IAAI,EAAE,CAAE,CAC/Fc,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,OAAO,CACXpC,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,CAGL9C,YAAY,CAACoE,UAAU,eACtB3E,IAAA,QAAK8C,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAClCpC,aAAa,cACZZ,IAAA,QAAK8C,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEuB,SAAS,CAAE,QAAQ,CAAEzB,KAAK,CAAE,MAAM,CAAEL,QAAQ,CAAE,MAAO,CAAE,CAAAL,QAAA,CAAC,mBAAiB,CAAK,CAAC,cAE9G9C,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACEhD,IAAA,CAACH,aAAa,EACZa,eAAe,CAAEA,eAAgB,CACjC0E,cAAc,CAAE7E,YAAY,CAACmB,MAAM,CAAC2D,MAAM,CAACpD,CAAC,EAAI,CAACA,CAAC,CAACJ,QAAQ,CAAC,GAAG,CAAC,EAAI,CAACI,CAAC,CAACH,UAAU,CAAC,WAAW,CAAC,CAAE,CAChGR,aAAa,CAAEA,aAAc,CAC7BgE,WAAW,CAAEA,CAAA,GAAM,CACjB5E,eAAe,CAACiB,OAAO,CAAC4D,KAAK,EAAI,CAC/B,GAAI,CAAChF,YAAY,CAACmB,MAAM,CAACG,QAAQ,CAAC0D,KAAK,CAACrD,IAAI,CAAC,CAAE,CAC7CZ,aAAa,CAACiE,KAAK,CAACrD,IAAI,CAAC,CAC3B,CACF,CAAC,CAAC,CACJ,CAAE,CACFsD,YAAY,CAAEA,CAAA,GAAM,CAClBjF,YAAY,CAACmB,MAAM,CAChB2D,MAAM,CAACpD,CAAC,EAAI,CAACA,CAAC,CAACJ,QAAQ,CAAC,GAAG,CAAC,EAAI,CAACI,CAAC,CAACH,UAAU,CAAC,WAAW,CAAC,CAAC,CAC3DH,OAAO,CAACC,SAAS,EAAI,CACpBN,aAAa,CAACM,SAAS,CAAC,CAC1B,CAAC,CAAC,CACN,CAAE,CACH,CAAC,cAGF5B,IAAA,CAACF,mBAAmB,EAClB6E,UAAU,CAAEpE,YAAY,CAACoE,UAAW,CACpCS,cAAc,CAAE7E,YAAY,CAACmB,MAAM,CAAC2D,MAAM,CAACpD,CAAC,EAAIA,CAAC,CAACJ,QAAQ,CAAC,GAAG,CAAC,EAAII,CAAC,CAACH,UAAU,CAAC,WAAW,CAAC,CAAE,CAC9FR,aAAa,CAAEA,aAAc,CAC7BZ,eAAe,CAAEA,eAAgB,CAClC,CAAC,EACF,CACH,CACE,CACN,CAGAH,YAAY,CAACoE,UAAU,EAAI9B,kBAAkB,CAACN,MAAM,CAAG,CAAC,eACvDvC,IAAA,QAAK8C,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,cACnChD,IAAA,CAACJ,aAAa,EACZc,eAAe,CAAEmC,kBAAmB,CACpClC,aAAa,CAAEA,aAAc,CAC7BiE,OAAO,CAAErE,YAAY,CAACqE,OAAQ,CAC9Ba,eAAe,CAAGC,UAAU,EAAK,CAC/BlF,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEqE,OAAO,CAAEc,UAAU,EAAE,CAAC,CAC3D,CAAE,CACH,CAAC,CACC,CACN,CAGAnF,YAAY,CAACoE,UAAU,EAAI9B,kBAAkB,CAACN,MAAM,CAAG,CAAC,EAAIhC,YAAY,CAACmB,MAAM,CAACa,MAAM,CAAG,CAAC,eACzFrC,KAAA,QAAK4C,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,eACnChD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,+BAE9F,CAAO,CAAC,cACR9C,KAAA,QAAK4C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEiB,mBAAmB,CAAE3D,YAAY,CAACoF,MAAM,CAAG,aAAa,CAAG,SAAS,CAAEnC,GAAG,CAAE,KAAM,CAAE,CAAAR,QAAA,eAChH9C,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEK,KAAK,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1G9C,KAAA,WACEiE,KAAK,CAAE5D,YAAY,CAACqF,OAAO,EAAI,EAAG,CAClCxB,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEqF,OAAO,CAAEvB,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAC/ErB,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MAAM,CAChBQ,UAAU,CAAE,MACd,CAAE,CAAAb,QAAA,eAEFhD,IAAA,WAAQmE,KAAK,CAAC,EAAE,CAAAnB,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpCzC,YAAY,CAACmB,MAAM,CACjB2D,MAAM,CAACzD,SAAS,EAAI,CAACA,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC,CAAE;AAAA,CACxD+C,GAAG,CAACjD,SAAS,EAAI,CAChB,KAAM,CAAA2D,KAAK,CAAG1C,kBAAkB,CAACb,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAKN,SAAS,CAAC,CAChE,MAAO,CAAA2D,KAAK,cACVvF,IAAA,WAAyBmE,KAAK,CAAEoB,KAAK,CAACrD,IAAK,CAAAc,QAAA,CAAEuC,KAAK,CAAC7C,KAAK,EAAI6C,KAAK,CAACrD,IAAI,EAAzDqD,KAAK,CAACrD,IAA4D,CAAC,CAC9E,IAAI,CACV,CAAC,CAAC,CAEH3B,YAAY,CAACmB,MAAM,CACjB2D,MAAM,CAACzD,SAAS,EAAIA,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC,CAAC,CACtD+C,GAAG,CAACjD,SAAS,EAAI,CAChB,KAAM,CAAAO,KAAK,CAAGP,SAAS,CAACQ,OAAO,CAAC,WAAW,CAAE,EAAE,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAC3D,GAAIF,KAAK,CAACI,MAAM,EAAI,CAAC,CAAE,CACrB,KAAM,CAAAsD,gBAAgB,CAAG1D,KAAK,CAAC,CAAC,CAAC,CACjC,KAAM,CAAA2D,UAAU,CAAG3D,KAAK,CAACA,KAAK,CAACI,MAAM,CAAG,CAAC,CAAC,CAC1C;AACA,MAAO,CACL,CAAEL,IAAI,IAAAM,MAAA,CAAKqD,gBAAgB,MAAArD,MAAA,CAAIsD,UAAU,CAAE,CAAEpD,KAAK,IAAAF,MAAA,CAAKqD,gBAAgB,MAAArD,MAAA,CAAIsD,UAAU,CAAG,CAAC,CACzF,CAAE5D,IAAI,IAAAM,MAAA,CAAKqD,gBAAgB,UAAQ,CAAEnD,KAAK,IAAAF,MAAA,CAAKqD,gBAAgB,UAAS,CAAC,CAC1E,CACH,CACA,MAAO,EAAE,CACX,CAAC,CAAC,CACDE,IAAI,CAAC,CAAC,CACNlB,GAAG,CAACU,KAAK,eACRvF,IAAA,WAAyBmE,KAAK,CAAEoB,KAAK,CAACrD,IAAK,CAAAc,QAAA,CAAEuC,KAAK,CAAC7C,KAAK,EAA3C6C,KAAK,CAACrD,IAA8C,CAClE,CAAC,EACE,CAAC,EACN,CAAC,cACNhC,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEK,KAAK,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,SAAO,CAAO,CAAC,cACzG9C,KAAA,WACEiE,KAAK,CAAE5D,YAAY,CAACoF,MAAM,EAAI,EAAG,CACjCvB,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEoF,MAAM,CAAEtB,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAC9ErB,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MAAM,CAChBQ,UAAU,CAAE,MACd,CAAE,CAAAb,QAAA,eAEFhD,IAAA,WAAQmE,KAAK,CAAC,EAAE,CAAAnB,QAAA,CAAC,YAAU,CAAQ,CAAC,CACnCzC,YAAY,CAACmB,MAAM,CACjB2D,MAAM,CAACzD,SAAS,EAAI,CAACA,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC,CAAE;AAAA,CACxD+C,GAAG,CAACjD,SAAS,EAAI,CAChB,KAAM,CAAA2D,KAAK,CAAG1C,kBAAkB,CAACb,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAKN,SAAS,CAAC,CAChE,MAAO,CAAA2D,KAAK,cACVvF,IAAA,WAAyBmE,KAAK,CAAEoB,KAAK,CAACrD,IAAK,CAAAc,QAAA,CAAEuC,KAAK,CAAC7C,KAAK,EAAI6C,KAAK,CAACrD,IAAI,EAAzDqD,KAAK,CAACrD,IAA4D,CAAC,CAC9E,IAAI,CACV,CAAC,CAAC,CAEH3B,YAAY,CAACmB,MAAM,CACjB2D,MAAM,CAACzD,SAAS,EAAIA,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC,CAAC,CACtD+C,GAAG,CAACjD,SAAS,EAAI,CAChB,KAAM,CAAAO,KAAK,CAAGP,SAAS,CAACQ,OAAO,CAAC,WAAW,CAAE,EAAE,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAC3D,GAAIF,KAAK,CAACI,MAAM,EAAI,CAAC,CAAE,CACrB,KAAM,CAAAsD,gBAAgB,CAAG1D,KAAK,CAAC,CAAC,CAAC,CACjC,KAAM,CAAA2D,UAAU,CAAG3D,KAAK,CAACA,KAAK,CAACI,MAAM,CAAG,CAAC,CAAC,CAC1C;AACA,MAAO,CACL,CAAEL,IAAI,IAAAM,MAAA,CAAKqD,gBAAgB,MAAArD,MAAA,CAAIsD,UAAU,CAAE,CAAEpD,KAAK,IAAAF,MAAA,CAAKqD,gBAAgB,MAAArD,MAAA,CAAIsD,UAAU,CAAG,CAAC,CACzF,CAAE5D,IAAI,IAAAM,MAAA,CAAKqD,gBAAgB,UAAQ,CAAEnD,KAAK,IAAAF,MAAA,CAAKqD,gBAAgB,UAAS,CAAC,CAC1E,CACH,CACA,MAAO,EAAE,CACX,CAAC,CAAC,CACDE,IAAI,CAAC,CAAC,CACNlB,GAAG,CAACU,KAAK,eACRvF,IAAA,WAAyBmE,KAAK,CAAEoB,KAAK,CAACrD,IAAK,CAAAc,QAAA,CAAEuC,KAAK,CAAC7C,KAAK,EAA3C6C,KAAK,CAACrD,IAA8C,CAClE,CAAC,EACE,CAAC,EACN,CAAC,CACL3B,YAAY,CAACoF,MAAM,eAClBzF,KAAA,QAAA8C,QAAA,eACEhD,IAAA,UAAO8C,KAAK,CAAE,CAAEG,OAAO,CAAE,OAAO,CAAEI,QAAQ,CAAE,MAAM,CAAEK,KAAK,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,OAAK,CAAO,CAAC,cACvG9C,KAAA,WACEiE,KAAK,CAAE5D,YAAY,CAACyF,SAAU,CAC9B5B,QAAQ,CAAGC,CAAC,EAAK7D,eAAe,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,YAAY,MAAEyF,SAAS,CAAE3B,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CACjFrB,KAAK,CAAE,CACL2B,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,UAAU,CACnBE,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBV,QAAQ,CAAE,MAAM,CAChBQ,UAAU,CAAE,MACd,CAAE,CAAAb,QAAA,eAEFhD,IAAA,WAAQmE,KAAK,CAAC,KAAK,CAAAnB,QAAA,CAAC,WAAS,CAAQ,CAAC,cACtChD,IAAA,WAAQmE,KAAK,CAAC,MAAM,CAAAnB,QAAA,CAAC,YAAU,CAAQ,CAAC,EAClC,CAAC,EACN,CACN,EACE,CAAC,EACH,CACN,cAGD9C,KAAA,QAAK4C,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEO,GAAG,CAAE,KAAK,CAAEyC,QAAQ,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAlD,QAAA,eAC/EhD,IAAA,WACE2C,IAAI,CAAC,QAAQ,CACbwD,EAAE,CAAC,uBAAuB,CAC1BxC,OAAO,CAAGU,CAAC,EAAK,CACd+B,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvChC,CAAC,CAACiC,cAAc,CAAC,CAAC,CAClBjC,CAAC,CAACkC,eAAe,CAAC,CAAC,CACnB,GAAIlC,CAAC,CAACmC,WAAW,CAAE,CACjBnC,CAAC,CAACmC,WAAW,CAACC,wBAAwB,CAAC,CAAC,CAC1C,CACA;AACA,GAAI,CAAC3F,YAAY,EAAI,CAACC,YAAY,EAAIR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,CAAG,CAAC,CAAE,CAC/F6D,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACjDlF,SAAS,CAACkD,CAAC,CAAC,CACd,CAAC,IAAM,CACL+B,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAE,CAAEvF,YAAY,CAAEC,YAAY,CAAE4D,UAAU,CAAEpE,YAAY,CAACoE,UAAU,CAAE+B,YAAY,CAAEnG,YAAY,CAACmB,MAAM,CAACa,MAAO,CAAC,CAAC,CAC9K,CACF,CAAE,CACFoE,QAAQ,CAAE7F,YAAY,EAAIC,YAAY,EAAI,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAE,CACvGO,KAAK,CAAE,CACLC,IAAI,CAAE,CAAC,CACPa,OAAO,CAAE,UAAU,CACnBC,UAAU,CAAE,SAAS,CACrBH,KAAK,CAAE,MAAM,CACbI,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAGlD,YAAY,EAAIC,YAAY,EAAI,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAC,CAAI,aAAa,CAAG,SAAS,CAClIc,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBW,UAAU,CAAE,SAAS,CACrB2C,OAAO,CAAI9F,YAAY,EAAIC,YAAY,EAAK,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAC,CAAI,GAAG,CAAG,CAAC,CACnHU,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,QAAQ,CACxBM,GAAG,CAAE,KAAK,CACVqD,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,UAAU,CACpBC,MAAM,CAAE,CACV,CAAE,CAAA/D,QAAA,CAEDlC,YAAY,cACXZ,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACEhD,IAAA,CAACL,SAAS,EAAC8D,IAAI,CAAE,EAAG,CAACuD,SAAS,CAAC,SAAS,CAAE,CAAC,gBAE7C,EAAE,CAAC,cAEH9G,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACEhD,IAAA,CAACR,GAAG,EAACiE,IAAI,CAAE,EAAG,CAAE,CAAC,UAEnB,EAAE,CACH,CACK,CAAC,cACTzD,IAAA,WACE2C,IAAI,CAAC,QAAQ,CACbwD,EAAE,CAAC,wBAAwB,CAC3BxC,OAAO,CAAGU,CAAC,EAAK,CACd+B,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CACxChC,CAAC,CAACiC,cAAc,CAAC,CAAC,CAClBjC,CAAC,CAACkC,eAAe,CAAC,CAAC,CACnB,GAAIlC,CAAC,CAACmC,WAAW,CAAE,CACjBnC,CAAC,CAACmC,WAAW,CAACC,wBAAwB,CAAC,CAAC,CAC1C,CACA;AACA,GAAI,CAAC3F,YAAY,EAAI,CAACC,YAAY,EAAIR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,CAAG,CAAC,CAAE,CAC/F6D,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACnDjF,UAAU,CAACiD,CAAC,CAAC,CACf,CAAC,IAAM,CACL+B,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAE,CAAEvF,YAAY,CAAEC,YAAY,CAAE4D,UAAU,CAAEpE,YAAY,CAACoE,UAAU,CAAE+B,YAAY,CAAEnG,YAAY,CAACmB,MAAM,CAACa,MAAO,CAAC,CAAC,CAC/K,CACF,CAAE,CACFoE,QAAQ,CAAE7F,YAAY,EAAIC,YAAY,EAAI,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAE,CACvGO,KAAK,CAAE,CACLC,IAAI,CAAE,CAAC,CACPa,OAAO,CAAE,UAAU,CACnBC,UAAU,CAAE,SAAS,CACrBH,KAAK,CAAE,MAAM,CACbI,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAGlD,YAAY,EAAIC,YAAY,EAAI,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAC,CAAI,aAAa,CAAG,SAAS,CAClIc,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBW,UAAU,CAAE,SAAS,CACrB2C,OAAO,CAAI9F,YAAY,EAAIC,YAAY,EAAK,CAACR,YAAY,CAACoE,UAAU,EAAIpE,YAAY,CAACmB,MAAM,CAACa,MAAM,GAAK,CAAC,CAAI,GAAG,CAAG,CAAC,CACnHU,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,QAAQ,CACxBM,GAAG,CAAE,KAAK,CACVqD,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,UAAU,CACpBC,MAAM,CAAE,CACV,CAAE,CAAA/D,QAAA,CAEDjC,YAAY,cACXb,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACEhD,IAAA,CAACL,SAAS,EAAC8D,IAAI,CAAE,EAAG,CAACuD,SAAS,CAAC,SAAS,CAAE,CAAC,gBAE7C,EAAE,CAAC,cAEH9G,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACEhD,IAAA,CAACP,SAAS,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,kBAEzB,EAAE,CACH,CACK,CAAC,CACRzC,WAAW,EAAIA,WAAW,CAACuB,MAAM,CAAG,CAAC,EAAI,CAACtB,QAAQ,eACjDf,KAAA,WACEyC,IAAI,CAAC,QAAQ,CACbgB,OAAO,CAAGU,CAAC,EAAK,CACdA,CAAC,CAACiC,cAAc,CAAC,CAAC,CAClBjC,CAAC,CAACkC,eAAe,CAAC,CAAC,CACnBlF,UAAU,CAAC,CAAC,CACd,CAAE,CACFyB,KAAK,CAAE,CACLc,OAAO,CAAE,UAAU,CACnBC,UAAU,CAAE,SAAS,CACrBH,KAAK,CAAE,MAAM,CACbI,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SAAS,CACjBX,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBW,UAAU,CAAE,SAAS,CACrBhB,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBK,GAAG,CAAE,KACP,CAAE,CAAAR,QAAA,eAEFhD,IAAA,CAACN,KAAK,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,WAErB,EAAQ,CACT,EACE,CAAC,EACH,CAAC,CACJ,IAAI,CACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAApD,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}