{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useRef,useMemo}from'react';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import{Menu,LogOut,RefreshCw,Settings}from'lucide-react';import toast from'react-hot-toast';import'../styles/CrowdDashboard.css';import'../styles/Sidebar.css';import'../styles/GlobalHeader.css';import OverviewTab from'./CrowdDashboard/components/OverviewTab';import DemographicSegmentationTab from'./CrowdDashboard/components/DemographicSegmentationTab';import ThresholdModal from'./CrowdDashboard/components/ThresholdModal';import DrillDownModal from'./CrowdDashboard/components/DrillDownModal';import{useCrowdDashboardData}from'./CrowdDashboard/hooks';import{loadBaselineData,saveBaselineData,loadThresholds,saveThresholds,formatNumber,formatDate,getMetricColor,exportToExcel,getTrendData,applyFilters}from'./CrowdDashboard/utils';import{renderWidgetRefresh,renderWidgetActions,renderWidgetStatus,renderFilterUI}from'./CrowdDashboard/components/WidgetHelpers';import{BASELINE_STORAGE_KEY,THRESHOLDS_STORAGE_KEY,HISTORICAL_DATA_KEY}from'./CrowdDashboard/constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CrowdDashboard=()=>{const{user,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const[loading,setLoading]=useState(false);// Don't block UI - show widgets immediately\nconst[refreshing,setRefreshing]=useState(false);const[activeTab,setActiveTab]=useState('overview');// Initialize state with baseline data if available (using lazy initializer)\n// Load baseline once and reuse for all state initializations\nconst[metrics,setMetrics]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.metrics)||{targetHC:0,totalApplications:0,totalQualified:0,totalActiveOnProjects:0,totalProductive:0,onboardingContributors:0,activeContributors:0,avgAppReceivedToApplied:0,avgAppReceivedToActive:0,lastRefreshed:null};});const[kycStatus,setKycStatus]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.kycStatus)||[];});const[byCountry,setByCountry]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byCountry)||[];});const[byLanguage,setByLanguage]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byLanguage)||[];});const[byProject,setByProject]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byProject)||[];});const[byCountryLanguage,setByCountryLanguage]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byCountryLanguage)||[];});const[bySource,setBySource]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.bySource)||[];});const[byContributorSource,setByContributorSource]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byContributorSource)||[];});const[byContributorStatus,setByContributorStatus]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byContributorStatus)||[];});const[byContributorType,setByContributorType]=useState(()=>{const baseline=loadBaselineData();return(baseline===null||baseline===void 0?void 0:baseline.byContributorType)||[];});// Track loading and error states per widget\nconst[widgetStates,setWidgetStates]=useState({baseMetrics:{loading:false,error:null},activeContributors:{loading:false,error:null},onboardingContributors:{loading:false,error:null},kycStatus:{loading:false,error:null},bySource:{loading:false,error:null},byContributorSource:{loading:false,error:null},byContributorStatus:{loading:false,error:null},byContributorType:{loading:false,error:null},byCountry:{loading:false,error:null},byLanguage:{loading:false,error:null},byProject:{loading:false,error:null},byCountryLanguage:{loading:false,error:null}});const[thresholds,setThresholds]=useState(loadThresholds);const[showThresholdModal,setShowThresholdModal]=useState(false);// Filtering state - separate state for each widget to avoid unnecessary re-renders\nconst[filters,setFilters]=useState({dateRange:{start:null,end:null},status:null,project:null,country:null,language:null});const[showFilters,setShowFilters]=useState({});// Debounced filter values to prevent excessive re-renders\nconst[debouncedFilters,setDebouncedFilters]=useState(filters);// Debounce filter changes\nuseEffect(()=>{const timer=setTimeout(()=>{setDebouncedFilters(filters);},300);return()=>clearTimeout(timer);},[filters]);const[drillDownData,setDrillDownData]=useState(null);// Historical data state\nconst[historicalData,setHistoricalData]=useState(()=>{try{const saved=localStorage.getItem(HISTORICAL_DATA_KEY);if(saved){return JSON.parse(saved);}}catch(error){// Silently fail historical data loading\n}return[];});const[showTrendChart,setShowTrendChart]=useState({});// Use extracted data fetching hook\nconst{fetchBaseMetrics,fetchActiveContributors,fetchOnboardingContributors,fetchKYCStatus,fetchByCountry,fetchByLanguage,fetchByProject,fetchByCountryLanguage,fetchBySource,fetchAvgAppReceivedToApplied,fetchAvgAppReceivedToActive,fetchByContributorSource,fetchByContributorStatus,fetchByContributorType,fetchAllData}=useCrowdDashboardData(setMetrics,setKycStatus,setByCountry,setByLanguage,setByProject,setByCountryLanguage,setBySource,setByContributorSource,setByContributorStatus,setByContributorType,setWidgetStates);// All fetch functions are now provided by useCrowdDashboardData hook\n// Log baseline data on mount and fetch only if baseline doesn't exist\n// This must be after fetchAllData is defined\nuseEffect(()=>{const baseline=loadBaselineData();if(baseline){var _baseline$kycStatus,_baseline$byProject;// Only fetch if baseline is missing critical overview data\nconst hasOverviewData=baseline.metrics&&(baseline.metrics.totalApplications>0||((_baseline$kycStatus=baseline.kycStatus)===null||_baseline$kycStatus===void 0?void 0:_baseline$kycStatus.length)>0||((_baseline$byProject=baseline.byProject)===null||_baseline$byProject===void 0?void 0:_baseline$byProject.length)>0);if(!hasOverviewData){fetchAllData(true);// Silent fetch\n}}else{fetchAllData(true);// Silent fetch on first load\n}},[fetchAllData]);// Save current dashboard state as baseline\nconst saveCurrentAsBaseline=useCallback(()=>{const dashboardState={metrics,kycStatus,byCountry,byLanguage,byProject,byCountryLanguage,bySource,byContributorSource,byContributorStatus,byContributorType,// Note: Demographic data is saved separately in DemographicSegmentationTab component\nsavedAt:new Date().toISOString()};if(saveBaselineData(dashboardState)){toast.success('Baseline data saved successfully');}else{toast.error('Failed to save baseline data');}},[metrics,kycStatus,byCountry,byLanguage,byProject,byCountryLanguage,bySource,byContributorSource,byContributorStatus,byContributorType]);// Auto-save baseline whenever data changes (debounced)\n// This will be called from both main component and demographic tab\n// We'll merge with existing baseline to preserve all data\nconst autoSaveBaseline=useCallback(()=>{const existingBaseline=loadBaselineData()||{};const dashboardState=_objectSpread(_objectSpread({},existingBaseline),{},{// Preserve demographic data if it exists\nmetrics,kycStatus,byCountry,byLanguage,byProject,byCountryLanguage,bySource,byContributorSource,byContributorStatus,byContributorType,savedAt:new Date().toISOString()});saveBaselineData(dashboardState);},[metrics,kycStatus,byCountry,byLanguage,byProject,byCountryLanguage,bySource,byContributorSource,byContributorStatus,byContributorType]);useEffect(()=>{// Only auto-save if we have meaningful data (not all zeros/empty)\nconst hasData=metrics.totalApplications>0||metrics.totalQualified>0||kycStatus.length>0||byProject.length>0;if(hasData){const timer=setTimeout(()=>{autoSaveBaseline();},2000);// Debounce: save 2 seconds after last change\nreturn()=>clearTimeout(timer);}},[metrics,kycStatus,byCountry,byLanguage,byProject,byCountryLanguage,bySource,byContributorSource,byContributorStatus,byContributorType,autoSaveBaseline]);// Overview tab refresh handler\nconst handleOverviewRefresh=useCallback(()=>{setRefreshing(true);fetchAllData(false);setTimeout(()=>setRefreshing(false),1000);},[fetchAllData]);// Ref to store demographics refresh function\nconst demographicsRefreshRef=useRef(null);// Tab-specific refresh handler\nconst handleRefresh=useCallback(()=>{if(activeTab==='overview'){handleOverviewRefresh();}else if(activeTab==='demographic-segmentation'&&demographicsRefreshRef.current){setRefreshing(true);demographicsRefreshRef.current(false).finally(()=>{setTimeout(()=>setRefreshing(false),1000);});}},[activeTab,handleOverviewRefresh]);// Widget-level refresh handlers\nconst handleWidgetRefresh=widgetKey=>{switch(widgetKey){case'baseMetrics':fetchBaseMetrics(false,widgetKey);break;case'activeContributors':fetchActiveContributors(false,widgetKey);break;case'onboardingContributors':fetchOnboardingContributors(false,widgetKey);break;case'avgAppReceivedToApplied':fetchAvgAppReceivedToApplied(false,widgetKey);break;case'avgAppReceivedToActive':fetchAvgAppReceivedToActive(false,widgetKey);break;case'kycStatus':fetchKYCStatus(false,widgetKey);break;case'byCountry':fetchByCountry(false,widgetKey);break;case'byLanguage':fetchByLanguage(false,widgetKey);break;case'byProject':fetchByProject(false,widgetKey);break;case'byCountryLanguage':fetchByCountryLanguage(false,widgetKey,true);// Start with top 20 for fast refresh\nbreak;case'bySource':fetchBySource(false,widgetKey);break;case'byContributorSource':fetchByContributorSource(false,widgetKey);break;case'byContributorStatus':fetchByContributorStatus(false,widgetKey);break;case'byContributorType':fetchByContributorType(false,widgetKey);break;default:break;}};// formatDate is imported from utils\n// Save historical data snapshot\nconst saveHistoricalSnapshot=useCallback(()=>{const snapshot={timestamp:new Date().toISOString(),metrics:_objectSpread({},metrics),kycStatus:[...kycStatus],byProject:[...byProject],byCountryLanguage:[...byCountryLanguage]};setHistoricalData(prev=>{// Reduce snapshot size - exclude large arrays and keep only essential data\nconst lightweightSnapshot={timestamp:snapshot.timestamp,metrics:snapshot.metrics,kycStatus:snapshot.kycStatus,byProject:snapshot.byProject// Exclude byCountryLanguage to save space\n};const updated=[...prev,lightweightSnapshot].slice(-30);// Keep last 30 snapshots (reduced from 100)\ntry{localStorage.setItem(HISTORICAL_DATA_KEY,JSON.stringify(updated));}catch(error){// If quota exceeded, try to clear old data and keep only last 10\ntry{const reduced=updated.slice(-10);localStorage.setItem(HISTORICAL_DATA_KEY,JSON.stringify(reduced));}catch(retryError){// Silently fail if even reduced data can't be saved\n}}return updated;});},[metrics,kycStatus,byProject,byCountryLanguage]);// Auto-save historical snapshot when data changes\nuseEffect(()=>{const hasData=metrics.totalApplications>0||kycStatus.length>0||byProject.length>0;if(hasData){const timer=setTimeout(()=>{saveHistoricalSnapshot();},5000);// Save snapshot 5 seconds after data update\nreturn()=>clearTimeout(timer);}},[metrics,kycStatus,byProject,byCountryLanguage,saveHistoricalSnapshot]);// exportToExcel, getTrendData, and applyFilters are imported from utils\n// Create wrapper functions that pass the required parameters\nconst handleExportToExcel=useCallback((widgetKey,data,widgetName)=>{exportToExcel(widgetKey,data,widgetName,metrics,kycStatus,byProject,byCountryLanguage,bySource);},[metrics,kycStatus,byProject,byCountryLanguage,bySource]);const handleGetTrendData=useCallback(metricKey=>{return getTrendData(metricKey,historicalData);},[historicalData]);const handleApplyFilters=useCallback((data,widgetKey)=>{return applyFilters(data,widgetKey,debouncedFilters);},[debouncedFilters]);// Handle chart click for drill-down\nconst handleChartClick=useCallback((data,widgetKey)=>{setDrillDownData({data,widgetKey});},[]);// Save thresholds wrapper\nconst handleSaveThresholds=useCallback(newThresholds=>{setThresholds(newThresholds);if(saveThresholds(newThresholds)){toast.success('Thresholds saved successfully');}else{toast.error('Failed to save thresholds');}},[]);// Chart colors\nconst chartColors=['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#06b6d4','#ec4899','#84cc16'];// Wrapper functions for widget helpers\nconst handleRenderWidgetRefresh=widgetKey=>{return renderWidgetRefresh(widgetKey,widgetStates,handleWidgetRefresh);};const handleRenderWidgetActions=function(widgetKey,widgetName){let hasData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return renderWidgetActions(widgetKey,widgetName,widgetStates,handleWidgetRefresh,setShowFilters,showFilters,setShowTrendChart,showTrendChart,historicalData,metrics,kycStatus,byProject,byCountryLanguage,bySource);};const handleRenderWidgetStatus=widgetKey=>{return renderWidgetStatus(widgetKey,widgetStates,handleWidgetRefresh);};const handleRenderFilterUI=useCallback(widgetKey=>{return renderFilterUI(widgetKey,showFilters,filters,setFilters,setShowFilters);},[showFilters,filters]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsx(\"div\",{className:\"crowd-dashboard\",style:{marginLeft:sidebarOpen?'320px':'80px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"crowd-dashboard-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"crowd-dashboard-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Crowd Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"View contributor metrics and analytics\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-user-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"crowd-dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"crowd-dashboard-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='overview'?'active':''),onClick:()=>setActiveTab('overview'),children:\"Overview\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='demographic-segmentation'?'active':''),onClick:()=>setActiveTab('demographic-segmentation'),children:\"Demographics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-actions\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn\",onClick:()=>setShowThresholdModal(true),title:\"Configure thresholds\",children:[/*#__PURE__*/_jsx(Settings,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Thresholds\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn\",onClick:handleRefresh,disabled:refreshing,title:activeTab==='overview'?'Refresh all Overview widgets':'Refresh all Demographics widgets',children:[/*#__PURE__*/_jsx(RefreshCw,{size:18,className:refreshing?'spinning':''}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh All\"})]}),metrics.lastRefreshed&&/*#__PURE__*/_jsxs(\"span\",{className:\"last-refreshed-text\",children:[\"Last refreshed: \",formatDate(metrics.lastRefreshed)]})]}),activeTab==='overview'&&/*#__PURE__*/_jsx(OverviewTab,{metrics:metrics,kycStatus:kycStatus,byCountry:byCountry,byLanguage:byLanguage,byProject:byProject,byCountryLanguage:byCountryLanguage,bySource:bySource,byContributorSource:byContributorSource,byContributorStatus:byContributorStatus,byContributorType:byContributorType,historicalData:historicalData,showTrendChart:showTrendChart,setShowTrendChart:setShowTrendChart,thresholds:thresholds,getMetricColor:(key,value)=>getMetricColor(key,value,thresholds),formatNumber:formatNumber,formatDate:formatDate,exportToExcel:handleExportToExcel,renderWidgetRefresh:handleRenderWidgetRefresh,renderWidgetStatus:handleRenderWidgetStatus,renderWidgetActions:handleRenderWidgetActions,renderFilterUI:handleRenderFilterUI,applyFilters:handleApplyFilters,handleChartClick:handleChartClick,handleWidgetRefresh:handleWidgetRefresh,widgetStates:widgetStates}),activeTab==='demographic-segmentation'&&/*#__PURE__*/_jsx(DemographicSegmentationTab,{formatNumber:formatNumber,formatDate:formatDate,handleChartClick:handleChartClick,metrics:metrics,onRefreshAll:demographicsRefreshRef,autoSaveBaseline:autoSaveBaseline})]})]})}),/*#__PURE__*/_jsx(ThresholdModal,{show:showThresholdModal,onClose:()=>setShowThresholdModal(false),thresholds:thresholds,setThresholds:setThresholds}),/*#__PURE__*/_jsx(DrillDownModal,{drillDownData:drillDownData,onClose:()=>setDrillDownData(null)})]});};export default CrowdDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","useAuth","Sidebar","Menu","LogOut","RefreshCw","Settings","toast","OverviewTab","DemographicSegmentationTab","ThresholdModal","DrillDownModal","useCrowdDashboardData","loadBaselineData","saveBaselineData","loadThresholds","saveThresholds","formatNumber","formatDate","getMetricColor","exportToExcel","getTrendData","applyFilters","renderWidgetRefresh","renderWidgetActions","renderWidgetStatus","renderFilterUI","BASELINE_STORAGE_KEY","THRESHOLDS_STORAGE_KEY","HISTORICAL_DATA_KEY","jsx","_jsx","jsxs","_jsxs","CrowdDashboard","user","logout","sidebarOpen","setSidebarOpen","loading","setLoading","refreshing","setRefreshing","activeTab","setActiveTab","metrics","setMetrics","baseline","targetHC","totalApplications","totalQualified","totalActiveOnProjects","totalProductive","onboardingContributors","activeContributors","avgAppReceivedToApplied","avgAppReceivedToActive","lastRefreshed","kycStatus","setKycStatus","byCountry","setByCountry","byLanguage","setByLanguage","byProject","setByProject","byCountryLanguage","setByCountryLanguage","bySource","setBySource","byContributorSource","setByContributorSource","byContributorStatus","setByContributorStatus","byContributorType","setByContributorType","widgetStates","setWidgetStates","baseMetrics","error","thresholds","setThresholds","showThresholdModal","setShowThresholdModal","filters","setFilters","dateRange","start","end","status","project","country","language","showFilters","setShowFilters","debouncedFilters","setDebouncedFilters","timer","setTimeout","clearTimeout","drillDownData","setDrillDownData","historicalData","setHistoricalData","saved","localStorage","getItem","JSON","parse","showTrendChart","setShowTrendChart","fetchBaseMetrics","fetchActiveContributors","fetchOnboardingContributors","fetchKYCStatus","fetchByCountry","fetchByLanguage","fetchByProject","fetchByCountryLanguage","fetchBySource","fetchAvgAppReceivedToApplied","fetchAvgAppReceivedToActive","fetchByContributorSource","fetchByContributorStatus","fetchByContributorType","fetchAllData","_baseline$kycStatus","_baseline$byProject","hasOverviewData","length","saveCurrentAsBaseline","dashboardState","savedAt","Date","toISOString","success","autoSaveBaseline","existingBaseline","_objectSpread","hasData","handleOverviewRefresh","demographicsRefreshRef","handleRefresh","current","finally","handleWidgetRefresh","widgetKey","saveHistoricalSnapshot","snapshot","timestamp","prev","lightweightSnapshot","updated","slice","setItem","stringify","reduced","retryError","handleExportToExcel","data","widgetName","handleGetTrendData","metricKey","handleApplyFilters","handleChartClick","handleSaveThresholds","newThresholds","chartColors","handleRenderWidgetRefresh","handleRenderWidgetActions","arguments","undefined","handleRenderWidgetStatus","handleRenderFilterUI","className","children","isOpen","toggleSidebar","style","marginLeft","onClick","size","email","charAt","toUpperCase","title","concat","disabled","key","value","onRefreshAll","show","onClose"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/CrowdDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, RefreshCw, Settings } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport '../styles/CrowdDashboard.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\nimport OverviewTab from './CrowdDashboard/components/OverviewTab';\nimport DemographicSegmentationTab from './CrowdDashboard/components/DemographicSegmentationTab';\nimport ThresholdModal from './CrowdDashboard/components/ThresholdModal';\nimport DrillDownModal from './CrowdDashboard/components/DrillDownModal';\nimport { useCrowdDashboardData } from './CrowdDashboard/hooks';\nimport { \n  loadBaselineData, \n  saveBaselineData, \n  loadThresholds, \n  saveThresholds,\n  formatNumber, \n  formatDate, \n  getMetricColor, \n  exportToExcel, \n  getTrendData, \n  applyFilters \n} from './CrowdDashboard/utils';\nimport { \n  renderWidgetRefresh, \n  renderWidgetActions, \n  renderWidgetStatus, \n  renderFilterUI \n} from './CrowdDashboard/components/WidgetHelpers';\nimport { BASELINE_STORAGE_KEY, THRESHOLDS_STORAGE_KEY, HISTORICAL_DATA_KEY } from './CrowdDashboard/constants';\n\nconst CrowdDashboard = () => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [loading, setLoading] = useState(false); // Don't block UI - show widgets immediately\n  const [refreshing, setRefreshing] = useState(false);\n  const [activeTab, setActiveTab] = useState('overview');\n  \n  // Initialize state with baseline data if available (using lazy initializer)\n  // Load baseline once and reuse for all state initializations\n  const [metrics, setMetrics] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.metrics || {\n      targetHC: 0,\n      totalApplications: 0,\n      totalQualified: 0,\n      totalActiveOnProjects: 0,\n      totalProductive: 0,\n      onboardingContributors: 0,\n      activeContributors: 0,\n      avgAppReceivedToApplied: 0,\n      avgAppReceivedToActive: 0,\n      lastRefreshed: null\n    };\n  });\n  const [kycStatus, setKycStatus] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.kycStatus || [];\n  });\n  const [byCountry, setByCountry] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byCountry || [];\n  });\n  const [byLanguage, setByLanguage] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byLanguage || [];\n  });\n  const [byProject, setByProject] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byProject || [];\n  });\n  const [byCountryLanguage, setByCountryLanguage] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byCountryLanguage || [];\n  });\n  const [bySource, setBySource] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.bySource || [];\n  });\n  const [byContributorSource, setByContributorSource] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byContributorSource || [];\n  });\n  const [byContributorStatus, setByContributorStatus] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byContributorStatus || [];\n  });\n  const [byContributorType, setByContributorType] = useState(() => {\n    const baseline = loadBaselineData();\n    return baseline?.byContributorType || [];\n  });\n  \n  \n  // Track loading and error states per widget\n  const [widgetStates, setWidgetStates] = useState({\n    baseMetrics: { loading: false, error: null },\n    activeContributors: { loading: false, error: null },\n    onboardingContributors: { loading: false, error: null },\n    kycStatus: { loading: false, error: null },\n    bySource: { loading: false, error: null },\n    byContributorSource: { loading: false, error: null },\n    byContributorStatus: { loading: false, error: null },\n    byContributorType: { loading: false, error: null },\n    byCountry: { loading: false, error: null },\n    byLanguage: { loading: false, error: null },\n    byProject: { loading: false, error: null },\n    byCountryLanguage: { loading: false, error: null }\n  });\n\n  const [thresholds, setThresholds] = useState(loadThresholds);\n  const [showThresholdModal, setShowThresholdModal] = useState(false);\n  \n  // Filtering state - separate state for each widget to avoid unnecessary re-renders\n  const [filters, setFilters] = useState({\n    dateRange: { start: null, end: null },\n    status: null,\n    project: null,\n    country: null,\n    language: null\n  });\n  const [showFilters, setShowFilters] = useState({});\n  \n  // Debounced filter values to prevent excessive re-renders\n  const [debouncedFilters, setDebouncedFilters] = useState(filters);\n  \n  // Debounce filter changes\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedFilters(filters);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [filters]);\n\n  const [drillDownData, setDrillDownData] = useState(null);\n  \n  // Historical data state\n  const [historicalData, setHistoricalData] = useState(() => {\n    try {\n      const saved = localStorage.getItem(HISTORICAL_DATA_KEY);\n      if (saved) {\n        return JSON.parse(saved);\n      }\n    } catch (error) {\n      // Silently fail historical data loading\n    }\n    return [];\n  });\n  const [showTrendChart, setShowTrendChart] = useState({});\n\n  // Use extracted data fetching hook\n  const {\n    fetchBaseMetrics,\n    fetchActiveContributors,\n    fetchOnboardingContributors,\n    fetchKYCStatus,\n    fetchByCountry,\n    fetchByLanguage,\n    fetchByProject,\n    fetchByCountryLanguage,\n    fetchBySource,\n    fetchAvgAppReceivedToApplied,\n    fetchAvgAppReceivedToActive,\n    fetchByContributorSource,\n    fetchByContributorStatus,\n    fetchByContributorType,\n    fetchAllData\n  } = useCrowdDashboardData(\n    setMetrics,\n    setKycStatus,\n    setByCountry,\n    setByLanguage,\n    setByProject,\n    setByCountryLanguage,\n    setBySource,\n    setByContributorSource,\n    setByContributorStatus,\n    setByContributorType,\n    setWidgetStates\n  );\n\n  // All fetch functions are now provided by useCrowdDashboardData hook\n\n  // Log baseline data on mount and fetch only if baseline doesn't exist\n  // This must be after fetchAllData is defined\n  useEffect(() => {\n    const baseline = loadBaselineData();\n    if (baseline) {\n      // Only fetch if baseline is missing critical overview data\n      const hasOverviewData = baseline.metrics && \n                             (baseline.metrics.totalApplications > 0 || \n                              baseline.kycStatus?.length > 0 || \n                              baseline.byProject?.length > 0);\n      \n      if (!hasOverviewData) {\n        fetchAllData(true); // Silent fetch\n      }\n    } else {\n      fetchAllData(true); // Silent fetch on first load\n    }\n  }, [fetchAllData]);\n\n  // Save current dashboard state as baseline\n  const saveCurrentAsBaseline = useCallback(() => {\n    const dashboardState = {\n      metrics,\n      kycStatus,\n      byCountry,\n      byLanguage,\n      byProject,\n      byCountryLanguage,\n      bySource,\n      byContributorSource,\n      byContributorStatus,\n      byContributorType,\n      // Note: Demographic data is saved separately in DemographicSegmentationTab component\n      savedAt: new Date().toISOString()\n    };\n    if (saveBaselineData(dashboardState)) {\n      toast.success('Baseline data saved successfully');\n    } else {\n      toast.error('Failed to save baseline data');\n    }\n  }, [metrics, kycStatus, byCountry, byLanguage, byProject, byCountryLanguage, bySource, byContributorSource, byContributorStatus, byContributorType]);\n\n  // Auto-save baseline whenever data changes (debounced)\n  // This will be called from both main component and demographic tab\n  // We'll merge with existing baseline to preserve all data\n  const autoSaveBaseline = useCallback(() => {\n    const existingBaseline = loadBaselineData() || {};\n    const dashboardState = {\n      ...existingBaseline, // Preserve demographic data if it exists\n      metrics,\n      kycStatus,\n      byCountry,\n      byLanguage,\n      byProject,\n      byCountryLanguage,\n      bySource,\n      byContributorSource,\n      byContributorStatus,\n      byContributorType,\n      savedAt: new Date().toISOString()\n    };\n    saveBaselineData(dashboardState);\n  }, [metrics, kycStatus, byCountry, byLanguage, byProject, byCountryLanguage, bySource, byContributorSource, byContributorStatus, byContributorType]);\n\n  useEffect(() => {\n    // Only auto-save if we have meaningful data (not all zeros/empty)\n    const hasData = metrics.totalApplications > 0 || \n                   metrics.totalQualified > 0 || \n                   kycStatus.length > 0 || \n                   byProject.length > 0;\n    \n    if (hasData) {\n      const timer = setTimeout(() => {\n        autoSaveBaseline();\n      }, 2000); // Debounce: save 2 seconds after last change\n      \n      return () => clearTimeout(timer);\n    }\n  }, [metrics, kycStatus, byCountry, byLanguage, byProject, byCountryLanguage, bySource, byContributorSource, byContributorStatus, byContributorType, autoSaveBaseline]);\n\n  // Overview tab refresh handler\n  const handleOverviewRefresh = useCallback(() => {\n    setRefreshing(true);\n    fetchAllData(false);\n    setTimeout(() => setRefreshing(false), 1000);\n  }, [fetchAllData]);\n\n  // Ref to store demographics refresh function\n  const demographicsRefreshRef = useRef(null);\n\n  // Tab-specific refresh handler\n  const handleRefresh = useCallback(() => {\n    if (activeTab === 'overview') {\n      handleOverviewRefresh();\n    } else if (activeTab === 'demographic-segmentation' && demographicsRefreshRef.current) {\n      setRefreshing(true);\n      demographicsRefreshRef.current(false).finally(() => {\n        setTimeout(() => setRefreshing(false), 1000);\n      });\n    }\n  }, [activeTab, handleOverviewRefresh]);\n\n  // Widget-level refresh handlers\n  const handleWidgetRefresh = (widgetKey) => {\n    switch(widgetKey) {\n      case 'baseMetrics':\n        fetchBaseMetrics(false, widgetKey);\n        break;\n      case 'activeContributors':\n        fetchActiveContributors(false, widgetKey);\n        break;\n      case 'onboardingContributors':\n        fetchOnboardingContributors(false, widgetKey);\n        break;\n      case 'avgAppReceivedToApplied':\n        fetchAvgAppReceivedToApplied(false, widgetKey);\n        break;\n      case 'avgAppReceivedToActive':\n        fetchAvgAppReceivedToActive(false, widgetKey);\n        break;\n      case 'kycStatus':\n        fetchKYCStatus(false, widgetKey);\n        break;\n      case 'byCountry':\n        fetchByCountry(false, widgetKey);\n        break;\n      case 'byLanguage':\n        fetchByLanguage(false, widgetKey);\n        break;\n      case 'byProject':\n        fetchByProject(false, widgetKey);\n        break;\n      case 'byCountryLanguage':\n        fetchByCountryLanguage(false, widgetKey, true); // Start with top 20 for fast refresh\n        break;\n      case 'bySource':\n        fetchBySource(false, widgetKey);\n        break;\n      case 'byContributorSource':\n        fetchByContributorSource(false, widgetKey);\n        break;\n      case 'byContributorStatus':\n        fetchByContributorStatus(false, widgetKey);\n        break;\n      case 'byContributorType':\n        fetchByContributorType(false, widgetKey);\n        break;\n      default:\n        break;\n    }\n  };\n\n  // formatDate is imported from utils\n\n  // Save historical data snapshot\n  const saveHistoricalSnapshot = useCallback(() => {\n    const snapshot = {\n      timestamp: new Date().toISOString(),\n      metrics: { ...metrics },\n      kycStatus: [...kycStatus],\n      byProject: [...byProject],\n      byCountryLanguage: [...byCountryLanguage]\n    };\n    setHistoricalData(prev => {\n      // Reduce snapshot size - exclude large arrays and keep only essential data\n      const lightweightSnapshot = {\n        timestamp: snapshot.timestamp,\n        metrics: snapshot.metrics,\n        kycStatus: snapshot.kycStatus,\n        byProject: snapshot.byProject\n        // Exclude byCountryLanguage to save space\n      };\n      const updated = [...prev, lightweightSnapshot].slice(-30); // Keep last 30 snapshots (reduced from 100)\n      try {\n        localStorage.setItem(HISTORICAL_DATA_KEY, JSON.stringify(updated));\n      } catch (error) {\n        // If quota exceeded, try to clear old data and keep only last 10\n        try {\n          const reduced = updated.slice(-10);\n          localStorage.setItem(HISTORICAL_DATA_KEY, JSON.stringify(reduced));\n        } catch (retryError) {\n          // Silently fail if even reduced data can't be saved\n        }\n      }\n      return updated;\n    });\n  }, [metrics, kycStatus, byProject, byCountryLanguage]);\n\n  // Auto-save historical snapshot when data changes\n  useEffect(() => {\n    const hasData = metrics.totalApplications > 0 || kycStatus.length > 0 || byProject.length > 0;\n    if (hasData) {\n      const timer = setTimeout(() => {\n        saveHistoricalSnapshot();\n      }, 5000); // Save snapshot 5 seconds after data update\n      return () => clearTimeout(timer);\n    }\n  }, [metrics, kycStatus, byProject, byCountryLanguage, saveHistoricalSnapshot]);\n\n  // exportToExcel, getTrendData, and applyFilters are imported from utils\n  // Create wrapper functions that pass the required parameters\n  const handleExportToExcel = useCallback((widgetKey, data, widgetName) => {\n    exportToExcel(widgetKey, data, widgetName, metrics, kycStatus, byProject, byCountryLanguage, bySource);\n  }, [metrics, kycStatus, byProject, byCountryLanguage, bySource]);\n\n  const handleGetTrendData = useCallback((metricKey) => {\n    return getTrendData(metricKey, historicalData);\n  }, [historicalData]);\n\n  const handleApplyFilters = useCallback((data, widgetKey) => {\n    return applyFilters(data, widgetKey, debouncedFilters);\n  }, [debouncedFilters]);\n\n  // Handle chart click for drill-down\n  const handleChartClick = useCallback((data, widgetKey) => {\n    setDrillDownData({ data, widgetKey });\n  }, []);\n\n  // Save thresholds wrapper\n  const handleSaveThresholds = useCallback((newThresholds) => {\n    setThresholds(newThresholds);\n    if (saveThresholds(newThresholds)) {\n      toast.success('Thresholds saved successfully');\n    } else {\n      toast.error('Failed to save thresholds');\n    }\n  }, []);\n\n  // Chart colors\n  const chartColors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#ec4899', '#84cc16'];\n\n  // Wrapper functions for widget helpers\n  const handleRenderWidgetRefresh = (widgetKey) => {\n    return renderWidgetRefresh(widgetKey, widgetStates, handleWidgetRefresh);\n  };\n\n  const handleRenderWidgetActions = (widgetKey, widgetName, hasData = true) => {\n    return renderWidgetActions(\n      widgetKey,\n      widgetName,\n      widgetStates,\n      handleWidgetRefresh,\n      setShowFilters,\n      showFilters,\n      setShowTrendChart,\n      showTrendChart,\n      historicalData,\n      metrics,\n      kycStatus,\n      byProject,\n      byCountryLanguage,\n      bySource\n    );\n  };\n\n  const handleRenderWidgetStatus = (widgetKey) => {\n    return renderWidgetStatus(widgetKey, widgetStates, handleWidgetRefresh);\n  };\n\n  const handleRenderFilterUI = useCallback((widgetKey) => {\n    return renderFilterUI(widgetKey, showFilters, filters, setFilters, setShowFilters);\n  }, [showFilters, filters]);\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      <div className=\"crowd-dashboard\" style={{ marginLeft: sidebarOpen ? '320px' : '80px' }}>\n        <div className=\"crowd-dashboard-container\">\n          <div className=\"crowd-dashboard-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button\n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">Crowd Dashboard</h1>\n                  <p className=\"page-subtitle\">View contributor metrics and analytics</p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\">\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                  <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                    <LogOut size={18} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"crowd-dashboard-content\">\n            {/* Tabs */}\n            <div className=\"crowd-dashboard-tabs\">\n              <button\n                className={`tab-button ${activeTab === 'overview' ? 'active' : ''}`}\n                onClick={() => setActiveTab('overview')}\n              >\n                Overview\n              </button>\n              <button\n                className={`tab-button ${activeTab === 'demographic-segmentation' ? 'active' : ''}`}\n                onClick={() => setActiveTab('demographic-segmentation')}\n              >\n                Demographics\n              </button>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"dashboard-actions\">\n              {activeTab === 'overview' && (\n              <button \n                className=\"action-btn\" \n                onClick={() => setShowThresholdModal(true)}\n                title=\"Configure thresholds\"\n              >\n                <Settings size={18} />\n                <span>Thresholds</span>\n              </button>\n              )}\n              <button \n                className=\"action-btn\" \n                onClick={handleRefresh}\n                disabled={refreshing}\n                title={activeTab === 'overview' ? 'Refresh all Overview widgets' : 'Refresh all Demographics widgets'}\n              >\n                <RefreshCw size={18} className={refreshing ? 'spinning' : ''} />\n                <span>Refresh All</span>\n              </button>\n              {metrics.lastRefreshed && (\n                <span className=\"last-refreshed-text\">\n                  Last refreshed: {formatDate(metrics.lastRefreshed)}\n                </span>\n              )}\n            </div>\n\n            {/* Tab Content */}\n            {activeTab === 'overview' && (\n              <OverviewTab\n                metrics={metrics}\n                kycStatus={kycStatus}\n                byCountry={byCountry}\n                byLanguage={byLanguage}\n                byProject={byProject}\n                byCountryLanguage={byCountryLanguage}\n                bySource={bySource}\n                byContributorSource={byContributorSource}\n                byContributorStatus={byContributorStatus}\n                byContributorType={byContributorType}\n                historicalData={historicalData}\n                showTrendChart={showTrendChart}\n                setShowTrendChart={setShowTrendChart}\n                thresholds={thresholds}\n                getMetricColor={(key, value) => getMetricColor(key, value, thresholds)}\n                formatNumber={formatNumber}\n                formatDate={formatDate}\n                exportToExcel={handleExportToExcel}\n                renderWidgetRefresh={handleRenderWidgetRefresh}\n                renderWidgetStatus={handleRenderWidgetStatus}\n                renderWidgetActions={handleRenderWidgetActions}\n                renderFilterUI={handleRenderFilterUI}\n                applyFilters={handleApplyFilters}\n                handleChartClick={handleChartClick}\n                handleWidgetRefresh={handleWidgetRefresh}\n                widgetStates={widgetStates}\n              />\n            )}\n\n            {activeTab === 'demographic-segmentation' && (\n              <DemographicSegmentationTab\n                formatNumber={formatNumber}\n                formatDate={formatDate}\n                handleChartClick={handleChartClick}\n                metrics={metrics}\n                onRefreshAll={demographicsRefreshRef}\n                autoSaveBaseline={autoSaveBaseline}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Threshold Configuration Modal */}\n      <ThresholdModal\n        show={showThresholdModal}\n        onClose={() => setShowThresholdModal(false)}\n        thresholds={thresholds}\n        setThresholds={setThresholds}\n      />\n\n      {/* Drill-Down Modal */}\n      <DrillDownModal\n        drillDownData={drillDownData}\n        onClose={() => setDrillDownData(null)}\n      />\n    </div>\n  );\n};\n\nexport default CrowdDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}