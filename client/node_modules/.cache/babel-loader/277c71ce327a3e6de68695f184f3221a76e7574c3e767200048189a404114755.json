{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Reusable searchable dropdown component\nimport React,{useEffect,useRef,useState}from'react';import{createPortal}from'react-dom';import{Search,Loader}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchableDropdown=_ref=>{let{value,onChange,onFocus,onBlur,placeholder,options=[],loading=false,searching=false,showDropdown=false,onSelect,onClose,label,style={},zIndex=100000}=_ref;const dropdownRef=useRef(null);const inputRef=useRef(null);const containerRef=useRef(null);const[dropdownPosition,setDropdownPosition]=useState({top:0,left:0,width:0});// Calculate dropdown position when it opens\nuseEffect(()=>{if(showDropdown&&inputRef.current){const rect=inputRef.current.getBoundingClientRect();setDropdownPosition({top:rect.bottom+4,// Use viewport coordinates for fixed positioning\nleft:rect.left,width:rect.width});}},[showDropdown,value]);// Recalculate when value changes (for dynamic content)\n// Handle click outside to close dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(showDropdown&&dropdownRef.current&&!dropdownRef.current.contains(event.target)&&inputRef.current&&!inputRef.current.contains(event.target)){if(onClose){onClose();}}};if(showDropdown){document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};}},[showDropdown,onClose]);const handleSelect=option=>{if(onSelect){onSelect(option);}};const renderDropdown=()=>{if(!showDropdown)return null;const dropdownContent=/*#__PURE__*/_jsx(\"div\",{ref:dropdownRef,style:{position:'fixed',top:\"\".concat(dropdownPosition.top,\"px\"),left:\"\".concat(dropdownPosition.left,\"px\"),width:\"\".concat(dropdownPosition.width,\"px\"),backgroundColor:'#ffffff',border:'1px solid #e5e7eb',borderRadius:'6px',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',zIndex:100000,maxHeight:'200px',overflowY:'auto'},children:loading?/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px 10px',fontSize:'12px',color:'#666',textAlign:'center'},children:\"Loading...\"}):searching?/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px 10px',fontSize:'12px',color:'#666',textAlign:'center'},children:\"Searching...\"}):options.length>0?options.map(option=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleSelect(option),style:{padding:'6px 10px',cursor:'pointer',fontSize:'12px',borderBottom:'1px solid #f3f4f6',color:'#000000',backgroundColor:'#ffffff'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='#f9fafb';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='#ffffff';},children:/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#000000'},children:option.name||option.label||option.value})},option.id||option.value)):/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px 10px',fontSize:'12px',color:'#666',textAlign:'center'},children:value.trim()?'No results found':'Start typing to search...'})});// Use portal to render dropdown at body level to escape stacking contexts\nreturn/*#__PURE__*/createPortal(dropdownContent,document.body);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",ref:containerRef,style:_objectSpread({position:'relative'},style),children:[label&&/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'11px',fontWeight:'600',marginBottom:'4px',display:'block',color:'#374151'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:value,onChange:onChange,onFocus:onFocus,onBlur:onBlur,placeholder:placeholder,style:_objectSpread({fontSize:'12px',padding:'6px 10px',paddingRight:'36px',height:'32px',width:'100%',border:'1px solid #d1d5db',borderRadius:'4px',backgroundColor:'#fff'},style)}),/*#__PURE__*/_jsx(Search,{size:14,style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',color:'#666',pointerEvents:'none'}}),(loading||searching)&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',right:'36px',top:'50%',transform:'translateY(-50%)',fontSize:'12px',color:'#666'},children:searching?'Searching...':'Loading...'})]}),renderDropdown()]});};export default SearchableDropdown;","map":{"version":3,"names":["React","useEffect","useRef","useState","createPortal","Search","Loader","jsx","_jsx","jsxs","_jsxs","SearchableDropdown","_ref","value","onChange","onFocus","onBlur","placeholder","options","loading","searching","showDropdown","onSelect","onClose","label","style","zIndex","dropdownRef","inputRef","containerRef","dropdownPosition","setDropdownPosition","top","left","width","current","rect","getBoundingClientRect","bottom","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","handleSelect","option","renderDropdown","dropdownContent","ref","position","concat","backgroundColor","border","borderRadius","boxShadow","maxHeight","overflowY","children","padding","fontSize","color","textAlign","length","map","onClick","cursor","borderBottom","onMouseEnter","e","currentTarget","onMouseLeave","fontWeight","name","id","trim","body","className","_objectSpread","marginBottom","display","type","paddingRight","height","size","right","transform","pointerEvents"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/UpdateObjectFields/components/SearchableDropdown.js"],"sourcesContent":["// Reusable searchable dropdown component\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Search, Loader } from 'lucide-react';\n\nconst SearchableDropdown = ({\n  value,\n  onChange,\n  onFocus,\n  onBlur,\n  placeholder,\n  options = [],\n  loading = false,\n  searching = false,\n  showDropdown = false,\n  onSelect,\n  onClose,\n  label,\n  style = {},\n  zIndex = 100000\n}) => {\n  const dropdownRef = useRef(null);\n  const inputRef = useRef(null);\n  const containerRef = useRef(null);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n\n  // Calculate dropdown position when it opens\n  useEffect(() => {\n    if (showDropdown && inputRef.current) {\n      const rect = inputRef.current.getBoundingClientRect();\n      setDropdownPosition({\n        top: rect.bottom + 4, // Use viewport coordinates for fixed positioning\n        left: rect.left,\n        width: rect.width\n      });\n    }\n  }, [showDropdown, value]); // Recalculate when value changes (for dynamic content)\n\n  // Handle click outside to close dropdown\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showDropdown && \n          dropdownRef.current && \n          !dropdownRef.current.contains(event.target) &&\n          inputRef.current &&\n          !inputRef.current.contains(event.target)) {\n        if (onClose) {\n          onClose();\n        }\n      }\n    };\n\n    if (showDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDropdown, onClose]);\n\n  const handleSelect = (option) => {\n    if (onSelect) {\n      onSelect(option);\n    }\n  };\n\n  const renderDropdown = () => {\n    if (!showDropdown) return null;\n\n    const dropdownContent = (\n      <div \n        ref={dropdownRef}\n        style={{\n          position: 'fixed',\n          top: `${dropdownPosition.top}px`,\n          left: `${dropdownPosition.left}px`,\n          width: `${dropdownPosition.width}px`,\n          backgroundColor: '#ffffff',\n          border: '1px solid #e5e7eb',\n          borderRadius: '6px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n          zIndex: 100000,\n          maxHeight: '200px',\n          overflowY: 'auto'\n        }}\n      >\n            {loading ? (\n              <div style={{\n                padding: '6px 10px',\n                fontSize: '12px',\n                color: '#666',\n                textAlign: 'center'\n              }}>\n                Loading...\n              </div>\n            ) : searching ? (\n              <div style={{\n                padding: '6px 10px',\n                fontSize: '12px',\n                color: '#666',\n                textAlign: 'center'\n              }}>\n                Searching...\n              </div>\n            ) : options.length > 0 ? (\n              options.map((option) => (\n                <div\n                  key={option.id || option.value}\n                  onClick={() => handleSelect(option)}\n                  style={{\n                    padding: '6px 10px',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    borderBottom: '1px solid #f3f4f6',\n                    color: '#000000',\n                    backgroundColor: '#ffffff'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.backgroundColor = '#f9fafb';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.backgroundColor = '#ffffff';\n                  }}\n                >\n                  <div style={{ fontWeight: '500', color: '#000000' }}>\n                    {option.name || option.label || option.value}\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div style={{\n                padding: '6px 10px',\n                fontSize: '12px',\n                color: '#666',\n                textAlign: 'center'\n              }}>\n                {value.trim() ? 'No results found' : 'Start typing to search...'}\n              </div>\n            )}\n          </div>\n    );\n\n    // Use portal to render dropdown at body level to escape stacking contexts\n    return createPortal(dropdownContent, document.body);\n  };\n\n  return (\n    <div className=\"form-group\" ref={containerRef} style={{ position: 'relative', ...style }}>\n      {label && (\n        <label style={{ fontSize: '11px', fontWeight: '600', marginBottom: '4px', display: 'block', color: '#374151' }}>\n          {label}\n        </label>\n      )}\n      <div style={{ position: 'relative' }}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={value}\n          onChange={onChange}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          placeholder={placeholder}\n          style={{ \n            fontSize: '12px', \n            padding: '6px 10px', \n            paddingRight: '36px',\n            height: '32px', \n            width: '100%',\n            border: '1px solid #d1d5db',\n            borderRadius: '4px',\n            backgroundColor: '#fff',\n            ...style\n          }}\n        />\n        <Search \n          size={14} \n          style={{ \n            position: 'absolute', \n            right: '10px', \n            top: '50%', \n            transform: 'translateY(-50%)', \n            color: '#666',\n            pointerEvents: 'none'\n          }} \n        />\n        {(loading || searching) && (\n          <div style={{ \n            position: 'absolute', \n            right: '36px', \n            top: '50%', \n            transform: 'translateY(-50%)',\n            fontSize: '12px',\n            color: '#666'\n          }}>\n            {searching ? 'Searching...' : 'Loading...'}\n          </div>\n        )}\n      </div>\n      {renderDropdown()}\n    </div>\n  );\n};\n\nexport default SearchableDropdown;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}