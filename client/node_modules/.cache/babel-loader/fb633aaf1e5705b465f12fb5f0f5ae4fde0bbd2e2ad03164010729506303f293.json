{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\n\n/**\n * Custom hook to track the actual width of the sidebar element\n * This allows pages to adjust their content width dynamically when the sidebar is resized\n * Updates in real-time during resize for smooth, interactive experience\n * \n * @param {boolean} sidebarOpen - Whether the sidebar is currently open\n * @returns {number} The current width of the sidebar in pixels\n */\nconst useSidebarWidth = sidebarOpen => {\n  _s();\n  const [sidebarWidth, setSidebarWidth] = useState(sidebarOpen ? 320 : 80);\n  const rafIdRef = useRef(null);\n  useEffect(() => {\n    const sidebar = document.querySelector('.sidebar');\n    if (!sidebar) {\n      // Fallback: set based on sidebarOpen state\n      setSidebarWidth(sidebarOpen ? 320 : 80);\n      return;\n    }\n    const updateSidebarWidth = () => {\n      // Cancel any pending animation frame\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n\n      // Use requestAnimationFrame for smooth updates during resize\n      rafIdRef.current = requestAnimationFrame(() => {\n        const width = sidebar.offsetWidth;\n        if (width > 0) {\n          setSidebarWidth(width);\n        } else {\n          // Fallback if width is 0\n          setSidebarWidth(sidebarOpen ? 320 : 80);\n        }\n      });\n    };\n\n    // Initial width - use a small delay to ensure sidebar is rendered\n    const timeoutId = setTimeout(updateSidebarWidth, 0);\n\n    // Watch for width changes using ResizeObserver with immediate updates\n    const resizeObserver = new ResizeObserver(entries => {\n      // Update immediately for responsive behavior\n      for (const entry of entries) {\n        const width = entry.contentRect.width;\n        if (width > 0) {\n          setSidebarWidth(width);\n        }\n      }\n    });\n    resizeObserver.observe(sidebar);\n\n    // Also listen for transition end (when sidebar opens/closes)\n    sidebar.addEventListener('transitionend', updateSidebarWidth);\n\n    // Watch for style changes (when resizing via drag)\n    const mutationObserver = new MutationObserver(() => {\n      updateSidebarWidth();\n    });\n    mutationObserver.observe(sidebar, {\n      attributes: true,\n      attributeFilter: ['style', 'class']\n    });\n\n    // Also update on window resize\n    const handleWindowResize = () => {\n      updateSidebarWidth();\n    };\n    window.addEventListener('resize', handleWindowResize);\n    return () => {\n      clearTimeout(timeoutId);\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n      resizeObserver.disconnect();\n      mutationObserver.disconnect();\n      sidebar.removeEventListener('transitionend', updateSidebarWidth);\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, [sidebarOpen]);\n  return sidebarWidth;\n};\n_s(useSidebarWidth, \"TEqR4eiEotNLGcdRiXLHuJ3ni7I=\");\nexport default useSidebarWidth;","map":{"version":3,"names":["useState","useEffect","useRef","useSidebarWidth","sidebarOpen","_s","sidebarWidth","setSidebarWidth","rafIdRef","sidebar","document","querySelector","updateSidebarWidth","current","cancelAnimationFrame","requestAnimationFrame","width","offsetWidth","timeoutId","setTimeout","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","addEventListener","mutationObserver","MutationObserver","attributes","attributeFilter","handleWindowResize","window","clearTimeout","disconnect","removeEventListener"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/hooks/useSidebarWidth.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\n/**\n * Custom hook to track the actual width of the sidebar element\n * This allows pages to adjust their content width dynamically when the sidebar is resized\n * Updates in real-time during resize for smooth, interactive experience\n * \n * @param {boolean} sidebarOpen - Whether the sidebar is currently open\n * @returns {number} The current width of the sidebar in pixels\n */\nconst useSidebarWidth = (sidebarOpen) => {\n  const [sidebarWidth, setSidebarWidth] = useState(sidebarOpen ? 320 : 80);\n  const rafIdRef = useRef(null);\n\n  useEffect(() => {\n    const sidebar = document.querySelector('.sidebar');\n    if (!sidebar) {\n      // Fallback: set based on sidebarOpen state\n      setSidebarWidth(sidebarOpen ? 320 : 80);\n      return;\n    }\n\n    const updateSidebarWidth = () => {\n      // Cancel any pending animation frame\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n\n      // Use requestAnimationFrame for smooth updates during resize\n      rafIdRef.current = requestAnimationFrame(() => {\n        const width = sidebar.offsetWidth;\n        if (width > 0) {\n          setSidebarWidth(width);\n        } else {\n          // Fallback if width is 0\n          setSidebarWidth(sidebarOpen ? 320 : 80);\n        }\n      });\n    };\n\n    // Initial width - use a small delay to ensure sidebar is rendered\n    const timeoutId = setTimeout(updateSidebarWidth, 0);\n\n    // Watch for width changes using ResizeObserver with immediate updates\n    const resizeObserver = new ResizeObserver((entries) => {\n      // Update immediately for responsive behavior\n      for (const entry of entries) {\n        const width = entry.contentRect.width;\n        if (width > 0) {\n          setSidebarWidth(width);\n        }\n      }\n    });\n\n    resizeObserver.observe(sidebar);\n\n    // Also listen for transition end (when sidebar opens/closes)\n    sidebar.addEventListener('transitionend', updateSidebarWidth);\n    \n    // Watch for style changes (when resizing via drag)\n    const mutationObserver = new MutationObserver(() => {\n      updateSidebarWidth();\n    });\n\n    mutationObserver.observe(sidebar, {\n      attributes: true,\n      attributeFilter: ['style', 'class']\n    });\n\n    // Also update on window resize\n    const handleWindowResize = () => {\n      updateSidebarWidth();\n    };\n    window.addEventListener('resize', handleWindowResize);\n\n    return () => {\n      clearTimeout(timeoutId);\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n      resizeObserver.disconnect();\n      mutationObserver.disconnect();\n      sidebar.removeEventListener('transitionend', updateSidebarWidth);\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, [sidebarOpen]);\n\n  return sidebarWidth;\n};\n\nexport default useSidebarWidth;\n\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,eAAe,GAAIC,WAAW,IAAK;EAAAC,EAAA;EACvC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGP,QAAQ,CAACI,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;EACxE,MAAMI,QAAQ,GAAGN,MAAM,CAAC,IAAI,CAAC;EAE7BD,SAAS,CAAC,MAAM;IACd,MAAMQ,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IAClD,IAAI,CAACF,OAAO,EAAE;MACZ;MACAF,eAAe,CAACH,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;MACvC;IACF;IAEA,MAAMQ,kBAAkB,GAAGA,CAAA,KAAM;MAC/B;MACA,IAAIJ,QAAQ,CAACK,OAAO,EAAE;QACpBC,oBAAoB,CAACN,QAAQ,CAACK,OAAO,CAAC;MACxC;;MAEA;MACAL,QAAQ,CAACK,OAAO,GAAGE,qBAAqB,CAAC,MAAM;QAC7C,MAAMC,KAAK,GAAGP,OAAO,CAACQ,WAAW;QACjC,IAAID,KAAK,GAAG,CAAC,EAAE;UACbT,eAAe,CAACS,KAAK,CAAC;QACxB,CAAC,MAAM;UACL;UACAT,eAAe,CAACH,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QACzC;MACF,CAAC,CAAC;IACJ,CAAC;;IAED;IACA,MAAMc,SAAS,GAAGC,UAAU,CAACP,kBAAkB,EAAE,CAAC,CAAC;;IAEnD;IACA,MAAMQ,cAAc,GAAG,IAAIC,cAAc,CAAEC,OAAO,IAAK;MACrD;MACA,KAAK,MAAMC,KAAK,IAAID,OAAO,EAAE;QAC3B,MAAMN,KAAK,GAAGO,KAAK,CAACC,WAAW,CAACR,KAAK;QACrC,IAAIA,KAAK,GAAG,CAAC,EAAE;UACbT,eAAe,CAACS,KAAK,CAAC;QACxB;MACF;IACF,CAAC,CAAC;IAEFI,cAAc,CAACK,OAAO,CAAChB,OAAO,CAAC;;IAE/B;IACAA,OAAO,CAACiB,gBAAgB,CAAC,eAAe,EAAEd,kBAAkB,CAAC;;IAE7D;IACA,MAAMe,gBAAgB,GAAG,IAAIC,gBAAgB,CAAC,MAAM;MAClDhB,kBAAkB,CAAC,CAAC;IACtB,CAAC,CAAC;IAEFe,gBAAgB,CAACF,OAAO,CAAChB,OAAO,EAAE;MAChCoB,UAAU,EAAE,IAAI;MAChBC,eAAe,EAAE,CAAC,OAAO,EAAE,OAAO;IACpC,CAAC,CAAC;;IAEF;IACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;MAC/BnB,kBAAkB,CAAC,CAAC;IACtB,CAAC;IACDoB,MAAM,CAACN,gBAAgB,CAAC,QAAQ,EAAEK,kBAAkB,CAAC;IAErD,OAAO,MAAM;MACXE,YAAY,CAACf,SAAS,CAAC;MACvB,IAAIV,QAAQ,CAACK,OAAO,EAAE;QACpBC,oBAAoB,CAACN,QAAQ,CAACK,OAAO,CAAC;MACxC;MACAO,cAAc,CAACc,UAAU,CAAC,CAAC;MAC3BP,gBAAgB,CAACO,UAAU,CAAC,CAAC;MAC7BzB,OAAO,CAAC0B,mBAAmB,CAAC,eAAe,EAAEvB,kBAAkB,CAAC;MAChEoB,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEJ,kBAAkB,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,CAAC3B,WAAW,CAAC,CAAC;EAEjB,OAAOE,YAAY;AACrB,CAAC;AAACD,EAAA,CA9EIF,eAAe;AAgFrB,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}