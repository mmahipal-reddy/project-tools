{"ast":null,"code":"import{useState,useEffect,useRef}from'react';/**\n * Custom hook to track the actual width of the sidebar element\n * This allows pages to adjust their content width dynamically when the sidebar is resized\n * Updates in real-time during resize for smooth, interactive experience\n * \n * @param {boolean} sidebarOpen - Whether the sidebar is currently open\n * @returns {number} The current width of the sidebar in pixels\n */const useSidebarWidth=sidebarOpen=>{const[sidebarWidth,setSidebarWidth]=useState(sidebarOpen?320:80);const rafIdRef=useRef(null);useEffect(()=>{const sidebar=document.querySelector('.sidebar');if(!sidebar){// Fallback: set based on sidebarOpen state\nsetSidebarWidth(sidebarOpen?320:80);return;}const updateSidebarWidth=()=>{// Cancel any pending animation frame\nif(rafIdRef.current){cancelAnimationFrame(rafIdRef.current);}// Use requestAnimationFrame for smooth updates during resize\nrafIdRef.current=requestAnimationFrame(()=>{const width=sidebar.offsetWidth;if(width>0){setSidebarWidth(width);}else{// Fallback if width is 0\nsetSidebarWidth(sidebarOpen?320:80);}});};// Initial width - use a small delay to ensure sidebar is rendered\nconst timeoutId=setTimeout(updateSidebarWidth,0);// Watch for width changes using ResizeObserver with immediate updates\nconst resizeObserver=new ResizeObserver(entries=>{// Update immediately for responsive behavior\nfor(const entry of entries){const width=entry.contentRect.width;if(width>0){setSidebarWidth(width);}}});resizeObserver.observe(sidebar);// Also listen for transition end (when sidebar opens/closes)\nsidebar.addEventListener('transitionend',updateSidebarWidth);// Watch for style changes (when resizing via drag)\nconst mutationObserver=new MutationObserver(()=>{updateSidebarWidth();});mutationObserver.observe(sidebar,{attributes:true,attributeFilter:['style','class']});// Also update on window resize\nconst handleWindowResize=()=>{updateSidebarWidth();};window.addEventListener('resize',handleWindowResize);return()=>{clearTimeout(timeoutId);if(rafIdRef.current){cancelAnimationFrame(rafIdRef.current);}resizeObserver.disconnect();mutationObserver.disconnect();sidebar.removeEventListener('transitionend',updateSidebarWidth);window.removeEventListener('resize',handleWindowResize);};},[sidebarOpen]);return sidebarWidth;};export default useSidebarWidth;","map":{"version":3,"names":["useState","useEffect","useRef","useSidebarWidth","sidebarOpen","sidebarWidth","setSidebarWidth","rafIdRef","sidebar","document","querySelector","updateSidebarWidth","current","cancelAnimationFrame","requestAnimationFrame","width","offsetWidth","timeoutId","setTimeout","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","addEventListener","mutationObserver","MutationObserver","attributes","attributeFilter","handleWindowResize","window","clearTimeout","disconnect","removeEventListener"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/hooks/useSidebarWidth.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\n/**\n * Custom hook to track the actual width of the sidebar element\n * This allows pages to adjust their content width dynamically when the sidebar is resized\n * Updates in real-time during resize for smooth, interactive experience\n * \n * @param {boolean} sidebarOpen - Whether the sidebar is currently open\n * @returns {number} The current width of the sidebar in pixels\n */\nconst useSidebarWidth = (sidebarOpen) => {\n  const [sidebarWidth, setSidebarWidth] = useState(sidebarOpen ? 320 : 80);\n  const rafIdRef = useRef(null);\n\n  useEffect(() => {\n    const sidebar = document.querySelector('.sidebar');\n    if (!sidebar) {\n      // Fallback: set based on sidebarOpen state\n      setSidebarWidth(sidebarOpen ? 320 : 80);\n      return;\n    }\n\n    const updateSidebarWidth = () => {\n      // Cancel any pending animation frame\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n\n      // Use requestAnimationFrame for smooth updates during resize\n      rafIdRef.current = requestAnimationFrame(() => {\n        const width = sidebar.offsetWidth;\n        if (width > 0) {\n          setSidebarWidth(width);\n        } else {\n          // Fallback if width is 0\n          setSidebarWidth(sidebarOpen ? 320 : 80);\n        }\n      });\n    };\n\n    // Initial width - use a small delay to ensure sidebar is rendered\n    const timeoutId = setTimeout(updateSidebarWidth, 0);\n\n    // Watch for width changes using ResizeObserver with immediate updates\n    const resizeObserver = new ResizeObserver((entries) => {\n      // Update immediately for responsive behavior\n      for (const entry of entries) {\n        const width = entry.contentRect.width;\n        if (width > 0) {\n          setSidebarWidth(width);\n        }\n      }\n    });\n\n    resizeObserver.observe(sidebar);\n\n    // Also listen for transition end (when sidebar opens/closes)\n    sidebar.addEventListener('transitionend', updateSidebarWidth);\n    \n    // Watch for style changes (when resizing via drag)\n    const mutationObserver = new MutationObserver(() => {\n      updateSidebarWidth();\n    });\n\n    mutationObserver.observe(sidebar, {\n      attributes: true,\n      attributeFilter: ['style', 'class']\n    });\n\n    // Also update on window resize\n    const handleWindowResize = () => {\n      updateSidebarWidth();\n    };\n    window.addEventListener('resize', handleWindowResize);\n\n    return () => {\n      clearTimeout(timeoutId);\n      if (rafIdRef.current) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n      resizeObserver.disconnect();\n      mutationObserver.disconnect();\n      sidebar.removeEventListener('transitionend', updateSidebarWidth);\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, [sidebarOpen]);\n\n  return sidebarWidth;\n};\n\nexport default useSidebarWidth;\n\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,KAAM,CAAAC,eAAe,CAAIC,WAAW,EAAK,CACvC,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGN,QAAQ,CAACI,WAAW,CAAG,GAAG,CAAG,EAAE,CAAC,CACxE,KAAM,CAAAG,QAAQ,CAAGL,MAAM,CAAC,IAAI,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,OAAO,CAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC,CAClD,GAAI,CAACF,OAAO,CAAE,CACZ;AACAF,eAAe,CAACF,WAAW,CAAG,GAAG,CAAG,EAAE,CAAC,CACvC,OACF,CAEA,KAAM,CAAAO,kBAAkB,CAAGA,CAAA,GAAM,CAC/B;AACA,GAAIJ,QAAQ,CAACK,OAAO,CAAE,CACpBC,oBAAoB,CAACN,QAAQ,CAACK,OAAO,CAAC,CACxC,CAEA;AACAL,QAAQ,CAACK,OAAO,CAAGE,qBAAqB,CAAC,IAAM,CAC7C,KAAM,CAAAC,KAAK,CAAGP,OAAO,CAACQ,WAAW,CACjC,GAAID,KAAK,CAAG,CAAC,CAAE,CACbT,eAAe,CAACS,KAAK,CAAC,CACxB,CAAC,IAAM,CACL;AACAT,eAAe,CAACF,WAAW,CAAG,GAAG,CAAG,EAAE,CAAC,CACzC,CACF,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAa,SAAS,CAAGC,UAAU,CAACP,kBAAkB,CAAE,CAAC,CAAC,CAEnD;AACA,KAAM,CAAAQ,cAAc,CAAG,GAAI,CAAAC,cAAc,CAAEC,OAAO,EAAK,CACrD;AACA,IAAK,KAAM,CAAAC,KAAK,GAAI,CAAAD,OAAO,CAAE,CAC3B,KAAM,CAAAN,KAAK,CAAGO,KAAK,CAACC,WAAW,CAACR,KAAK,CACrC,GAAIA,KAAK,CAAG,CAAC,CAAE,CACbT,eAAe,CAACS,KAAK,CAAC,CACxB,CACF,CACF,CAAC,CAAC,CAEFI,cAAc,CAACK,OAAO,CAAChB,OAAO,CAAC,CAE/B;AACAA,OAAO,CAACiB,gBAAgB,CAAC,eAAe,CAAEd,kBAAkB,CAAC,CAE7D;AACA,KAAM,CAAAe,gBAAgB,CAAG,GAAI,CAAAC,gBAAgB,CAAC,IAAM,CAClDhB,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAC,CAEFe,gBAAgB,CAACF,OAAO,CAAChB,OAAO,CAAE,CAChCoB,UAAU,CAAE,IAAI,CAChBC,eAAe,CAAE,CAAC,OAAO,CAAE,OAAO,CACpC,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/BnB,kBAAkB,CAAC,CAAC,CACtB,CAAC,CACDoB,MAAM,CAACN,gBAAgB,CAAC,QAAQ,CAAEK,kBAAkB,CAAC,CAErD,MAAO,IAAM,CACXE,YAAY,CAACf,SAAS,CAAC,CACvB,GAAIV,QAAQ,CAACK,OAAO,CAAE,CACpBC,oBAAoB,CAACN,QAAQ,CAACK,OAAO,CAAC,CACxC,CACAO,cAAc,CAACc,UAAU,CAAC,CAAC,CAC3BP,gBAAgB,CAACO,UAAU,CAAC,CAAC,CAC7BzB,OAAO,CAAC0B,mBAAmB,CAAC,eAAe,CAAEvB,kBAAkB,CAAC,CAChEoB,MAAM,CAACG,mBAAmB,CAAC,QAAQ,CAAEJ,kBAAkB,CAAC,CAC1D,CAAC,CACH,CAAC,CAAE,CAAC1B,WAAW,CAAC,CAAC,CAEjB,MAAO,CAAAC,YAAY,CACrB,CAAC,CAED,cAAe,CAAAF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}