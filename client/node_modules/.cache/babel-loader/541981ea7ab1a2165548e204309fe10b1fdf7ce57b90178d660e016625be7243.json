{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{X,Plus,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const POPayRatesFilterBuilder=_ref=>{let{availableFields,filters,onSubmit,onClear,onClose}=_ref;const[localFilters,setLocalFilters]=useState(filters);useEffect(()=>{setLocalFilters(filters);},[filters]);const addFilter=()=>{setLocalFilters(_objectSpread(_objectSpread({},localFilters),{},{[Date.now().toString()]:{field:'',value:true}}));};const removeFilter=key=>{const updated=_objectSpread({},localFilters);delete updated[key];setLocalFilters(updated);};const updateFilter=(key,updates)=>{setLocalFilters(_objectSpread(_objectSpread({},localFilters),{},{[key]:_objectSpread(_objectSpread({},localFilters[key]),updates)}));};const handleSubmit=()=>{// Convert to object format expected by backend: { fieldName: true/false }\nconst filterObject={};Object.keys(localFilters).forEach(key=>{const filter=localFilters[key];if(filter.field&&(filter.value===true||filter.value===false)){filterObject[filter.field]=filter.value;}});onSubmit(filterObject);};// Filter out deprecated fields\nconst filteredFields=availableFields.filter(f=>{const fieldLabel=(f.label||'').toLowerCase();return!f.deprecated&&!fieldLabel.includes('deprecated');});return/*#__PURE__*/_jsxs(\"div\",{className:\"case-filter-builder\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-builder-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filter PO Pay Rates\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-close-filter\",onClick:onClose,children:/*#__PURE__*/_jsx(X,{size:18})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-builder-content\",children:Object.keys(localFilters).length===0?/*#__PURE__*/_jsx(\"div\",{className:\"filter-empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No filters applied. Click \\\"Add Filter\\\" to filter the data.\"})}):Object.keys(localFilters).map(key=>{const filter=localFilters[key];const field=filteredFields.find(f=>f.name===filter.field);return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-row\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"filter-field-select\",value:filter.field||'',onChange:e=>updateFilter(key,{field:e.target.value,value:true}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Field\"}),filteredFields.map(f=>/*#__PURE__*/_jsx(\"option\",{value:f.name,children:f.label||f.name},f.name))]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-value-select\",value:filter.value===true?'true':filter.value===false?'false':'',onChange:e=>updateFilter(key,{value:e.target.value==='true'}),disabled:!filter.field,style:{padding:'8px 12px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'13px',fontFamily:'Poppins',background:'#fff',color:'#002329',width:'100%',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Value\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"True (Checked)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"False (Unchecked)\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-remove-btn\",onClick:()=>removeFilter(key),title:\"Remove filter\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]},key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-builder-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-add-filter\",onClick:addFilter,children:[/*#__PURE__*/_jsx(Plus,{size:14}),\" Add Filter\"]}),Object.keys(localFilters).length>0&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn-clear-filters\",onClick:onClear,children:[/*#__PURE__*/_jsx(Trash2,{size:14}),\" Clear All\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-submit-filters\",onClick:handleSubmit,children:\"Apply Filters\"})]})]});};export default POPayRatesFilterBuilder;","map":{"version":3,"names":["React","useState","useEffect","X","Plus","Trash2","jsx","_jsx","jsxs","_jsxs","POPayRatesFilterBuilder","_ref","availableFields","filters","onSubmit","onClear","onClose","localFilters","setLocalFilters","addFilter","_objectSpread","Date","now","toString","field","value","removeFilter","key","updated","updateFilter","updates","handleSubmit","filterObject","Object","keys","forEach","filter","filteredFields","f","fieldLabel","label","toLowerCase","deprecated","includes","className","children","onClick","size","length","map","find","name","onChange","e","target","disabled","style","padding","border","borderRadius","fontSize","fontFamily","background","color","width","boxSizing","title"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/POPayRates/POPayRatesFilterBuilder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Plus, Trash2 } from 'lucide-react';\n\nconst POPayRatesFilterBuilder = ({ availableFields, filters, onSubmit, onClear, onClose }) => {\n  const [localFilters, setLocalFilters] = useState(filters);\n  \n  useEffect(() => {\n    setLocalFilters(filters);\n  }, [filters]);\n\n  const addFilter = () => {\n    setLocalFilters({ ...localFilters, [Date.now().toString()]: { field: '', value: true } });\n  };\n\n  const removeFilter = (key) => {\n    const updated = { ...localFilters };\n    delete updated[key];\n    setLocalFilters(updated);\n  };\n\n  const updateFilter = (key, updates) => {\n    setLocalFilters({ ...localFilters, [key]: { ...localFilters[key], ...updates } });\n  };\n\n  const handleSubmit = () => {\n    // Convert to object format expected by backend: { fieldName: true/false }\n    const filterObject = {};\n    Object.keys(localFilters).forEach(key => {\n      const filter = localFilters[key];\n      if (filter.field && (filter.value === true || filter.value === false)) {\n        filterObject[filter.field] = filter.value;\n      }\n    });\n    onSubmit(filterObject);\n  };\n\n  // Filter out deprecated fields\n  const filteredFields = availableFields.filter(f => {\n    const fieldLabel = (f.label || '').toLowerCase();\n    return !f.deprecated && !fieldLabel.includes('deprecated');\n  });\n\n  return (\n    <div className=\"case-filter-builder\">\n      <div className=\"filter-builder-header\">\n        <h3>Filter PO Pay Rates</h3>\n        <button className=\"btn-close-filter\" onClick={onClose}>\n          <X size={18} />\n        </button>\n      </div>\n\n      <div className=\"filter-builder-content\">\n        {Object.keys(localFilters).length === 0 ? (\n          <div className=\"filter-empty-state\">\n            <p>No filters applied. Click \"Add Filter\" to filter the data.</p>\n          </div>\n        ) : (\n          Object.keys(localFilters).map((key) => {\n            const filter = localFilters[key];\n            const field = filteredFields.find(f => f.name === filter.field);\n            \n            return (\n              <div key={key} className=\"filter-row\">\n                <select\n                  className=\"filter-field-select\"\n                  value={filter.field || ''}\n                  onChange={(e) => updateFilter(key, { field: e.target.value, value: true })}\n                >\n                  <option value=\"\">Select Field</option>\n                  {filteredFields.map(f => (\n                    <option key={f.name} value={f.name}>\n                      {f.label || f.name}\n                    </option>\n                  ))}\n                </select>\n                <select\n                  className=\"filter-value-select\"\n                  value={filter.value === true ? 'true' : filter.value === false ? 'false' : ''}\n                  onChange={(e) => updateFilter(key, { value: e.target.value === 'true' })}\n                  disabled={!filter.field}\n                  style={{ padding: '8px 12px', border: '1px solid #d1d5db', borderRadius: '6px', fontSize: '13px', fontFamily: 'Poppins', background: '#fff', color: '#002329', width: '100%', boxSizing: 'border-box' }}\n                >\n                  <option value=\"\">Select Value</option>\n                  <option value=\"true\">True (Checked)</option>\n                  <option value=\"false\">False (Unchecked)</option>\n                </select>\n                <button\n                  className=\"filter-remove-btn\"\n                  onClick={() => removeFilter(key)}\n                  title=\"Remove filter\"\n                >\n                  <Trash2 size={14} />\n                </button>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      <div className=\"filter-builder-actions\">\n        <button className=\"btn-add-filter\" onClick={addFilter}>\n          <Plus size={14} /> Add Filter\n        </button>\n        {Object.keys(localFilters).length > 0 && (\n          <button className=\"btn-clear-filters\" onClick={onClear}>\n            <Trash2 size={14} /> Clear All\n          </button>\n        )}\n        <button className=\"btn-submit-filters\" onClick={handleSubmit}>\n          Apply Filters\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default POPayRatesFilterBuilder;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}