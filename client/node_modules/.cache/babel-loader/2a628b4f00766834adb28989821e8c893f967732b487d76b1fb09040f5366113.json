{"ast":null,"code":"import _objectWithoutProperties from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"component\"];import React,{useState,useEffect}from'react';import{Layout,Plus,BarChart3,TrendingUp,Users,FileText}from'lucide-react';import{BarChart,Bar,LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,PieChart,Pie,Cell,AreaChart,Area}from'recharts';import WidgetContainer from'./WidgetContainer';import WidgetConfigModal from'./WidgetConfigModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardWidgetsManager=_ref=>{let{stats=[],analytics={}}=_ref;const[widgets,setWidgets]=useState([]);const[showAddMenu,setShowAddMenu]=useState(false);const[configuringWidget,setConfiguringWidget]=useState(null);// Debug: Log when data changes\nuseEffect(()=>{if(process.env.NODE_ENV==='development'){console.log('DashboardWidgetsManager - Stats:',stats);console.log('DashboardWidgetsManager - Analytics:',analytics);}},[stats,analytics]);useEffect(()=>{loadWidgets();},[]);// Close add menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showAddMenu&&!event.target.closest('[data-add-menu]')){setShowAddMenu(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[showAddMenu]);const loadWidgets=()=>{try{const saved=localStorage.getItem('dashboard_widgets');if(saved){const parsedWidgets=JSON.parse(saved);// Ensure all widgets have required default fields\nconst widgetsWithDefaults=parsedWidgets.map(w=>_objectSpread({dataSource:w.type==='chart'||w.type==='table'?'publishes':'dashboard',chartType:'bar',chartDataField:w.type==='chart'||w.type==='table'?w.chartDataField||'byObjectType':'',metricField:'totalPublishes',color:'#08979C',showLegend:true,showGrid:true},w));setWidgets(widgetsWithDefaults);}else{// Default widgets\nconst defaultWidget={id:'widget_1',type:'summary',title:'Total Publishes',dataSource:'dashboard',metricField:'totalPublishes',color:'#08979C'};setWidgets([defaultWidget]);}}catch(error){console.error('Error loading widgets:',error);}};const saveWidgets=newWidgets=>{try{// Don't save React components to localStorage - they can't be serialized\nconst widgetsToSave=newWidgets.map(w=>{const{component}=w,widgetData=_objectWithoutProperties(w,_excluded);return widgetData;});localStorage.setItem('dashboard_widgets',JSON.stringify(widgetsToSave));// Update state with widgets (without components - they'll be generated on render)\nsetWidgets(widgetsToSave);}catch(error){console.error('Error saving widgets:',error);}};const addWidget=widgetType=>{// Set default configuration based on widget type\nconst defaultConfig={id:\"widget_\".concat(Date.now()),type:widgetType,title:getWidgetTitle(widgetType),dataSource:widgetType==='chart'||widgetType==='table'?'publishes':'dashboard',chartType:'bar',chartDataField:widgetType==='chart'||widgetType==='table'?'byObjectType':'',metricField:'totalPublishes',color:'#08979C',showLegend:true,showGrid:true};const newWidgets=[...widgets,defaultConfig];saveWidgets(newWidgets);setShowAddMenu(false);// Open configuration modal for new widget\nsetConfiguringWidget(defaultConfig);};const handleConfigure=widget=>{setConfiguringWidget(widget);};const handleSaveConfig=(widgetId,config)=>{const updatedWidgets=widgets.map(w=>{if(w.id===widgetId){return _objectSpread(_objectSpread(_objectSpread({},w),config),{},{updatedAt:Date.now()// Add timestamp to force re-render\n});}return w;});saveWidgets(updatedWidgets);// Close modal after saving\nsetConfiguringWidget(null);};const removeWidget=widgetId=>{const newWidgets=widgets.filter(w=>w.id!==widgetId);saveWidgets(newWidgets);};const getWidgetTitle=type=>{const titles={summary:'Summary',chart:'Chart',table:'Table',metric:'Metric',list:'List'};return titles[type]||'Widget';};const getWidgetData=widget=>{var _stats$find,_stats$find2,_stats$find3,_stats$find4;const dataSource=widget.dataSource||'dashboard';switch(dataSource){case'dashboard':// Return dashboard stats\nconst dashboardData={totalPublishes:((_stats$find=stats.find(s=>s.label==='Total Publishes'))===null||_stats$find===void 0?void 0:_stats$find.value)||'0',todayPublishes:((_stats$find2=stats.find(s=>s.label==='Today'))===null||_stats$find2===void 0?void 0:_stats$find2.value)||'0',recentPublishes:((_stats$find3=stats.find(s=>s.label==='Last 7 Days'))===null||_stats$find3===void 0?void 0:_stats$find3.value)||'0',successRate:((_stats$find4=stats.find(s=>s.label==='Success Rate'))===null||_stats$find4===void 0?void 0:_stats$find4.value)||'0%'};if(process.env.NODE_ENV==='development'){console.log('Dashboard widget data:',{widget,dashboardData,stats});}return dashboardData;case'publishes':// Return publishing activity data\nconst publishesData={byObjectType:analytics.publishesByObjectType||{},byOperation:analytics.publishesByOperation||{},activityByDay:analytics.activityByDay||[]};if(process.env.NODE_ENV==='development'){console.log('Publishes widget data:',{widget,publishesData,analytics});}return publishesData;case'projects':// Return project data\nreturn{byUser:analytics.projectsByUser||{},byDate:analytics.projectsByDate||{}};default:return{};}};const getWidgetComponent=widget=>{const type=widget.type||'summary';const color=widget.color||'#08979C';const data=getWidgetData(widget);switch(type){case'summary':// Display a summary metric based on data source\nlet summaryValue='0';let summaryLabel='Total Items';if(widget.dataSource==='dashboard'){const metric=widget.metricField||'totalPublishes';summaryValue=data[metric]||'0';summaryLabel=widget.metricLabel||'Total Publishes';}else if(widget.dataSource==='publishes'){const total=Object.values(data.byObjectType||{}).reduce((sum,val)=>sum+(Number(val)||0),0);summaryValue=total.toString();summaryLabel=widget.metricLabel||'Total Publishes';}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',background:'#f9fafb',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'600',color:color},children:summaryValue}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666'},children:summaryLabel})]});case'chart':const chartType=widget.chartType||'bar';let chartData=[];let chartConfig={};// Determine chartDataField if not set (use default based on dataSource)\nconst chartDataField=widget.chartDataField||(widget.dataSource==='publishes'?'byObjectType':'');if(widget.dataSource==='publishes'){if(chartDataField==='byObjectType'){chartData=Object.entries(data.byObjectType||{}).map(_ref2=>{let[name,value]=_ref2;return{name:name.replace(/_/g,' ').replace(/__c/g,'').replace(/\\b\\w/g,l=>l.toUpperCase()),value:Number(value)||0};}).filter(item=>item.value>0);}else if(chartDataField==='byOperation'){chartData=Object.entries(data.byOperation||{}).map(_ref3=>{let[name,value]=_ref3;return{name:name.charAt(0).toUpperCase()+name.slice(1),value:Number(value)||0};}).filter(item=>item.value>0);}else if(chartDataField==='activityByDay'){chartData=(data.activityByDay||[]).map(item=>({date:new Date(item.date).toLocaleDateString('en-US',{month:'short',day:'numeric'}),creates:item.creates||0,updates:item.updates||0,total:item.total||0}));}}else if(widget.dataSource==='dashboard'){// For dashboard data source, show stats as chart\nchartData=[{name:'Total',value:Number(data.totalPublishes)||0},{name:'Today',value:Number(data.todayPublishes)||0},{name:'Last 7 Days',value:Number(data.recentPublishes)||0}].filter(item=>item.value>0);}if(chartData.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',textAlign:'center',color:'#666',minHeight:'200px',display:'flex',flexDirection:'column',justifyContent:'center'},children:[/*#__PURE__*/_jsx(BarChart3,{size:32,style:{opacity:0.3,color:color,margin:'0 auto'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',marginTop:'8px'},children:widget.dataSource==='publishes'&&!chartDataField?'Please configure: Select a Data Field (By Object Type, By Operation, or Activity Over Time)':'No data available. Data may not be loaded yet.'})]});}const COLORS=[color,'#10b981','#3b82f6','#8b5cf6','#f59e0b','#ef4444'];if(chartType==='pie'){return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:chartData,cx:\"50%\",cy:\"50%\",labelLine:false,label:false,outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:chartData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{}),widget.showLegend!==false&&/*#__PURE__*/_jsx(Legend,{})]})});}else if(chartType==='line'){return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,children:[widget.showGrid!==false&&/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",tick:{fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{}),widget.showLegend!==false&&/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"value\",stroke:color,strokeWidth:2})]})});}else if(chartType==='area'){return/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(AreaChart,{data:chartData,children:[widget.showGrid!==false&&/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",tick:{fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{}),widget.showLegend!==false&&/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"value\",stroke:color,fill:color,fillOpacity:0.3})]})});}else{// Bar chart (default)\nreturn/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,children:[widget.showGrid!==false&&/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",tick:{fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{}),widget.showLegend!==false&&/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:color,radius:[8,8,0,0]})]})});}case'table':let tableData=[];const tableDataField=widget.chartDataField||(widget.dataSource==='publishes'?'byObjectType':'');if(widget.dataSource==='publishes'){if(tableDataField==='byObjectType'){tableData=Object.entries(data.byObjectType||{}).map(_ref4=>{let[name,value]=_ref4;return{name:name.replace(/_/g,' ').replace(/__c/g,'').replace(/\\b\\w/g,l=>l.toUpperCase()),value:Number(value)||0};}).filter(item=>item.value>0);}else if(tableDataField==='byOperation'){tableData=Object.entries(data.byOperation||{}).map(_ref5=>{let[name,value]=_ref5;return{name:name.charAt(0).toUpperCase()+name.slice(1),value:Number(value)||0};}).filter(item=>item.value>0);}}else if(widget.dataSource==='dashboard'){// For dashboard, show stats as table\ntableData=[{name:'Total Publishes',value:Number(data.totalPublishes)||0},{name:'Today',value:Number(data.todayPublishes)||0},{name:'Last 7 Days',value:Number(data.recentPublishes)||0},{name:'Success Rate',value:data.successRate||'0%'}].filter(item=>{if(typeof item.value==='string'&&item.value.includes('%'))return true;return Number(item.value)>0;});}if(tableData.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',textAlign:'center',color:'#666',minHeight:'150px',display:'flex',flexDirection:'column',justifyContent:'center'},children:[/*#__PURE__*/_jsx(FileText,{size:32,style:{opacity:0.3,color:color,margin:'0 auto'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',marginTop:'8px'},children:widget.dataSource==='publishes'&&!tableDataField?'Please configure: Select a Data Field':'No data available. Data may not be loaded yet.'})]});}return/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',fontWeight:'600',color:'#002329'},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'right',padding:'8px',fontWeight:'600',color:'#002329'},children:\"Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableData.slice(0,5).map((row,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #f3f4f6'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',color:'#002329'},children:row.name}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'right',padding:'8px',color:color,fontWeight:'600'},children:row.value})]},index))})]})});case'metric':let metricValue=widget.metricValue||'0';let metricLabel=widget.metricLabel||'Metric';// If data source is dashboard, try to get real value\nif(widget.dataSource==='dashboard'&&widget.metricField){metricValue=data[widget.metricField]||metricValue;}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',background:'#f9fafb',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',fontWeight:'600',color:color},children:metricValue}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666'},children:metricLabel})]});default:return/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',color:'#666'},children:\"Widget content\"});}};const widgetTypes=[{type:'summary',label:'Summary',icon:BarChart3},{type:'chart',label:'Chart',icon:TrendingUp},{type:'table',label:'Table',icon:FileText},{type:'metric',label:'Metric',icon:Users}];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'20px',fontWeight:'600',margin:0,display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Layout,{size:24,color:\"#0176d3\"}),\"Dashboard Widgets\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},\"data-add-menu\":true,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddMenu(!showAddMenu),style:{padding:'8px 16px',background:'#08979C',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',display:'flex',alignItems:'center',gap:'6px',transition:'background 0.2s'},onMouseEnter:e=>e.target.style.background='#067a7f',onMouseLeave:e=>e.target.style.background='#08979C',children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Widget\"]}),showAddMenu&&/*#__PURE__*/_jsx(\"div\",{\"data-add-menu\":true,style:{position:'absolute',top:'100%',right:0,marginTop:'8px',background:'#fff',border:'1px solid #e5e7eb',borderRadius:'6px',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',padding:'8px',minWidth:'200px',zIndex:1000},children:widgetTypes.map(wt=>{const Icon=wt.icon;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>addWidget(wt.type),style:{padding:'10px 12px',cursor:'pointer',borderRadius:'4px',display:'flex',alignItems:'center',gap:'10px',fontSize:'13px',transition:'background 0.2s'},onMouseEnter:e=>e.target.style.background='#f9fafb',onMouseLeave:e=>e.target.style.background='transparent',children:[/*#__PURE__*/_jsx(Icon,{size:16,color:\"#0176d3\"}),wt.label]},wt.type);})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(300px, 1fr))',gap:'16px'},children:widgets.map(widget=>{// Ensure widget has required default fields\nconst widgetWithDefaults=_objectSpread({dataSource:'dashboard',chartType:'bar',chartDataField:'',metricField:'totalPublishes',color:'#08979C',showLegend:true,showGrid:true},widget);// Generate component dynamically based on widget config\nconst widgetWithComponent=_objectSpread(_objectSpread({},widgetWithDefaults),{},{component:getWidgetComponent(widgetWithDefaults)});return/*#__PURE__*/_jsx(WidgetContainer,{widget:widgetWithComponent,onRemove:removeWidget,onConfigure:handleConfigure},\"\".concat(widget.id,\"-\").concat(widget.updatedAt||0));})}),widgets.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666'},children:[/*#__PURE__*/_jsx(Layout,{size:32,style:{marginBottom:'12px',opacity:0.5}}),/*#__PURE__*/_jsx(\"p\",{children:\"No widgets. Add widgets to customize your dashboard.\"})]}),/*#__PURE__*/_jsx(WidgetConfigModal,{show:!!configuringWidget,onClose:()=>setConfiguringWidget(null),widget:configuringWidget,onSave:handleSaveConfig})]});};export default DashboardWidgetsManager;","map":{"version":3,"names":["React","useState","useEffect","Layout","Plus","BarChart3","TrendingUp","Users","FileText","BarChart","Bar","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","AreaChart","Area","WidgetContainer","WidgetConfigModal","jsx","_jsx","jsxs","_jsxs","DashboardWidgetsManager","_ref","stats","analytics","widgets","setWidgets","showAddMenu","setShowAddMenu","configuringWidget","setConfiguringWidget","process","env","NODE_ENV","console","log","loadWidgets","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","saved","localStorage","getItem","parsedWidgets","JSON","parse","widgetsWithDefaults","map","w","_objectSpread","dataSource","type","chartType","chartDataField","metricField","color","showLegend","showGrid","defaultWidget","id","title","error","saveWidgets","newWidgets","widgetsToSave","component","widgetData","_objectWithoutProperties","_excluded","setItem","stringify","addWidget","widgetType","defaultConfig","concat","Date","now","getWidgetTitle","handleConfigure","widget","handleSaveConfig","widgetId","config","updatedWidgets","updatedAt","removeWidget","filter","titles","summary","chart","table","metric","list","getWidgetData","_stats$find","_stats$find2","_stats$find3","_stats$find4","dashboardData","totalPublishes","find","s","label","value","todayPublishes","recentPublishes","successRate","publishesData","byObjectType","publishesByObjectType","byOperation","publishesByOperation","activityByDay","byUser","projectsByUser","byDate","projectsByDate","getWidgetComponent","data","summaryValue","summaryLabel","metricLabel","total","Object","values","reduce","sum","val","Number","toString","style","padding","background","borderRadius","children","fontSize","fontWeight","chartData","chartConfig","entries","_ref2","name","replace","l","toUpperCase","item","_ref3","charAt","slice","date","toLocaleDateString","month","day","creates","updates","length","textAlign","minHeight","display","flexDirection","justifyContent","size","opacity","margin","marginTop","COLORS","width","height","cx","cy","labelLine","outerRadius","fill","dataKey","entry","index","strokeDasharray","stroke","tick","strokeWidth","fillOpacity","radius","tableData","tableDataField","_ref4","_ref5","includes","borderCollapse","borderBottom","row","metricValue","widgetTypes","icon","alignItems","marginBottom","gap","position","onClick","border","cursor","transition","onMouseEnter","e","onMouseLeave","top","right","boxShadow","minWidth","zIndex","wt","Icon","gridTemplateColumns","widgetWithDefaults","widgetWithComponent","onRemove","onConfigure","show","onClose","onSave"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/DashboardWidgets/DashboardWidgetsManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Layout, Plus, BarChart3, TrendingUp, Users, FileText } from 'lucide-react';\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, AreaChart, Area } from 'recharts';\nimport WidgetContainer from './WidgetContainer';\nimport WidgetConfigModal from './WidgetConfigModal';\n\nconst DashboardWidgetsManager = ({ stats = [], analytics = {} }) => {\n  const [widgets, setWidgets] = useState([]);\n  const [showAddMenu, setShowAddMenu] = useState(false);\n  const [configuringWidget, setConfiguringWidget] = useState(null);\n\n  // Debug: Log when data changes\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('DashboardWidgetsManager - Stats:', stats);\n      console.log('DashboardWidgetsManager - Analytics:', analytics);\n    }\n  }, [stats, analytics]);\n\n  useEffect(() => {\n    loadWidgets();\n  }, []);\n\n  // Close add menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showAddMenu && !event.target.closest('[data-add-menu]')) {\n        setShowAddMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showAddMenu]);\n\n  const loadWidgets = () => {\n    try {\n      const saved = localStorage.getItem('dashboard_widgets');\n      if (saved) {\n        const parsedWidgets = JSON.parse(saved);\n        // Ensure all widgets have required default fields\n        const widgetsWithDefaults = parsedWidgets.map(w => ({\n          dataSource: w.type === 'chart' || w.type === 'table' ? 'publishes' : 'dashboard',\n          chartType: 'bar',\n          chartDataField: w.type === 'chart' || w.type === 'table' ? (w.chartDataField || 'byObjectType') : '',\n          metricField: 'totalPublishes',\n          color: '#08979C',\n          showLegend: true,\n          showGrid: true,\n          ...w\n        }));\n        setWidgets(widgetsWithDefaults);\n      } else {\n        // Default widgets\n        const defaultWidget = {\n          id: 'widget_1',\n          type: 'summary',\n          title: 'Total Publishes',\n          dataSource: 'dashboard',\n          metricField: 'totalPublishes',\n          color: '#08979C'\n        };\n        setWidgets([defaultWidget]);\n      }\n    } catch (error) {\n      console.error('Error loading widgets:', error);\n    }\n  };\n\n  const saveWidgets = (newWidgets) => {\n    try {\n      // Don't save React components to localStorage - they can't be serialized\n      const widgetsToSave = newWidgets.map(w => {\n        const { component, ...widgetData } = w;\n        return widgetData;\n      });\n      localStorage.setItem('dashboard_widgets', JSON.stringify(widgetsToSave));\n      // Update state with widgets (without components - they'll be generated on render)\n      setWidgets(widgetsToSave);\n    } catch (error) {\n      console.error('Error saving widgets:', error);\n    }\n  };\n\n  const addWidget = (widgetType) => {\n    // Set default configuration based on widget type\n    const defaultConfig = {\n      id: `widget_${Date.now()}`,\n      type: widgetType,\n      title: getWidgetTitle(widgetType),\n      dataSource: widgetType === 'chart' || widgetType === 'table' ? 'publishes' : 'dashboard',\n      chartType: 'bar',\n      chartDataField: widgetType === 'chart' || widgetType === 'table' ? 'byObjectType' : '',\n      metricField: 'totalPublishes',\n      color: '#08979C',\n      showLegend: true,\n      showGrid: true\n    };\n    const newWidgets = [...widgets, defaultConfig];\n    saveWidgets(newWidgets);\n    setShowAddMenu(false);\n    // Open configuration modal for new widget\n    setConfiguringWidget(defaultConfig);\n  };\n\n  const handleConfigure = (widget) => {\n    setConfiguringWidget(widget);\n  };\n\n  const handleSaveConfig = (widgetId, config) => {\n    const updatedWidgets = widgets.map(w => {\n      if (w.id === widgetId) {\n        return {\n          ...w,\n          ...config,\n          updatedAt: Date.now() // Add timestamp to force re-render\n        };\n      }\n      return w;\n    });\n    saveWidgets(updatedWidgets);\n    // Close modal after saving\n    setConfiguringWidget(null);\n  };\n\n  const removeWidget = (widgetId) => {\n    const newWidgets = widgets.filter(w => w.id !== widgetId);\n    saveWidgets(newWidgets);\n  };\n\n  const getWidgetTitle = (type) => {\n    const titles = {\n      summary: 'Summary',\n      chart: 'Chart',\n      table: 'Table',\n      metric: 'Metric',\n      list: 'List'\n    };\n    return titles[type] || 'Widget';\n  };\n\n  const getWidgetData = (widget) => {\n    const dataSource = widget.dataSource || 'dashboard';\n    \n    switch (dataSource) {\n      case 'dashboard':\n        // Return dashboard stats\n        const dashboardData = {\n          totalPublishes: stats.find(s => s.label === 'Total Publishes')?.value || '0',\n          todayPublishes: stats.find(s => s.label === 'Today')?.value || '0',\n          recentPublishes: stats.find(s => s.label === 'Last 7 Days')?.value || '0',\n          successRate: stats.find(s => s.label === 'Success Rate')?.value || '0%'\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Dashboard widget data:', { widget, dashboardData, stats });\n        }\n        return dashboardData;\n      case 'publishes':\n        // Return publishing activity data\n        const publishesData = {\n          byObjectType: analytics.publishesByObjectType || {},\n          byOperation: analytics.publishesByOperation || {},\n          activityByDay: analytics.activityByDay || []\n        };\n        if (process.env.NODE_ENV === 'development') {\n          console.log('Publishes widget data:', { widget, publishesData, analytics });\n        }\n        return publishesData;\n      case 'projects':\n        // Return project data\n        return {\n          byUser: analytics.projectsByUser || {},\n          byDate: analytics.projectsByDate || {}\n        };\n      default:\n        return {};\n    }\n  };\n\n  const getWidgetComponent = (widget) => {\n    const type = widget.type || 'summary';\n    const color = widget.color || '#08979C';\n    const data = getWidgetData(widget);\n    \n    switch (type) {\n      case 'summary':\n        // Display a summary metric based on data source\n        let summaryValue = '0';\n        let summaryLabel = 'Total Items';\n        \n        if (widget.dataSource === 'dashboard') {\n          const metric = widget.metricField || 'totalPublishes';\n          summaryValue = data[metric] || '0';\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        } else if (widget.dataSource === 'publishes') {\n          const total = Object.values(data.byObjectType || {}).reduce((sum, val) => sum + (Number(val) || 0), 0);\n          summaryValue = total.toString();\n          summaryLabel = widget.metricLabel || 'Total Publishes';\n        }\n        \n        return (\n          <div style={{ padding: '12px', background: '#f9fafb', borderRadius: '6px' }}>\n            <div style={{ fontSize: '24px', fontWeight: '600', color: color }}>{summaryValue}</div>\n            <div style={{ fontSize: '12px', color: '#666' }}>{summaryLabel}</div>\n          </div>\n        );\n        \n      case 'chart':\n        const chartType = widget.chartType || 'bar';\n        let chartData = [];\n        let chartConfig = {};\n        \n        // Determine chartDataField if not set (use default based on dataSource)\n        const chartDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        \n        if (widget.dataSource === 'publishes') {\n          if (chartDataField === 'byObjectType') {\n            chartData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'byOperation') {\n            chartData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (chartDataField === 'activityByDay') {\n            chartData = (data.activityByDay || []).map(item => ({\n              date: new Date(item.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n              creates: item.creates || 0,\n              updates: item.updates || 0,\n              total: item.total || 0\n            }));\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard data source, show stats as chart\n          chartData = [\n            { name: 'Total', value: Number(data.totalPublishes) || 0 },\n            { name: 'Today', value: Number(data.todayPublishes) || 0 },\n            { name: 'Last 7 Days', value: Number(data.recentPublishes) || 0 }\n          ].filter(item => item.value > 0);\n        }\n        \n        if (chartData.length === 0) {\n          return (\n            <div style={{ padding: '12px', textAlign: 'center', color: '#666', minHeight: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n              <BarChart3 size={32} style={{ opacity: 0.3, color: color, margin: '0 auto' }} />\n              <div style={{ fontSize: '12px', marginTop: '8px' }}>\n                {widget.dataSource === 'publishes' && !chartDataField \n                  ? 'Please configure: Select a Data Field (By Object Type, By Operation, or Activity Over Time)'\n                  : 'No data available. Data may not be loaded yet.'}\n              </div>\n            </div>\n          );\n        }\n        \n        const COLORS = [color, '#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#ef4444'];\n        \n        if (chartType === 'pie') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <PieChart>\n                <Pie\n                  data={chartData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={false}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {chartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n              </PieChart>\n            </ResponsiveContainer>\n          );\n        } else if (chartType === 'line') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <LineChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Line type=\"monotone\" dataKey=\"value\" stroke={color} strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          );\n        } else if (chartType === 'area') {\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <AreaChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Area type=\"monotone\" dataKey=\"value\" stroke={color} fill={color} fillOpacity={0.3} />\n              </AreaChart>\n            </ResponsiveContainer>\n          );\n        } else {\n          // Bar chart (default)\n          return (\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <BarChart data={chartData}>\n                {widget.showGrid !== false && <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />}\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 11 }} />\n                <Tooltip />\n                {widget.showLegend !== false && <Legend />}\n                <Bar dataKey=\"value\" fill={color} radius={[8, 8, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          );\n        }\n        \n      case 'table':\n        let tableData = [];\n        const tableDataField = widget.chartDataField || (widget.dataSource === 'publishes' ? 'byObjectType' : '');\n        \n        if (widget.dataSource === 'publishes') {\n          if (tableDataField === 'byObjectType') {\n            tableData = Object.entries(data.byObjectType || {}).map(([name, value]) => ({\n              name: name.replace(/_/g, ' ').replace(/__c/g, '').replace(/\\b\\w/g, l => l.toUpperCase()),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          } else if (tableDataField === 'byOperation') {\n            tableData = Object.entries(data.byOperation || {}).map(([name, value]) => ({\n              name: name.charAt(0).toUpperCase() + name.slice(1),\n              value: Number(value) || 0\n            })).filter(item => item.value > 0);\n          }\n        } else if (widget.dataSource === 'dashboard') {\n          // For dashboard, show stats as table\n          tableData = [\n            { name: 'Total Publishes', value: Number(data.totalPublishes) || 0 },\n            { name: 'Today', value: Number(data.todayPublishes) || 0 },\n            { name: 'Last 7 Days', value: Number(data.recentPublishes) || 0 },\n            { name: 'Success Rate', value: data.successRate || '0%' }\n          ].filter(item => {\n            if (typeof item.value === 'string' && item.value.includes('%')) return true;\n            return Number(item.value) > 0;\n          });\n        }\n        \n        if (tableData.length === 0) {\n          return (\n            <div style={{ padding: '12px', textAlign: 'center', color: '#666', minHeight: '150px', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n              <FileText size={32} style={{ opacity: 0.3, color: color, margin: '0 auto' }} />\n              <div style={{ fontSize: '12px', marginTop: '8px' }}>\n                {widget.dataSource === 'publishes' && !tableDataField \n                  ? 'Please configure: Select a Data Field'\n                  : 'No data available. Data may not be loaded yet.'}\n              </div>\n            </div>\n          );\n        }\n        \n        return (\n          <div style={{ padding: '8px' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n              <thead>\n                <tr style={{ borderBottom: '1px solid #e5e7eb' }}>\n                  <th style={{ textAlign: 'left', padding: '8px', fontWeight: '600', color: '#002329' }}>Name</th>\n                  <th style={{ textAlign: 'right', padding: '8px', fontWeight: '600', color: '#002329' }}>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData.slice(0, 5).map((row, index) => (\n                  <tr key={index} style={{ borderBottom: '1px solid #f3f4f6' }}>\n                    <td style={{ padding: '8px', color: '#002329' }}>{row.name}</td>\n                    <td style={{ textAlign: 'right', padding: '8px', color: color, fontWeight: '600' }}>{row.value}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        );\n        \n      case 'metric':\n        let metricValue = widget.metricValue || '0';\n        let metricLabel = widget.metricLabel || 'Metric';\n        \n        // If data source is dashboard, try to get real value\n        if (widget.dataSource === 'dashboard' && widget.metricField) {\n          metricValue = data[widget.metricField] || metricValue;\n        }\n        \n        return (\n          <div style={{ padding: '12px', background: '#f9fafb', borderRadius: '6px' }}>\n            <div style={{ fontSize: '20px', fontWeight: '600', color: color }}>\n              {metricValue}\n            </div>\n            <div style={{ fontSize: '12px', color: '#666' }}>\n              {metricLabel}\n            </div>\n          </div>\n        );\n        \n      default:\n        return <div style={{ padding: '12px', color: '#666' }}>Widget content</div>;\n    }\n  };\n\n  const widgetTypes = [\n    { type: 'summary', label: 'Summary', icon: BarChart3 },\n    { type: 'chart', label: 'Chart', icon: TrendingUp },\n    { type: 'table', label: 'Table', icon: FileText },\n    { type: 'metric', label: 'Metric', icon: Users }\n  ];\n\n  return (\n    <div style={{ padding: '24px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n        <h2 style={{ fontSize: '20px', fontWeight: '600', margin: 0, display: 'flex', alignItems: 'center', gap: '8px' }}>\n          <Layout size={24} color=\"#0176d3\" />\n          Dashboard Widgets\n        </h2>\n        <div style={{ position: 'relative' }} data-add-menu>\n          <button\n            onClick={() => setShowAddMenu(!showAddMenu)}\n            style={{\n              padding: '8px 16px',\n              background: '#08979C',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '13px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n              transition: 'background 0.2s'\n            }}\n            onMouseEnter={(e) => e.target.style.background = '#067a7f'}\n            onMouseLeave={(e) => e.target.style.background = '#08979C'}\n          >\n            <Plus size={16} />\n            Add Widget\n          </button>\n\n          {showAddMenu && (\n            <div\n              data-add-menu\n              style={{\n                position: 'absolute',\n                top: '100%',\n                right: 0,\n                marginTop: '8px',\n                background: '#fff',\n                border: '1px solid #e5e7eb',\n                borderRadius: '6px',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                padding: '8px',\n                minWidth: '200px',\n                zIndex: 1000\n              }}\n            >\n              {widgetTypes.map(wt => {\n                const Icon = wt.icon;\n                return (\n                  <div\n                    key={wt.type}\n                    onClick={() => addWidget(wt.type)}\n                    style={{\n                      padding: '10px 12px',\n                      cursor: 'pointer',\n                      borderRadius: '4px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '10px',\n                      fontSize: '13px',\n                      transition: 'background 0.2s'\n                    }}\n                    onMouseEnter={(e) => e.target.style.background = '#f9fafb'}\n                    onMouseLeave={(e) => e.target.style.background = 'transparent'}\n                  >\n                    <Icon size={16} color=\"#0176d3\" />\n                    {wt.label}\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '16px' }}>\n        {widgets.map(widget => {\n          // Ensure widget has required default fields\n          const widgetWithDefaults = {\n            dataSource: 'dashboard',\n            chartType: 'bar',\n            chartDataField: '',\n            metricField: 'totalPublishes',\n            color: '#08979C',\n            showLegend: true,\n            showGrid: true,\n            ...widget\n          };\n          \n          // Generate component dynamically based on widget config\n          const widgetWithComponent = {\n            ...widgetWithDefaults,\n            component: getWidgetComponent(widgetWithDefaults)\n          };\n          return (\n            <WidgetContainer\n              key={`${widget.id}-${widget.updatedAt || 0}`}\n              widget={widgetWithComponent}\n              onRemove={removeWidget}\n              onConfigure={handleConfigure}\n            />\n          );\n        })}\n      </div>\n\n      {widgets.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n          <Layout size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n          <p>No widgets. Add widgets to customize your dashboard.</p>\n        </div>\n      )}\n\n      {/* Configuration Modal */}\n      <WidgetConfigModal\n        show={!!configuringWidget}\n        onClose={() => setConfiguringWidget(null)}\n        widget={configuringWidget}\n        onSave={handleSaveConfig}\n      />\n    </div>\n  );\n};\n\nexport default DashboardWidgetsManager;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}