{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/pages/CreateWorkStream.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, Search, X, Info, Plus, ChevronDown, ChevronUp, Trash2, Loader, Save, Copy, FolderOpen, Download, Upload, FileText } from 'lucide-react';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport '../styles/CreateWorkStream.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateWorkStream = ({\n  hideHeader = false\n}) => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [showForm, setShowForm] = useState(false); // New state to control form visibility\n\n  // Project Objectives without workstreams\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [allProjectObjectives, setAllProjectObjectives] = useState([]); // Store all fetched data for filtering\n  const [loadingPOs, setLoadingPOs] = useState(true);\n  const [poOffset, setPoOffset] = useState(0);\n  const [poHasMore, setPoHasMore] = useState(true);\n  const [loadingMorePOs, setLoadingMorePOs] = useState(false);\n  const infiniteScrollRef = useRef(null);\n  const [statusFilter, setStatusFilter] = useState(''); // Filter by status\n\n  // Workstreams array - each workstream has its own form data\n  const [workstreams, setWorkstreams] = useState([{\n    id: Date.now(),\n    projectWorkstreamName: '',\n    projectObjective: '',\n    projectObjectiveId: '',\n    refresh: false,\n    deliveryToolName: '',\n    clientWorkstreamIdentifier: '',\n    functionality: ''\n  }]);\n\n  // Track expanded/collapsed state for each workstream\n  const [expandedWorkstreams, setExpandedWorkstreams] = useState({\n    [Date.now()]: true\n  });\n\n  // Templates state\n  const [savedTemplates, setSavedTemplates] = useState([]);\n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [templateName, setTemplateName] = useState('');\n  const [showLoadTemplateModal, setShowLoadTemplateModal] = useState(false);\n\n  // Project Objective search - per workstream\n  const [projectObjectiveSearchTerms, setProjectObjectiveSearchTerms] = useState({});\n  const [projectObjectiveSearchResults, setProjectObjectiveSearchResults] = useState({});\n  const [loadingProjectObjectiveSearch, setLoadingProjectObjectiveSearch] = useState({});\n  const [showProjectObjectiveDropdowns, setShowProjectObjectiveDropdowns] = useState({});\n  const projectObjectiveSearchTimeoutRefs = useRef({});\n  const recentSelectionsRef = useRef({}); // Track recent selections to prevent search loop\n\n  // Fetch project objectives without workstreams\n  const fetchProjectObjectives = useCallback(async (offset = 0, append = false) => {\n    try {\n      if (offset === 0) {\n        setLoadingPOs(true);\n      } else {\n        setLoadingMorePOs(true);\n      }\n      const response = await apiClient.get('/workstream/project-objectives-without-workstreams', {\n        params: {\n          limit: 1000,\n          offset\n        },\n        timeout: 120000 // 2 minutes to match backend timeout\n      });\n      if (response.data.success) {\n        const newPOs = response.data.projectObjectives;\n        if (append) {\n          setAllProjectObjectives(prev => [...prev, ...newPOs]);\n        } else {\n          setAllProjectObjectives(newPOs);\n          setPoOffset(0); // Reset offset when starting fresh\n        }\n\n        // Update offset and hasMore\n        const newOffset = append ? poOffset + newPOs.length : newPOs.length;\n        setPoOffset(newOffset);\n\n        // If we got exactly 1000 records, assume there might be more\n        // Also check the hasMore flag from backend\n        const hasMoreRecords = response.data.hasMore || newPOs.length === 1000;\n        setPoHasMore(hasMoreRecords);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to fetch project objectives');\n    } finally {\n      setLoadingPOs(false);\n      setLoadingMorePOs(false);\n    }\n  }, []);\n\n  // Load saved templates from localStorage\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('workstreamTemplates');\n      if (saved) {\n        setSavedTemplates(JSON.parse(saved));\n      }\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    if (!showForm) {\n      fetchProjectObjectives(0, false);\n    }\n  }, [showForm, fetchProjectObjectives]);\n\n  // Infinite scroll for project objectives\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && poHasMore && !loadingMorePOs && !showForm) {\n        fetchProjectObjectives(poOffset, true);\n      }\n    }, {\n      threshold: 0.1\n    });\n    if (infiniteScrollRef.current) {\n      observer.observe(infiniteScrollRef.current);\n    }\n    return () => {\n      if (infiniteScrollRef.current) {\n        observer.unobserve(infiniteScrollRef.current);\n      }\n    };\n  }, [poHasMore, loadingMorePOs, poOffset, showForm, fetchProjectObjectives]);\n\n  // Filter project objectives by status\n  useEffect(() => {\n    if (statusFilter === '') {\n      setProjectObjectives(allProjectObjectives);\n    } else {\n      setProjectObjectives(allProjectObjectives.filter(po => po.status === statusFilter));\n    }\n  }, [statusFilter, allProjectObjectives]);\n\n  // Get unique status values for filter dropdown (exclude '--' and empty values)\n  const uniqueStatuses = Array.from(new Set(allProjectObjectives.map(po => po.status).filter(s => s && s !== '--'))).sort();\n\n  // Delivery Tool Name picklist (excluding QF as per original requirement)\n  const deliveryToolNameOptions = ['--None--', 'A9', 'ADAP', 'Ampersand', 'Appen Collect', 'AppenLex', 'Baseline', 'EWOQ', 'Exotel', 'Other', 'Polyglot', 'SRT', 'TryRating', 'UHRS', 'Test', 'Test Tool'];\n\n  // Functionality picklist values\n  const functionalityOptions = ['--None--', 'System Access', 'System Access & Productivity', 'Productivity'];\n\n  // Close search results when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      Object.keys(showProjectObjectiveDropdowns).forEach(workstreamId => {\n        if (showProjectObjectiveDropdowns[workstreamId] && !event.target.closest(`.project-objective-search-container-${workstreamId}`)) {\n          setShowProjectObjectiveDropdowns(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n        }\n      });\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showProjectObjectiveDropdowns]);\n\n  // Search Project Objectives when search term changes (per workstream)\n  useEffect(() => {\n    Object.keys(projectObjectiveSearchTerms).forEach(workstreamId => {\n      const searchTerm = projectObjectiveSearchTerms[workstreamId];\n      const workstream = workstreams.find(w => w.id === workstreamId);\n\n      // Clear any existing timeout\n      if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n        clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n        delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n      }\n\n      // IMPORTANT: Don't search if an objective is already selected\n      // This prevents the search loop when user selects an objective\n      if (workstream && workstream.projectObjectiveId) {\n        setProjectObjectiveSearchResults(prev => ({\n          ...prev,\n          [workstreamId]: []\n        }));\n        setShowProjectObjectiveDropdowns(prev => ({\n          ...prev,\n          [workstreamId]: false\n        }));\n        setLoadingProjectObjectiveSearch(prev => ({\n          ...prev,\n          [workstreamId]: false\n        }));\n        return;\n      }\n\n      // Don't search if search term is empty\n      if (!searchTerm || searchTerm.trim() === '') {\n        setProjectObjectiveSearchResults(prev => ({\n          ...prev,\n          [workstreamId]: []\n        }));\n        setShowProjectObjectiveDropdowns(prev => ({\n          ...prev,\n          [workstreamId]: false\n        }));\n        setLoadingProjectObjectiveSearch(prev => ({\n          ...prev,\n          [workstreamId]: false\n        }));\n        return;\n      }\n\n      // Check if this is a recent selection (within last 2 seconds)\n      const recentSelection = recentSelectionsRef.current[workstreamId];\n      if (recentSelection) {\n        const timeSinceSelection = Date.now() - recentSelection.timestamp;\n        if (timeSinceSelection < 2000) {\n          // This is a recent selection, don't search\n          setProjectObjectiveSearchResults(prev => ({\n            ...prev,\n            [workstreamId]: []\n          }));\n          setShowProjectObjectiveDropdowns(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n          setLoadingProjectObjectiveSearch(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n          return;\n        }\n      }\n\n      // Only search if user is actively typing (not just matching selected value)\n      projectObjectiveSearchTimeoutRefs.current[workstreamId] = setTimeout(async () => {\n        // Get fresh search term and workstream\n        const currentSearchTerm = projectObjectiveSearchTerms[workstreamId];\n        if (!currentSearchTerm || currentSearchTerm.trim() === '') {\n          return;\n        }\n\n        // CRITICAL: Re-check if objective was selected during timeout - if so, abort search\n        const currentWorkstream = workstreams.find(w => w.id === workstreamId);\n        if (currentWorkstream && currentWorkstream.projectObjectiveId) {\n          // An objective was selected, don't search\n          setProjectObjectiveSearchResults(prev => ({\n            ...prev,\n            [workstreamId]: []\n          }));\n          setShowProjectObjectiveDropdowns(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n          setLoadingProjectObjectiveSearch(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n          return;\n        }\n\n        // Check again if this is a recent selection\n        const currentRecentSelection = recentSelectionsRef.current[workstreamId];\n        if (currentRecentSelection) {\n          const timeSinceSelection = Date.now() - currentRecentSelection.timestamp;\n          if (timeSinceSelection < 2000) {\n            // This is a recent selection, don't search\n            setProjectObjectiveSearchResults(prev => ({\n              ...prev,\n              [workstreamId]: []\n            }));\n            setShowProjectObjectiveDropdowns(prev => ({\n              ...prev,\n              [workstreamId]: false\n            }));\n            setLoadingProjectObjectiveSearch(prev => ({\n              ...prev,\n              [workstreamId]: false\n            }));\n            return;\n          }\n        }\n        setLoadingProjectObjectiveSearch(prev => ({\n          ...prev,\n          [workstreamId]: true\n        }));\n        try {\n          const response = await apiClient.get(`/workstream/search-project-objectives?search=${encodeURIComponent(currentSearchTerm)}`);\n          if (response.data.success) {\n            // CRITICAL: Final check before showing results - make sure objective wasn't selected during API call\n            const finalWorkstream = workstreams.find(w => w.id === workstreamId);\n            if (finalWorkstream && finalWorkstream.projectObjectiveId) {\n              // An objective was selected during the API call, don't show results\n              setProjectObjectiveSearchResults(prev => ({\n                ...prev,\n                [workstreamId]: []\n              }));\n              setShowProjectObjectiveDropdowns(prev => ({\n                ...prev,\n                [workstreamId]: false\n              }));\n              setLoadingProjectObjectiveSearch(prev => ({\n                ...prev,\n                [workstreamId]: false\n              }));\n              return;\n            }\n\n            // Check for recent selection\n            const finalRecentSelection = recentSelectionsRef.current[workstreamId];\n            if (finalRecentSelection) {\n              const timeSinceSelection = Date.now() - finalRecentSelection.timestamp;\n              if (timeSinceSelection < 2000) {\n                // Objective was just selected, don't show results\n                setProjectObjectiveSearchResults(prev => ({\n                  ...prev,\n                  [workstreamId]: []\n                }));\n                setShowProjectObjectiveDropdowns(prev => ({\n                  ...prev,\n                  [workstreamId]: false\n                }));\n                setLoadingProjectObjectiveSearch(prev => ({\n                  ...prev,\n                  [workstreamId]: false\n                }));\n                return;\n              }\n            }\n\n            // All checks passed, show results\n            setProjectObjectiveSearchResults(prev => ({\n              ...prev,\n              [workstreamId]: response.data.projectObjectives || []\n            }));\n            setShowProjectObjectiveDropdowns(prev => ({\n              ...prev,\n              [workstreamId]: true\n            }));\n          }\n        } catch (error) {\n          setProjectObjectiveSearchResults(prev => ({\n            ...prev,\n            [workstreamId]: []\n          }));\n        } finally {\n          setLoadingProjectObjectiveSearch(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n        }\n      }, 300);\n    });\n    return () => {\n      Object.keys(projectObjectiveSearchTimeoutRefs.current).forEach(workstreamId => {\n        if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n          clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n          delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n        }\n      });\n    };\n  }, [projectObjectiveSearchTerms, workstreams]);\n  const handleProjectObjectiveSelect = (workstreamId, objective) => {\n    const selectedName = objective.contributorFacingProjectName || objective.name;\n\n    // Clear any pending search timeout immediately\n    if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n      clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n      delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n    }\n\n    // Mark this as a recent selection to prevent search loop\n    recentSelectionsRef.current[workstreamId] = {\n      name: selectedName,\n      timestamp: Date.now()\n    };\n\n    // Update workstream with selected objective\n    setWorkstreams(prev => prev.map(ws => ws.id === workstreamId ? {\n      ...ws,\n      projectObjective: selectedName,\n      projectObjectiveId: objective.id\n    } : ws));\n\n    // Clear search term instead of setting it to selected name - this prevents re-triggering search\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [workstreamId]: ''\n    }));\n\n    // Immediately close dropdown and clear results\n    setShowProjectObjectiveDropdowns(prev => ({\n      ...prev,\n      [workstreamId]: false\n    }));\n    setProjectObjectiveSearchResults(prev => ({\n      ...prev,\n      [workstreamId]: []\n    }));\n    setLoadingProjectObjectiveSearch(prev => ({\n      ...prev,\n      [workstreamId]: false\n    }));\n\n    // Clear the recent selection flag after a delay\n    setTimeout(() => {\n      if (recentSelectionsRef.current[workstreamId]) {\n        delete recentSelectionsRef.current[workstreamId];\n      }\n    }, 2000);\n  };\n  const handleClearProjectObjective = workstreamId => {\n    setWorkstreams(prev => prev.map(ws => ws.id === workstreamId ? {\n      ...ws,\n      projectObjective: '',\n      projectObjectiveId: ''\n    } : ws));\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [workstreamId]: ''\n    }));\n    setProjectObjectiveSearchResults(prev => ({\n      ...prev,\n      [workstreamId]: []\n    }));\n    setShowProjectObjectiveDropdowns(prev => ({\n      ...prev,\n      [workstreamId]: false\n    }));\n  };\n  const handleInputChange = (workstreamId, field, value) => {\n    setWorkstreams(prev => prev.map(ws => ws.id === workstreamId ? {\n      ...ws,\n      [field]: value\n    } : ws));\n  };\n  const handleSearchTermChange = (workstreamId, value) => {\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [workstreamId]: value\n    }));\n    if (value === '') {\n      handleClearProjectObjective(workstreamId);\n    }\n  };\n  const toggleWorkstreamExpanded = workstreamId => {\n    setExpandedWorkstreams(prev => ({\n      ...prev,\n      [workstreamId]: !prev[workstreamId]\n    }));\n  };\n  const addWorkstream = () => {\n    const newId = Date.now();\n    setWorkstreams(prev => [...prev, {\n      id: newId,\n      projectWorkstreamName: '',\n      projectObjective: '',\n      projectObjectiveId: '',\n      refresh: false,\n      deliveryToolName: '',\n      clientWorkstreamIdentifier: '',\n      functionality: ''\n    }]);\n    setExpandedWorkstreams(prev => ({\n      ...prev,\n      [newId]: true\n    }));\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [newId]: ''\n    }));\n  };\n  const removeWorkstream = workstreamId => {\n    if (workstreams.length === 1) {\n      toast.error('At least one workstream is required');\n      return;\n    }\n    setWorkstreams(prev => prev.filter(ws => ws.id !== workstreamId));\n    setExpandedWorkstreams(prev => {\n      const newState = {\n        ...prev\n      };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setProjectObjectiveSearchTerms(prev => {\n      const newState = {\n        ...prev\n      };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setProjectObjectiveSearchResults(prev => {\n      const newState = {\n        ...prev\n      };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setShowProjectObjectiveDropdowns(prev => {\n      const newState = {\n        ...prev\n      };\n      delete newState[workstreamId];\n      return newState;\n    });\n    if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n      clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n      delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n    }\n  };\n  const validateWorkstream = workstream => {\n    if (!workstream.projectObjectiveId) {\n      return 'Project Objective is required';\n    }\n    if (!workstream.deliveryToolName || workstream.deliveryToolName === '--None--') {\n      return 'Delivery Tool Name is required';\n    }\n    if (!workstream.clientWorkstreamIdentifier || workstream.clientWorkstreamIdentifier.trim() === '') {\n      return 'Client Workstream Identifier is required';\n    }\n    if (!workstream.functionality || workstream.functionality === '--None--') {\n      return 'Functionality is required';\n    }\n    return null;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validate all workstreams\n    const validationErrors = [];\n    workstreams.forEach((workstream, index) => {\n      const error = validateWorkstream(workstream);\n      if (error) {\n        validationErrors.push(`Workstream ${index + 1}: ${error}`);\n      }\n    });\n    if (validationErrors.length > 0) {\n      toast.error(validationErrors[0]);\n      return;\n    }\n    setSubmitting(true);\n    try {\n      // Create all workstreams - each under its respective project objective\n      const createPromises = workstreams.map(workstream => apiClient.post('/workstream/create', {\n        projectWorkstreamName: workstream.projectWorkstreamName,\n        projectObjective: workstream.projectObjective,\n        projectObjectiveId: workstream.projectObjectiveId,\n        refresh: workstream.refresh,\n        deliveryToolName: workstream.deliveryToolName,\n        clientWorkstreamIdentifier: workstream.clientWorkstreamIdentifier,\n        functionality: workstream.functionality\n      }));\n      const results = await Promise.all(createPromises);\n      const successCount = results.filter(r => r.data.success).length;\n      if (successCount === workstreams.length) {\n        toast.success(`Successfully created ${successCount} workstream(s)`);\n        // Reset all workstreams and hide form\n        const newId = Date.now();\n        setWorkstreams([{\n          id: newId,\n          projectWorkstreamName: '',\n          projectObjective: '',\n          projectObjectiveId: '',\n          refresh: false,\n          deliveryToolName: '',\n          clientWorkstreamIdentifier: '',\n          functionality: ''\n        }]);\n        setExpandedWorkstreams({\n          [newId]: true\n        });\n        setProjectObjectiveSearchTerms({\n          [newId]: ''\n        });\n        setProjectObjectiveSearchResults({});\n        setShowProjectObjectiveDropdowns({});\n        setShowForm(false);\n        // Reload project objectives list\n        fetchProjectObjectives(0, false);\n      } else {\n        toast.error(`Created ${successCount} of ${workstreams.length} workstream(s)`);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to create workstream(s)';\n      toast.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const handleCancel = () => {\n    // Reset all workstreams and hide form\n    const newId = Date.now();\n    setWorkstreams([{\n      id: newId,\n      projectWorkstreamName: '',\n      projectObjective: '',\n      projectObjectiveId: '',\n      refresh: false,\n      deliveryToolName: '',\n      clientWorkstreamIdentifier: '',\n      functionality: ''\n    }]);\n    setExpandedWorkstreams({\n      [newId]: true\n    });\n    setProjectObjectiveSearchTerms({\n      [newId]: ''\n    });\n    setProjectObjectiveSearchResults({});\n    setShowProjectObjectiveDropdowns({});\n    setShowForm(false);\n    // Reload project objectives list\n    fetchProjectObjectives(0, false);\n  };\n  const handleAddWorkstream = () => {\n    setShowForm(true);\n  };\n\n  // Save current workstreams as template\n  const handleSaveTemplate = () => {\n    if (workstreams.length === 0) {\n      toast.error('No workstreams to save as template');\n      return;\n    }\n    setShowTemplateModal(true);\n  };\n  const confirmSaveTemplate = () => {\n    if (!templateName.trim()) {\n      toast.error('Please enter a template name');\n      return;\n    }\n    try {\n      const template = {\n        id: Date.now(),\n        name: templateName.trim(),\n        createdAt: new Date().toISOString(),\n        workstreams: workstreams.map(ws => ({\n          projectWorkstreamName: ws.projectWorkstreamName,\n          projectObjective: ws.projectObjective,\n          projectObjectiveId: ws.projectObjectiveId,\n          refresh: ws.refresh,\n          deliveryToolName: ws.deliveryToolName,\n          clientWorkstreamIdentifier: ws.clientWorkstreamIdentifier,\n          functionality: ws.functionality\n        }))\n      };\n      const updatedTemplates = [...savedTemplates, template];\n      setSavedTemplates(updatedTemplates);\n      localStorage.setItem('workstreamTemplates', JSON.stringify(updatedTemplates));\n      toast.success('Template saved successfully');\n      setShowTemplateModal(false);\n      setTemplateName('');\n    } catch (error) {\n      console.error('Error saving template:', error);\n      toast.error('Failed to save template');\n    }\n  };\n\n  // Load template\n  const handleLoadTemplate = template => {\n    try {\n      const newWorkstreams = template.workstreams.map((ws, index) => ({\n        id: Date.now() + index,\n        ...ws\n      }));\n      setWorkstreams(newWorkstreams);\n      setExpandedWorkstreams(newWorkstreams.reduce((acc, ws) => {\n        acc[ws.id] = true;\n        return acc;\n      }, {}));\n      setShowLoadTemplateModal(false);\n      toast.success(`Template \"${template.name}\" loaded successfully`);\n    } catch (error) {\n      console.error('Error loading template:', error);\n      toast.error('Failed to load template');\n    }\n  };\n\n  // Delete template\n  const handleDeleteTemplate = templateId => {\n    try {\n      const updatedTemplates = savedTemplates.filter(t => t.id !== templateId);\n      setSavedTemplates(updatedTemplates);\n      localStorage.setItem('workstreamTemplates', JSON.stringify(updatedTemplates));\n      toast.success('Template deleted successfully');\n    } catch (error) {\n      console.error('Error deleting template:', error);\n      toast.error('Failed to delete template');\n    }\n  };\n\n  // Clone workstream\n  const handleCloneWorkstream = workstreamId => {\n    const workstreamToClone = workstreams.find(ws => ws.id === workstreamId);\n    if (!workstreamToClone) return;\n    const clonedWorkstream = {\n      ...workstreamToClone,\n      id: Date.now(),\n      projectWorkstreamName: `${workstreamToClone.projectWorkstreamName} (Copy)`,\n      projectObjective: '',\n      projectObjectiveId: ''\n    };\n    setWorkstreams(prev => [...prev, clonedWorkstream]);\n    setExpandedWorkstreams(prev => ({\n      ...prev,\n      [clonedWorkstream.id]: true\n    }));\n    toast.success('Workstream cloned successfully');\n  };\n  const renderWorkstreamForm = (workstream, index) => {\n    const isExpanded = expandedWorkstreams[workstream.id] !== false;\n    const searchTerm = projectObjectiveSearchTerms[workstream.id] || '';\n    const searchResults = projectObjectiveSearchResults[workstream.id] || [];\n    const loadingSearch = loadingProjectObjectiveSearch[workstream.id] || false;\n    const showDropdown = showProjectObjectiveDropdowns[workstream.id] || false;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workstream-form-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-workstream-header-section\",\n        onClick: () => toggleWorkstreamExpanded(workstream.id),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"create-workstream-toggle\",\n          onClick: e => {\n            e.stopPropagation();\n            toggleWorkstreamExpanded(workstream.id);\n          },\n          children: isExpanded ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"create-workstream-title-text\",\n          children: [\"WorkStream \", index + 1, workstream.projectObjective ? ` - ${workstream.projectObjective}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '8px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"create-workstream-remove\",\n            onClick: e => {\n              e.stopPropagation();\n              handleCloneWorkstream(workstream.id);\n            },\n            title: \"Clone workstream\",\n            style: {\n              background: 'transparent',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '4px',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Copy, {\n              size: 16,\n              style: {\n                color: '#0176d3'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this), workstreams.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"create-workstream-remove\",\n            onClick: e => {\n              e.stopPropagation();\n              removeWorkstream(workstream.id);\n            },\n            title: \"Remove workstream\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 9\n      }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workstream-form-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid-two-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-column\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Project Workstream Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: workstream.projectWorkstreamName,\n                  onChange: e => handleInputChange(workstream.id, 'projectWorkstreamName', e.target.value),\n                  className: \"form-input-compact\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Project Objective \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"required\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 726,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `project-objective-search-container project-objective-search-container-${workstream.id}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"search-input-wrapper\",\n                    children: [/*#__PURE__*/_jsxDEV(Search, {\n                      size: 14,\n                      className: \"search-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"Search for project objective...\",\n                      value: workstream.projectObjectiveId ? workstream.projectObjective : searchTerm,\n                      readOnly: !!workstream.projectObjectiveId,\n                      onChange: e => {\n                        // Only allow changes if no objective is selected\n                        if (!workstream.projectObjectiveId) {\n                          handleSearchTermChange(workstream.id, e.target.value);\n                        }\n                      },\n                      onFocus: () => {\n                        // If there's a selection, allow clearing it\n                        if (workstream.projectObjectiveId) {\n                          // User can click X button to clear\n                        } else if (searchResults.length > 0) {\n                          setShowProjectObjectiveDropdowns(prev => ({\n                            ...prev,\n                            [workstream.id]: true\n                          }));\n                        }\n                      },\n                      onClick: () => {\n                        // If there's a selection and user clicks, don't clear automatically\n                        // They need to use the X button\n                        if (!workstream.projectObjectiveId && searchResults.length > 0) {\n                          setShowProjectObjectiveDropdowns(prev => ({\n                            ...prev,\n                            [workstream.id]: true\n                          }));\n                        }\n                      },\n                      className: \"form-input-compact search-input\",\n                      style: workstream.projectObjectiveId ? {\n                        cursor: 'default'\n                      } : {}\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 732,\n                      columnNumber: 25\n                    }, this), workstream.projectObjectiveId && /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => handleClearProjectObjective(workstream.id),\n                      className: \"clear-button\",\n                      title: \"Clear selection\",\n                      children: /*#__PURE__*/_jsxDEV(X, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 768,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 762,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 23\n                  }, this), loadingSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"searching-indicator\",\n                    children: \"Searching...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 773,\n                    columnNumber: 25\n                  }, this), showDropdown && searchResults.length > 0 && !workstream.projectObjectiveId && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"search-results-dropdown\",\n                    children: searchResults.map(objective => /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => handleProjectObjectiveSelect(workstream.id, objective),\n                      className: `search-result-item ${workstream.projectObjectiveId === objective.id ? 'selected' : ''}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"search-result-name\",\n                        children: objective.contributorFacingProjectName || objective.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 783,\n                        columnNumber: 31\n                      }, this), objective.projectName && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"search-result-subtitle\",\n                        children: [\"Project: \", objective.projectName]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 787,\n                        columnNumber: 33\n                      }, this)]\n                    }, objective.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 778,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 776,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                style: {\n                  marginTop: '6px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"checkbox-label\",\n                  style: {\n                    marginBottom: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: workstream.refresh,\n                    onChange: e => handleInputChange(workstream.id, 'refresh', e.target.checked),\n                    className: \"checkbox-input\",\n                    style: {\n                      marginRight: '8px',\n                      marginTop: '0',\n                      verticalAlign: 'middle'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"checkbox-text\",\n                    style: {\n                      verticalAlign: 'middle'\n                    },\n                    children: \"Refresh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 807,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Info, {\n                    size: 12,\n                    className: \"info-icon\",\n                    style: {\n                      marginLeft: '6px',\n                      verticalAlign: 'middle'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 808,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-column\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Delivery Tool Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"required\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 42\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: workstream.deliveryToolName,\n                  onChange: e => handleInputChange(workstream.id, 'deliveryToolName', e.target.value),\n                  className: \"form-input-compact\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"--None--\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 824,\n                    columnNumber: 23\n                  }, this), deliveryToolNameOptions.filter(opt => opt !== '--None--').map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option,\n                    children: option\n                  }, option, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Client Workstream Identifier \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"required\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 52\n                  }, this), /*#__PURE__*/_jsxDEV(Info, {\n                    size: 12,\n                    className: \"info-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: workstream.clientWorkstreamIdentifier,\n                  onChange: e => handleInputChange(workstream.id, 'clientWorkstreamIdentifier', e.target.value),\n                  className: \"form-input-compact\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Functionality \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"required\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Info, {\n                    size: 12,\n                    className: \"info-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 846,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: workstream.functionality,\n                  onChange: e => handleInputChange(workstream.id, 'functionality', e.target.value),\n                  className: \"form-input-compact\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"--None--\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 856,\n                    columnNumber: 23\n                  }, this), functionalityOptions.filter(opt => opt !== '--None--').map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option,\n                    children: option\n                  }, option, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 858,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 11\n      }, this)]\n    }, workstream.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 7\n    }, this);\n  };\n  const content = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-workstream-content\",\n    children: [!showForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            fontSize: '18px',\n            fontWeight: 600,\n            color: '#002329'\n          },\n          children: \"Project Objectives Without Workstreams\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-primary\",\n          onClick: handleAddWorkstream,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 15\n          }, this), \"Add Workstream\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '12px',\n          alignItems: 'center',\n          marginBottom: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontSize: '14px',\n            fontWeight: 500,\n            color: '#002329'\n          },\n          children: \"Filter by Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: statusFilter,\n          onChange: e => setStatusFilter(e.target.value),\n          style: {\n            fontSize: '14px',\n            padding: '8px 12px',\n            border: '1px solid var(--border-color)',\n            borderRadius: 'var(--radius-md)',\n            background: 'var(--surface)',\n            color: 'var(--text-primary)',\n            minWidth: '180px',\n            cursor: 'pointer',\n            fontFamily: 'Poppins'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 15\n          }, this), uniqueStatuses.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: status,\n            children: status\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this), statusFilter && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setStatusFilter(''),\n          style: {\n            fontSize: '13px',\n            padding: '6px 12px',\n            background: 'transparent',\n            border: '1px solid var(--border-color)',\n            borderRadius: 'var(--radius-md)',\n            color: 'var(--text-secondary)',\n            cursor: 'pointer',\n            fontFamily: 'Poppins'\n          },\n          children: \"Clear Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 892,\n        columnNumber: 11\n      }, this), loadingPOs && allProjectObjectives.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          className: \"spinning\",\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading project objectives...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 938,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-objectives-table-container\",\n        style: {\n          maxHeight: '70vh',\n          overflowY: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"project-objectives-table\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Project Objective\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Associated Project\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Project Objective Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: projectObjectives.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"3\",\n                className: \"no-data\",\n                style: {\n                  textAlign: 'center',\n                  padding: '40px'\n                },\n                children: \"No project objectives without workstreams found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 21\n            }, this) : projectObjectives.map((po, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: po.name || '--'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: po.projectName || '--'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 963,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: po.status || '--'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 25\n              }, this)]\n            }, po.id || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 15\n        }, this), (poHasMore || allProjectObjectives.length >= 1000) && !loadingMorePOs && allProjectObjectives.length > 0 && !loadingPOs && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '20px',\n            borderTop: '1px solid var(--border-color)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-secondary\",\n            onClick: () => fetchProjectObjectives(poOffset, true),\n            style: {\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '10px 24px',\n              fontSize: '14px',\n              fontWeight: 600\n            },\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 21\n            }, this), \"Show More (\", allProjectObjectives.length, \" loaded\", poHasMore ? ', more available' : '', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: \"Click to load next 1000 project objectives\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 17\n        }, this), loadingMorePOs && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '20px',\n            borderTop: '1px solid var(--border-color)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Loader, {\n            className: \"spinning\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '8px'\n            },\n            children: \"Loading more project objectives...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 997,\n          columnNumber: 17\n        }, this), poHasMore && !loadingMorePOs && /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: infiniteScrollRef,\n          style: {\n            height: '20px',\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 17\n        }, this), allProjectObjectives.length > 0 && !poHasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '16px',\n            borderTop: '1px solid var(--border-color)',\n            color: '#666',\n            fontSize: '13px'\n          },\n          children: statusFilter ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Showing \", projectObjectives.length, \" of \", allProjectObjectives.length, \" project objectives (filtered by status: \", statusFilter, \")\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"All \", allProjectObjectives.length, \" project objectives loaded\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1012,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"create-workstream-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            fontSize: '18px',\n            fontWeight: 600,\n            color: '#002329'\n          },\n          children: \"Create Workstream\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-secondary\",\n          onClick: () => setShowForm(false),\n          children: \"Back to List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1025,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '16px',\n          display: 'flex',\n          gap: '12px',\n          alignItems: 'center',\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-primary\",\n          onClick: addWorkstream,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 15\n          }, this), \"Add WorkStream\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-secondary\",\n          onClick: handleSaveTemplate,\n          disabled: workstreams.length === 0,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          title: \"Save current workstreams as template\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1056,\n            columnNumber: 15\n          }, this), \"Save Template\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1048,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-secondary\",\n          onClick: () => setShowLoadTemplateModal(true),\n          disabled: savedTemplates.length === 0,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          title: \"Load a saved template\",\n          children: [/*#__PURE__*/_jsxDEV(FolderOpen, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 15\n          }, this), \"Load Template\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 11\n      }, this), workstreams.map((workstream, index) => renderWorkstreamForm(workstream, index)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-secondary\",\n          onClick: handleCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary\",\n          disabled: submitting,\n          children: submitting ? 'Creating...' : `Create ${workstreams.length} WorkStream${workstreams.length > 1 ? 's' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1074,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 9\n    }, this), showTemplateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '24px',\n          borderRadius: '8px',\n          minWidth: '400px',\n          maxWidth: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 16px 0',\n            fontSize: '18px',\n            fontWeight: 600\n          },\n          children: \"Save Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontSize: '14px',\n              fontWeight: 500\n            },\n            children: \"Template Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: templateName,\n            onChange: e => setTemplateName(e.target.value),\n            placeholder: \"Enter template name\",\n            style: {\n              width: '100%',\n              padding: '8px 12px',\n              border: '1px solid var(--border-color)',\n              borderRadius: '4px',\n              fontSize: '14px'\n            },\n            autoFocus: true,\n            onKeyPress: e => {\n              if (e.key === 'Enter') {\n                confirmSaveTemplate();\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '12px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-secondary\",\n            onClick: () => {\n              setShowTemplateModal(false);\n              setTemplateName('');\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-primary\",\n            onClick: confirmSaveTemplate,\n            disabled: !templateName.trim(),\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1095,\n      columnNumber: 9\n    }, this), showLoadTemplateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '24px',\n          borderRadius: '8px',\n          minWidth: '500px',\n          maxWidth: '600px',\n          maxHeight: '80vh',\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 16px 0',\n            fontSize: '18px',\n            fontWeight: 600\n          },\n          children: \"Load Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 13\n        }, this), savedTemplates.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            fontSize: '14px'\n          },\n          children: \"No saved templates found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1188,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '12px'\n          },\n          children: savedTemplates.map(template => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              border: '1px solid var(--border-color)',\n              borderRadius: '4px',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 500,\n                  fontSize: '14px',\n                  marginBottom: '4px'\n                },\n                children: template.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#666'\n                },\n                children: [template.workstreams.length, \" workstream(s) \\u2022 Created \", new Date(template.createdAt).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1207,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-primary\",\n                onClick: () => handleLoadTemplate(template),\n                style: {\n                  fontSize: '12px',\n                  padding: '6px 12px'\n                },\n                children: \"Load\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1212,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-secondary\",\n                onClick: () => handleDeleteTemplate(template.id),\n                style: {\n                  fontSize: '12px',\n                  padding: '6px 12px',\n                  color: '#d32f2f'\n                },\n                title: \"Delete template\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1227,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 21\n            }, this)]\n          }, template.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginTop: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-secondary\",\n            onClick: () => setShowLoadTemplateModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1177,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 872,\n    columnNumber: 5\n  }, this);\n  if (hideHeader) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-workstream-content-wrapper\",\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1250,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-layout\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: sidebarOpen,\n      toggleSidebar: () => setSidebarOpen(!sidebarOpen)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-workstream\",\n      style: {\n        marginLeft: sidebarOpen ? '320px' : '80px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-workstream-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-workstream-header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-menu-toggle\",\n                onClick: () => setSidebarOpen(!sidebarOpen),\n                \"aria-label\": \"Toggle sidebar\",\n                children: /*#__PURE__*/_jsxDEV(Menu, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1267,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"page-title\",\n                  children: \"New Project Workstream\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"page-subtitle\",\n                  children: \"Create a new project workstream\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1271,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-user-profile\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-profile\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-avatar\",\n                  children: ((user === null || user === void 0 ? void 0 : user.email) || 'U').charAt(0).toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-name\",\n                  children: (user === null || user === void 0 ? void 0 : user.email) || 'User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"logout-btn\",\n                  onClick: logout,\n                  title: \"Logout\",\n                  children: /*#__PURE__*/_jsxDEV(LogOut, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1281,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1280,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1260,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1259,\n          columnNumber: 11\n        }, this), content]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1254,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateWorkStream, \"/oYnd7zagItvIZP/aBRa3DpL7FM=\", false, function () {\n  return [useAuth];\n});\n_c = CreateWorkStream;\nexport default CreateWorkStream;\nvar _c;\n$RefreshReg$(_c, \"CreateWorkStream\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useAuth","Sidebar","Menu","LogOut","Search","X","Info","Plus","ChevronDown","ChevronUp","Trash2","Loader","Save","Copy","FolderOpen","Download","Upload","FileText","apiClient","toast","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateWorkStream","hideHeader","_s","user","logout","sidebarOpen","setSidebarOpen","submitting","setSubmitting","showForm","setShowForm","projectObjectives","setProjectObjectives","allProjectObjectives","setAllProjectObjectives","loadingPOs","setLoadingPOs","poOffset","setPoOffset","poHasMore","setPoHasMore","loadingMorePOs","setLoadingMorePOs","infiniteScrollRef","statusFilter","setStatusFilter","workstreams","setWorkstreams","id","Date","now","projectWorkstreamName","projectObjective","projectObjectiveId","refresh","deliveryToolName","clientWorkstreamIdentifier","functionality","expandedWorkstreams","setExpandedWorkstreams","savedTemplates","setSavedTemplates","showTemplateModal","setShowTemplateModal","templateName","setTemplateName","showLoadTemplateModal","setShowLoadTemplateModal","projectObjectiveSearchTerms","setProjectObjectiveSearchTerms","projectObjectiveSearchResults","setProjectObjectiveSearchResults","loadingProjectObjectiveSearch","setLoadingProjectObjectiveSearch","showProjectObjectiveDropdowns","setShowProjectObjectiveDropdowns","projectObjectiveSearchTimeoutRefs","recentSelectionsRef","fetchProjectObjectives","offset","append","response","get","params","limit","timeout","data","success","newPOs","prev","newOffset","length","hasMoreRecords","hasMore","error","_error$response","_error$response$data","saved","localStorage","getItem","JSON","parse","console","observer","IntersectionObserver","entries","isIntersecting","threshold","current","observe","unobserve","filter","po","status","uniqueStatuses","Array","from","Set","map","s","sort","deliveryToolNameOptions","functionalityOptions","handleClickOutside","event","Object","keys","forEach","workstreamId","target","closest","document","addEventListener","removeEventListener","searchTerm","workstream","find","w","clearTimeout","trim","recentSelection","timeSinceSelection","timestamp","setTimeout","currentSearchTerm","currentWorkstream","currentRecentSelection","encodeURIComponent","finalWorkstream","finalRecentSelection","handleProjectObjectiveSelect","objective","selectedName","contributorFacingProjectName","name","ws","handleClearProjectObjective","handleInputChange","field","value","handleSearchTermChange","toggleWorkstreamExpanded","addWorkstream","newId","removeWorkstream","newState","validateWorkstream","handleSubmit","e","preventDefault","validationErrors","index","push","createPromises","post","results","Promise","all","successCount","r","_error$response2","_error$response2$data","errorMessage","message","handleCancel","handleAddWorkstream","handleSaveTemplate","confirmSaveTemplate","template","createdAt","toISOString","updatedTemplates","setItem","stringify","handleLoadTemplate","newWorkstreams","reduce","acc","handleDeleteTemplate","templateId","t","handleCloneWorkstream","workstreamToClone","clonedWorkstream","renderWorkstreamForm","isExpanded","searchResults","loadingSearch","showDropdown","className","children","onClick","type","stopPropagation","size","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","alignItems","title","background","border","cursor","padding","color","onChange","placeholder","readOnly","onFocus","projectName","marginTop","marginBottom","checked","marginRight","verticalAlign","marginLeft","required","opt","option","content","justifyContent","margin","fontSize","fontWeight","borderRadius","minWidth","fontFamily","textAlign","maxHeight","overflowY","width","colSpan","borderTop","ref","height","onSubmit","flexWrap","disabled","position","top","left","right","bottom","zIndex","maxWidth","autoFocus","onKeyPress","key","overflow","flexDirection","toLocaleDateString","isOpen","toggleSidebar","email","charAt","toUpperCase","_c","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/CreateWorkStream.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, Search, X, Info, Plus, ChevronDown, ChevronUp, Trash2, Loader, Save, Copy, FolderOpen, Download, Upload, FileText } from 'lucide-react';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport '../styles/CreateWorkStream.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\n\nconst CreateWorkStream = ({ hideHeader = false }) => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [showForm, setShowForm] = useState(false); // New state to control form visibility\n  \n  // Project Objectives without workstreams\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [allProjectObjectives, setAllProjectObjectives] = useState([]); // Store all fetched data for filtering\n  const [loadingPOs, setLoadingPOs] = useState(true);\n  const [poOffset, setPoOffset] = useState(0);\n  const [poHasMore, setPoHasMore] = useState(true);\n  const [loadingMorePOs, setLoadingMorePOs] = useState(false);\n  const infiniteScrollRef = useRef(null);\n  const [statusFilter, setStatusFilter] = useState(''); // Filter by status\n  \n  // Workstreams array - each workstream has its own form data\n  const [workstreams, setWorkstreams] = useState([\n    {\n      id: Date.now(),\n      projectWorkstreamName: '',\n      projectObjective: '',\n      projectObjectiveId: '',\n      refresh: false,\n      deliveryToolName: '',\n      clientWorkstreamIdentifier: '',\n      functionality: ''\n    }\n  ]);\n  \n  // Track expanded/collapsed state for each workstream\n  const [expandedWorkstreams, setExpandedWorkstreams] = useState({ [Date.now()]: true });\n  \n  // Templates state\n  const [savedTemplates, setSavedTemplates] = useState([]);\n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [templateName, setTemplateName] = useState('');\n  const [showLoadTemplateModal, setShowLoadTemplateModal] = useState(false);\n\n  // Project Objective search - per workstream\n  const [projectObjectiveSearchTerms, setProjectObjectiveSearchTerms] = useState({});\n  const [projectObjectiveSearchResults, setProjectObjectiveSearchResults] = useState({});\n  const [loadingProjectObjectiveSearch, setLoadingProjectObjectiveSearch] = useState({});\n  const [showProjectObjectiveDropdowns, setShowProjectObjectiveDropdowns] = useState({});\n  const projectObjectiveSearchTimeoutRefs = useRef({});\n  const recentSelectionsRef = useRef({}); // Track recent selections to prevent search loop\n\n  // Fetch project objectives without workstreams\n  const fetchProjectObjectives = useCallback(async (offset = 0, append = false) => {\n    try {\n      if (offset === 0) {\n        setLoadingPOs(true);\n      } else {\n        setLoadingMorePOs(true);\n      }\n      \n      const response = await apiClient.get('/workstream/project-objectives-without-workstreams', {\n        params: { limit: 1000, offset },\n        timeout: 120000 // 2 minutes to match backend timeout\n      });\n      \n      if (response.data.success) {\n        const newPOs = response.data.projectObjectives;\n        if (append) {\n          setAllProjectObjectives(prev => [...prev, ...newPOs]);\n        } else {\n          setAllProjectObjectives(newPOs);\n          setPoOffset(0); // Reset offset when starting fresh\n        }\n        \n        // Update offset and hasMore\n        const newOffset = append ? poOffset + newPOs.length : newPOs.length;\n        setPoOffset(newOffset);\n        \n        // If we got exactly 1000 records, assume there might be more\n        // Also check the hasMore flag from backend\n        const hasMoreRecords = response.data.hasMore || newPOs.length === 1000;\n        setPoHasMore(hasMoreRecords);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || 'Failed to fetch project objectives');\n    } finally {\n      setLoadingPOs(false);\n      setLoadingMorePOs(false);\n    }\n  }, []);\n\n  // Load saved templates from localStorage\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('workstreamTemplates');\n      if (saved) {\n        setSavedTemplates(JSON.parse(saved));\n      }\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    if (!showForm) {\n      fetchProjectObjectives(0, false);\n    }\n  }, [showForm, fetchProjectObjectives]);\n\n  // Infinite scroll for project objectives\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting && poHasMore && !loadingMorePOs && !showForm) {\n          fetchProjectObjectives(poOffset, true);\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    if (infiniteScrollRef.current) {\n      observer.observe(infiniteScrollRef.current);\n    }\n\n    return () => {\n      if (infiniteScrollRef.current) {\n        observer.unobserve(infiniteScrollRef.current);\n      }\n    };\n  }, [poHasMore, loadingMorePOs, poOffset, showForm, fetchProjectObjectives]);\n\n  // Filter project objectives by status\n  useEffect(() => {\n    if (statusFilter === '') {\n      setProjectObjectives(allProjectObjectives);\n    } else {\n      setProjectObjectives(allProjectObjectives.filter(po => po.status === statusFilter));\n    }\n  }, [statusFilter, allProjectObjectives]);\n\n  // Get unique status values for filter dropdown (exclude '--' and empty values)\n  const uniqueStatuses = Array.from(new Set(allProjectObjectives.map(po => po.status).filter(s => s && s !== '--'))).sort();\n\n  // Delivery Tool Name picklist (excluding QF as per original requirement)\n  const deliveryToolNameOptions = [\n    '--None--',\n    'A9',\n    'ADAP',\n    'Ampersand',\n    'Appen Collect',\n    'AppenLex',\n    'Baseline',\n    'EWOQ',\n    'Exotel',\n    'Other',\n    'Polyglot',\n    'SRT',\n    'TryRating',\n    'UHRS',\n    'Test',\n    'Test Tool'\n  ];\n\n  // Functionality picklist values\n  const functionalityOptions = [\n    '--None--',\n    'System Access',\n    'System Access & Productivity',\n    'Productivity'\n  ];\n\n  // Close search results when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      Object.keys(showProjectObjectiveDropdowns).forEach(workstreamId => {\n        if (showProjectObjectiveDropdowns[workstreamId] && !event.target.closest(`.project-objective-search-container-${workstreamId}`)) {\n          setShowProjectObjectiveDropdowns(prev => ({\n            ...prev,\n            [workstreamId]: false\n          }));\n        }\n      });\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showProjectObjectiveDropdowns]);\n\n  // Search Project Objectives when search term changes (per workstream)\n  useEffect(() => {\n    Object.keys(projectObjectiveSearchTerms).forEach(workstreamId => {\n      const searchTerm = projectObjectiveSearchTerms[workstreamId];\n      const workstream = workstreams.find(w => w.id === workstreamId);\n      \n      // Clear any existing timeout\n      if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n        clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n        delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n      }\n\n      // IMPORTANT: Don't search if an objective is already selected\n      // This prevents the search loop when user selects an objective\n      if (workstream && workstream.projectObjectiveId) {\n        setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n        setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n        setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n        return;\n      }\n\n      // Don't search if search term is empty\n      if (!searchTerm || searchTerm.trim() === '') {\n        setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n        setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n        setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n        return;\n      }\n\n      // Check if this is a recent selection (within last 2 seconds)\n      const recentSelection = recentSelectionsRef.current[workstreamId];\n      if (recentSelection) {\n        const timeSinceSelection = Date.now() - recentSelection.timestamp;\n        if (timeSinceSelection < 2000) {\n          // This is a recent selection, don't search\n          setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n          setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n          setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n          return;\n        }\n      }\n\n      // Only search if user is actively typing (not just matching selected value)\n      projectObjectiveSearchTimeoutRefs.current[workstreamId] = setTimeout(async () => {\n        // Get fresh search term and workstream\n        const currentSearchTerm = projectObjectiveSearchTerms[workstreamId];\n        if (!currentSearchTerm || currentSearchTerm.trim() === '') {\n          return;\n        }\n        \n        // CRITICAL: Re-check if objective was selected during timeout - if so, abort search\n        const currentWorkstream = workstreams.find(w => w.id === workstreamId);\n        if (currentWorkstream && currentWorkstream.projectObjectiveId) {\n          // An objective was selected, don't search\n          setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n          setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n          setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n          return;\n        }\n        \n        // Check again if this is a recent selection\n        const currentRecentSelection = recentSelectionsRef.current[workstreamId];\n        if (currentRecentSelection) {\n          const timeSinceSelection = Date.now() - currentRecentSelection.timestamp;\n          if (timeSinceSelection < 2000) {\n            // This is a recent selection, don't search\n            setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n            setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n            setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n            return;\n          }\n        }\n        \n        setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: true }));\n        try {\n          const response = await apiClient.get(`/workstream/search-project-objectives?search=${encodeURIComponent(currentSearchTerm)}`);\n          if (response.data.success) {\n            // CRITICAL: Final check before showing results - make sure objective wasn't selected during API call\n            const finalWorkstream = workstreams.find(w => w.id === workstreamId);\n            if (finalWorkstream && finalWorkstream.projectObjectiveId) {\n              // An objective was selected during the API call, don't show results\n              setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n              setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n              setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n              return;\n            }\n            \n            // Check for recent selection\n            const finalRecentSelection = recentSelectionsRef.current[workstreamId];\n            if (finalRecentSelection) {\n              const timeSinceSelection = Date.now() - finalRecentSelection.timestamp;\n              if (timeSinceSelection < 2000) {\n                // Objective was just selected, don't show results\n                setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n                setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n                setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n                return;\n              }\n            }\n            \n            // All checks passed, show results\n            setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: response.data.projectObjectives || [] }));\n            setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: true }));\n          }\n        } catch (error) {\n          setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n        } finally {\n          setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n        }\n      }, 300);\n    });\n\n    return () => {\n      Object.keys(projectObjectiveSearchTimeoutRefs.current).forEach(workstreamId => {\n        if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n          clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n          delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n        }\n      });\n    };\n  }, [projectObjectiveSearchTerms, workstreams]);\n\n  const handleProjectObjectiveSelect = (workstreamId, objective) => {\n    const selectedName = objective.contributorFacingProjectName || objective.name;\n    \n    // Clear any pending search timeout immediately\n    if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n      clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n      delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n    }\n    \n    // Mark this as a recent selection to prevent search loop\n    recentSelectionsRef.current[workstreamId] = {\n      name: selectedName,\n      timestamp: Date.now()\n    };\n    \n    // Update workstream with selected objective\n    setWorkstreams(prev => prev.map(ws => \n      ws.id === workstreamId \n        ? {\n            ...ws,\n            projectObjective: selectedName,\n            projectObjectiveId: objective.id\n          }\n        : ws\n    ));\n    \n    // Clear search term instead of setting it to selected name - this prevents re-triggering search\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [workstreamId]: ''\n    }));\n    \n    // Immediately close dropdown and clear results\n    setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n    setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n    setLoadingProjectObjectiveSearch(prev => ({ ...prev, [workstreamId]: false }));\n    \n    // Clear the recent selection flag after a delay\n    setTimeout(() => {\n      if (recentSelectionsRef.current[workstreamId]) {\n        delete recentSelectionsRef.current[workstreamId];\n      }\n    }, 2000);\n  };\n\n  const handleClearProjectObjective = (workstreamId) => {\n    setWorkstreams(prev => prev.map(ws => \n      ws.id === workstreamId \n        ? {\n            ...ws,\n            projectObjective: '',\n            projectObjectiveId: ''\n          }\n        : ws\n    ));\n    setProjectObjectiveSearchTerms(prev => ({ ...prev, [workstreamId]: '' }));\n    setProjectObjectiveSearchResults(prev => ({ ...prev, [workstreamId]: [] }));\n    setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstreamId]: false }));\n  };\n\n  const handleInputChange = (workstreamId, field, value) => {\n    setWorkstreams(prev => prev.map(ws => \n      ws.id === workstreamId ? { ...ws, [field]: value } : ws\n    ));\n  };\n\n  const handleSearchTermChange = (workstreamId, value) => {\n    setProjectObjectiveSearchTerms(prev => ({\n      ...prev,\n      [workstreamId]: value\n    }));\n    if (value === '') {\n      handleClearProjectObjective(workstreamId);\n    }\n  };\n\n  const toggleWorkstreamExpanded = (workstreamId) => {\n    setExpandedWorkstreams(prev => ({\n      ...prev,\n      [workstreamId]: !prev[workstreamId]\n    }));\n  };\n\n  const addWorkstream = () => {\n    const newId = Date.now();\n    setWorkstreams(prev => [...prev, {\n      id: newId,\n      projectWorkstreamName: '',\n      projectObjective: '',\n      projectObjectiveId: '',\n      refresh: false,\n      deliveryToolName: '',\n      clientWorkstreamIdentifier: '',\n      functionality: ''\n    }]);\n    setExpandedWorkstreams(prev => ({ ...prev, [newId]: true }));\n    setProjectObjectiveSearchTerms(prev => ({ ...prev, [newId]: '' }));\n  };\n\n  const removeWorkstream = (workstreamId) => {\n    if (workstreams.length === 1) {\n      toast.error('At least one workstream is required');\n      return;\n    }\n    setWorkstreams(prev => prev.filter(ws => ws.id !== workstreamId));\n    setExpandedWorkstreams(prev => {\n      const newState = { ...prev };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setProjectObjectiveSearchTerms(prev => {\n      const newState = { ...prev };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setProjectObjectiveSearchResults(prev => {\n      const newState = { ...prev };\n      delete newState[workstreamId];\n      return newState;\n    });\n    setShowProjectObjectiveDropdowns(prev => {\n      const newState = { ...prev };\n      delete newState[workstreamId];\n      return newState;\n    });\n    if (projectObjectiveSearchTimeoutRefs.current[workstreamId]) {\n      clearTimeout(projectObjectiveSearchTimeoutRefs.current[workstreamId]);\n      delete projectObjectiveSearchTimeoutRefs.current[workstreamId];\n    }\n  };\n\n  const validateWorkstream = (workstream) => {\n    if (!workstream.projectObjectiveId) {\n      return 'Project Objective is required';\n    }\n    if (!workstream.deliveryToolName || workstream.deliveryToolName === '--None--') {\n      return 'Delivery Tool Name is required';\n    }\n    if (!workstream.clientWorkstreamIdentifier || workstream.clientWorkstreamIdentifier.trim() === '') {\n      return 'Client Workstream Identifier is required';\n    }\n    if (!workstream.functionality || workstream.functionality === '--None--') {\n      return 'Functionality is required';\n    }\n    return null;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate all workstreams\n    const validationErrors = [];\n    workstreams.forEach((workstream, index) => {\n      const error = validateWorkstream(workstream);\n      if (error) {\n        validationErrors.push(`Workstream ${index + 1}: ${error}`);\n      }\n    });\n\n    if (validationErrors.length > 0) {\n      toast.error(validationErrors[0]);\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      // Create all workstreams - each under its respective project objective\n      const createPromises = workstreams.map(workstream => \n        apiClient.post('/workstream/create', {\n          projectWorkstreamName: workstream.projectWorkstreamName,\n          projectObjective: workstream.projectObjective,\n          projectObjectiveId: workstream.projectObjectiveId,\n          refresh: workstream.refresh,\n          deliveryToolName: workstream.deliveryToolName,\n          clientWorkstreamIdentifier: workstream.clientWorkstreamIdentifier,\n          functionality: workstream.functionality\n        })\n      );\n\n      const results = await Promise.all(createPromises);\n      const successCount = results.filter(r => r.data.success).length;\n      \n      if (successCount === workstreams.length) {\n        toast.success(`Successfully created ${successCount} workstream(s)`);\n        // Reset all workstreams and hide form\n        const newId = Date.now();\n        setWorkstreams([{\n          id: newId,\n          projectWorkstreamName: '',\n          projectObjective: '',\n          projectObjectiveId: '',\n          refresh: false,\n          deliveryToolName: '',\n          clientWorkstreamIdentifier: '',\n          functionality: ''\n        }]);\n        setExpandedWorkstreams({ [newId]: true });\n        setProjectObjectiveSearchTerms({ [newId]: '' });\n        setProjectObjectiveSearchResults({});\n        setShowProjectObjectiveDropdowns({});\n        setShowForm(false);\n        // Reload project objectives list\n        fetchProjectObjectives(0, false);\n      } else {\n        toast.error(`Created ${successCount} of ${workstreams.length} workstream(s)`);\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to create workstream(s)';\n      toast.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    // Reset all workstreams and hide form\n    const newId = Date.now();\n    setWorkstreams([{\n      id: newId,\n      projectWorkstreamName: '',\n      projectObjective: '',\n      projectObjectiveId: '',\n      refresh: false,\n      deliveryToolName: '',\n      clientWorkstreamIdentifier: '',\n      functionality: ''\n    }]);\n    setExpandedWorkstreams({ [newId]: true });\n    setProjectObjectiveSearchTerms({ [newId]: '' });\n    setProjectObjectiveSearchResults({});\n    setShowProjectObjectiveDropdowns({});\n    setShowForm(false);\n    // Reload project objectives list\n    fetchProjectObjectives(0, false);\n  };\n\n  const handleAddWorkstream = () => {\n    setShowForm(true);\n  };\n\n  // Save current workstreams as template\n  const handleSaveTemplate = () => {\n    if (workstreams.length === 0) {\n      toast.error('No workstreams to save as template');\n      return;\n    }\n    setShowTemplateModal(true);\n  };\n\n  const confirmSaveTemplate = () => {\n    if (!templateName.trim()) {\n      toast.error('Please enter a template name');\n      return;\n    }\n\n    try {\n      const template = {\n        id: Date.now(),\n        name: templateName.trim(),\n        createdAt: new Date().toISOString(),\n        workstreams: workstreams.map(ws => ({\n          projectWorkstreamName: ws.projectWorkstreamName,\n          projectObjective: ws.projectObjective,\n          projectObjectiveId: ws.projectObjectiveId,\n          refresh: ws.refresh,\n          deliveryToolName: ws.deliveryToolName,\n          clientWorkstreamIdentifier: ws.clientWorkstreamIdentifier,\n          functionality: ws.functionality\n        }))\n      };\n\n      const updatedTemplates = [...savedTemplates, template];\n      setSavedTemplates(updatedTemplates);\n      localStorage.setItem('workstreamTemplates', JSON.stringify(updatedTemplates));\n      toast.success('Template saved successfully');\n      setShowTemplateModal(false);\n      setTemplateName('');\n    } catch (error) {\n      console.error('Error saving template:', error);\n      toast.error('Failed to save template');\n    }\n  };\n\n  // Load template\n  const handleLoadTemplate = (template) => {\n    try {\n      const newWorkstreams = template.workstreams.map((ws, index) => ({\n        id: Date.now() + index,\n        ...ws\n      }));\n      setWorkstreams(newWorkstreams);\n      setExpandedWorkstreams(newWorkstreams.reduce((acc, ws) => {\n        acc[ws.id] = true;\n        return acc;\n      }, {}));\n      setShowLoadTemplateModal(false);\n      toast.success(`Template \"${template.name}\" loaded successfully`);\n    } catch (error) {\n      console.error('Error loading template:', error);\n      toast.error('Failed to load template');\n    }\n  };\n\n  // Delete template\n  const handleDeleteTemplate = (templateId) => {\n    try {\n      const updatedTemplates = savedTemplates.filter(t => t.id !== templateId);\n      setSavedTemplates(updatedTemplates);\n      localStorage.setItem('workstreamTemplates', JSON.stringify(updatedTemplates));\n      toast.success('Template deleted successfully');\n    } catch (error) {\n      console.error('Error deleting template:', error);\n      toast.error('Failed to delete template');\n    }\n  };\n\n  // Clone workstream\n  const handleCloneWorkstream = (workstreamId) => {\n    const workstreamToClone = workstreams.find(ws => ws.id === workstreamId);\n    if (!workstreamToClone) return;\n\n    const clonedWorkstream = {\n      ...workstreamToClone,\n      id: Date.now(),\n      projectWorkstreamName: `${workstreamToClone.projectWorkstreamName} (Copy)`,\n      projectObjective: '',\n      projectObjectiveId: ''\n    };\n\n    setWorkstreams(prev => [...prev, clonedWorkstream]);\n    setExpandedWorkstreams(prev => ({ ...prev, [clonedWorkstream.id]: true }));\n    toast.success('Workstream cloned successfully');\n  };\n\n  const renderWorkstreamForm = (workstream, index) => {\n    const isExpanded = expandedWorkstreams[workstream.id] !== false;\n    const searchTerm = projectObjectiveSearchTerms[workstream.id] || '';\n    const searchResults = projectObjectiveSearchResults[workstream.id] || [];\n    const loadingSearch = loadingProjectObjectiveSearch[workstream.id] || false;\n    const showDropdown = showProjectObjectiveDropdowns[workstream.id] || false;\n\n    return (\n      <div key={workstream.id} className=\"workstream-form-card\">\n        <div \n          className=\"create-workstream-header-section\"\n          onClick={() => toggleWorkstreamExpanded(workstream.id)}\n        >\n          <button\n            type=\"button\"\n            className=\"create-workstream-toggle\"\n            onClick={(e) => {\n              e.stopPropagation();\n              toggleWorkstreamExpanded(workstream.id);\n            }}\n          >\n            {isExpanded ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\n          </button>\n          <span className=\"create-workstream-title-text\">\n            WorkStream {index + 1}{workstream.projectObjective ? ` - ${workstream.projectObjective}` : ''}\n          </span>\n          <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n            <button\n              type=\"button\"\n              className=\"create-workstream-remove\"\n              onClick={(e) => {\n                e.stopPropagation();\n                handleCloneWorkstream(workstream.id);\n              }}\n              title=\"Clone workstream\"\n              style={{ background: 'transparent', border: 'none', cursor: 'pointer', padding: '4px', display: 'flex', alignItems: 'center' }}\n            >\n              <Copy size={16} style={{ color: '#0176d3' }} />\n            </button>\n            {workstreams.length > 1 && (\n              <button\n                type=\"button\"\n                className=\"create-workstream-remove\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  removeWorkstream(workstream.id);\n                }}\n                title=\"Remove workstream\"\n              >\n                <Trash2 size={16} />\n              </button>\n            )}\n          </div>\n        </div>\n\n        {isExpanded && (\n          <div className=\"workstream-form-content\">\n            <div className=\"form-section-card\">\n              <div className=\"form-grid-two-column\">\n                <div className=\"form-column\">\n                  <div className=\"form-group\">\n                    <label>Project Workstream Name</label>\n                    <input\n                      type=\"text\"\n                      value={workstream.projectWorkstreamName}\n                      onChange={(e) => handleInputChange(workstream.id, 'projectWorkstreamName', e.target.value)}\n                      className=\"form-input-compact\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>\n                      Project Objective <span className=\"required\">*</span>\n                    </label>\n                    <div className={`project-objective-search-container project-objective-search-container-${workstream.id}`}>\n                      <div className=\"search-input-wrapper\">\n                        <Search size={14} className=\"search-icon\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search for project objective...\"\n                          value={workstream.projectObjectiveId ? workstream.projectObjective : searchTerm}\n                          readOnly={!!workstream.projectObjectiveId}\n                          onChange={(e) => {\n                            // Only allow changes if no objective is selected\n                            if (!workstream.projectObjectiveId) {\n                              handleSearchTermChange(workstream.id, e.target.value);\n                            }\n                          }}\n                          onFocus={() => {\n                            // If there's a selection, allow clearing it\n                            if (workstream.projectObjectiveId) {\n                              // User can click X button to clear\n                            } else if (searchResults.length > 0) {\n                              setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstream.id]: true }));\n                            }\n                          }}\n                          onClick={() => {\n                            // If there's a selection and user clicks, don't clear automatically\n                            // They need to use the X button\n                            if (!workstream.projectObjectiveId && searchResults.length > 0) {\n                              setShowProjectObjectiveDropdowns(prev => ({ ...prev, [workstream.id]: true }));\n                            }\n                          }}\n                          className=\"form-input-compact search-input\"\n                          style={workstream.projectObjectiveId ? { cursor: 'default' } : {}}\n                        />\n                        {workstream.projectObjectiveId && (\n                          <button\n                            type=\"button\"\n                            onClick={() => handleClearProjectObjective(workstream.id)}\n                            className=\"clear-button\"\n                            title=\"Clear selection\"\n                          >\n                            <X size={14} />\n                          </button>\n                        )}\n                      </div>\n                      {loadingSearch && (\n                        <div className=\"searching-indicator\">Searching...</div>\n                      )}\n                      {showDropdown && searchResults.length > 0 && !workstream.projectObjectiveId && (\n                        <div className=\"search-results-dropdown\">\n                          {searchResults.map((objective) => (\n                            <div\n                              key={objective.id}\n                              onClick={() => handleProjectObjectiveSelect(workstream.id, objective)}\n                              className={`search-result-item ${workstream.projectObjectiveId === objective.id ? 'selected' : ''}`}\n                            >\n                              <div className=\"search-result-name\">\n                                {objective.contributorFacingProjectName || objective.name}\n                              </div>\n                              {objective.projectName && (\n                                <div className=\"search-result-subtitle\">\n                                  Project: {objective.projectName}\n                                </div>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"form-group\" style={{ marginTop: '6px' }}>\n                    <label className=\"checkbox-label\" style={{ marginBottom: 0 }}>\n                      <input\n                        type=\"checkbox\"\n                        checked={workstream.refresh}\n                        onChange={(e) => handleInputChange(workstream.id, 'refresh', e.target.checked)}\n                        className=\"checkbox-input\"\n                        style={{ marginRight: '8px', marginTop: '0', verticalAlign: 'middle' }}\n                      />\n                      <span className=\"checkbox-text\" style={{ verticalAlign: 'middle' }}>Refresh</span>\n                      <Info size={12} className=\"info-icon\" style={{ marginLeft: '6px', verticalAlign: 'middle' }} />\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"form-column\">\n                  <div className=\"form-group\">\n                    <label>\n                      Delivery Tool Name <span className=\"required\">*</span>\n                    </label>\n                    <select\n                      value={workstream.deliveryToolName}\n                      onChange={(e) => handleInputChange(workstream.id, 'deliveryToolName', e.target.value)}\n                      className=\"form-input-compact\"\n                      required\n                    >\n                      <option value=\"\">--None--</option>\n                      {deliveryToolNameOptions.filter(opt => opt !== '--None--').map((option) => (\n                        <option key={option} value={option}>{option}</option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>\n                      Client Workstream Identifier <span className=\"required\">*</span>\n                      <Info size={12} className=\"info-icon\" />\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={workstream.clientWorkstreamIdentifier}\n                      onChange={(e) => handleInputChange(workstream.id, 'clientWorkstreamIdentifier', e.target.value)}\n                      className=\"form-input-compact\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>\n                      Functionality <span className=\"required\">*</span>\n                      <Info size={12} className=\"info-icon\" />\n                    </label>\n                    <select\n                      value={workstream.functionality}\n                      onChange={(e) => handleInputChange(workstream.id, 'functionality', e.target.value)}\n                      className=\"form-input-compact\"\n                      required\n                    >\n                      <option value=\"\">--None--</option>\n                      {functionalityOptions.filter(opt => opt !== '--None--').map((option) => (\n                        <option key={option} value={option}>{option}</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const content = (\n    <div className=\"create-workstream-content\">\n      {!showForm ? (\n        <>\n          {/* Header with Add Workstream button */}\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n            <h2 style={{ margin: 0, fontSize: '18px', fontWeight: 600, color: '#002329' }}>\n              Project Objectives Without Workstreams\n            </h2>\n            <button\n              type=\"button\"\n              className=\"btn-primary\"\n              onClick={handleAddWorkstream}\n              style={{ display: 'flex', alignItems: 'center', gap: '8px' }}\n            >\n              <Plus size={16} />\n              Add Workstream\n            </button>\n          </div>\n\n          {/* Filter Section */}\n          <div style={{ display: 'flex', gap: '12px', alignItems: 'center', marginBottom: '16px' }}>\n            <label style={{ fontSize: '14px', fontWeight: 500, color: '#002329' }}>\n              Filter by Status:\n            </label>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              style={{\n                fontSize: '14px',\n                padding: '8px 12px',\n                border: '1px solid var(--border-color)',\n                borderRadius: 'var(--radius-md)',\n                background: 'var(--surface)',\n                color: 'var(--text-primary)',\n                minWidth: '180px',\n                cursor: 'pointer',\n                fontFamily: 'Poppins'\n              }}\n            >\n              <option value=\"\">All Status</option>\n              {uniqueStatuses.map(status => (\n                <option key={status} value={status}>{status}</option>\n              ))}\n            </select>\n            {statusFilter && (\n              <button\n                type=\"button\"\n                onClick={() => setStatusFilter('')}\n                style={{\n                  fontSize: '13px',\n                  padding: '6px 12px',\n                  background: 'transparent',\n                  border: '1px solid var(--border-color)',\n                  borderRadius: 'var(--radius-md)',\n                  color: 'var(--text-secondary)',\n                  cursor: 'pointer',\n                  fontFamily: 'Poppins'\n                }}\n              >\n                Clear Filter\n              </button>\n            )}\n          </div>\n\n          {/* Project Objectives Table */}\n          {loadingPOs && allProjectObjectives.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '40px' }}>\n              <Loader className=\"spinning\" size={24} />\n              <p>Loading project objectives...</p>\n            </div>\n          ) : (\n            <div className=\"project-objectives-table-container\" style={{ maxHeight: '70vh', overflowY: 'auto' }}>\n              <table className=\"project-objectives-table\" style={{ width: '100%' }}>\n                <thead>\n                  <tr>\n                    <th>Project Objective</th>\n                    <th>Associated Project</th>\n                    <th>Project Objective Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {projectObjectives.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"3\" className=\"no-data\" style={{ textAlign: 'center', padding: '40px' }}>\n                        No project objectives without workstreams found\n                      </td>\n                    </tr>\n                  ) : (\n                    projectObjectives.map((po, index) => (\n                      <tr key={po.id || index}>\n                        <td>{po.name || '--'}</td>\n                        <td>{po.projectName || '--'}</td>\n                        <td>{po.status || '--'}</td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n              \n              {/* Show More Button and Loading States */}\n              {((poHasMore || allProjectObjectives.length >= 1000) && !loadingMorePOs && allProjectObjectives.length > 0 && !loadingPOs) && (\n                <div style={{ textAlign: 'center', padding: '20px', borderTop: '1px solid var(--border-color)' }}>\n                  <button\n                    type=\"button\"\n                    className=\"btn-secondary\"\n                    onClick={() => fetchProjectObjectives(poOffset, true)}\n                    style={{\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      gap: '8px',\n                      padding: '10px 24px',\n                      fontSize: '14px',\n                      fontWeight: 600\n                    }}\n                  >\n                    <Plus size={16} />\n                    Show More ({allProjectObjectives.length} loaded{poHasMore ? ', more available' : ''})\n                  </button>\n                  <div style={{ marginTop: '8px', fontSize: '12px', color: '#666' }}>\n                    Click to load next 1000 project objectives\n                  </div>\n                </div>\n              )}\n              \n              {loadingMorePOs && (\n                <div style={{ textAlign: 'center', padding: '20px', borderTop: '1px solid var(--border-color)' }}>\n                  <Loader className=\"spinning\" size={16} />\n                  <span style={{ marginLeft: '8px' }}>Loading more project objectives...</span>\n                </div>\n              )}\n              \n              {/* Infinite scroll trigger (backup - hidden but still functional) */}\n              {poHasMore && !loadingMorePOs && (\n                <div\n                  ref={infiniteScrollRef}\n                  style={{ height: '20px', width: '100%' }}\n                />\n              )}\n              \n              {allProjectObjectives.length > 0 && !poHasMore && (\n                <div style={{ textAlign: 'center', padding: '16px', borderTop: '1px solid var(--border-color)', color: '#666', fontSize: '13px' }}>\n                  {statusFilter ? (\n                    <>Showing {projectObjectives.length} of {allProjectObjectives.length} project objectives (filtered by status: {statusFilter})</>\n                  ) : (\n                    <>All {allProjectObjectives.length} project objectives loaded</>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      ) : (\n        <form onSubmit={handleSubmit} className=\"create-workstream-form\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n            <h2 style={{ margin: 0, fontSize: '18px', fontWeight: 600, color: '#002329' }}>\n              Create Workstream\n            </h2>\n            <button\n              type=\"button\"\n              className=\"btn-secondary\"\n              onClick={() => setShowForm(false)}\n            >\n              Back to List\n            </button>\n          </div>\n\n          <div style={{ marginBottom: '16px', display: 'flex', gap: '12px', alignItems: 'center', flexWrap: 'wrap' }}>\n            <button\n              type=\"button\"\n              className=\"btn-primary\"\n              onClick={addWorkstream}\n              style={{ display: 'flex', alignItems: 'center', gap: '8px' }}\n            >\n              <Plus size={16} />\n              Add WorkStream\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn-secondary\"\n              onClick={handleSaveTemplate}\n              disabled={workstreams.length === 0}\n              style={{ display: 'flex', alignItems: 'center', gap: '8px' }}\n              title=\"Save current workstreams as template\"\n            >\n              <Save size={16} />\n              Save Template\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn-secondary\"\n              onClick={() => setShowLoadTemplateModal(true)}\n              disabled={savedTemplates.length === 0}\n              style={{ display: 'flex', alignItems: 'center', gap: '8px' }}\n              title=\"Load a saved template\"\n            >\n              <FolderOpen size={16} />\n              Load Template\n            </button>\n          </div>\n\n          {workstreams.map((workstream, index) => renderWorkstreamForm(workstream, index))}\n\n          <div className=\"form-actions\">\n            <button\n              type=\"button\"\n              className=\"btn-secondary\"\n              onClick={handleCancel}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn-primary\"\n              disabled={submitting}\n            >\n              {submitting ? 'Creating...' : `Create ${workstreams.length} WorkStream${workstreams.length > 1 ? 's' : ''}`}\n            </button>\n          </div>\n        </form>\n      )}\n\n      {/* Save Template Modal */}\n      {showTemplateModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            background: 'white',\n            padding: '24px',\n            borderRadius: '8px',\n            minWidth: '400px',\n            maxWidth: '500px'\n          }}>\n            <h3 style={{ margin: '0 0 16px 0', fontSize: '18px', fontWeight: 600 }}>Save Template</h3>\n            <div style={{ marginBottom: '16px' }}>\n              <label style={{ display: 'block', marginBottom: '8px', fontSize: '14px', fontWeight: 500 }}>\n                Template Name:\n              </label>\n              <input\n                type=\"text\"\n                value={templateName}\n                onChange={(e) => setTemplateName(e.target.value)}\n                placeholder=\"Enter template name\"\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  border: '1px solid var(--border-color)',\n                  borderRadius: '4px',\n                  fontSize: '14px'\n                }}\n                autoFocus\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    confirmSaveTemplate();\n                  }\n                }}\n              />\n            </div>\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\n              <button\n                type=\"button\"\n                className=\"btn-secondary\"\n                onClick={() => {\n                  setShowTemplateModal(false);\n                  setTemplateName('');\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn-primary\"\n                onClick={confirmSaveTemplate}\n                disabled={!templateName.trim()}\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Load Template Modal */}\n      {showLoadTemplateModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            background: 'white',\n            padding: '24px',\n            borderRadius: '8px',\n            minWidth: '500px',\n            maxWidth: '600px',\n            maxHeight: '80vh',\n            overflow: 'auto'\n          }}>\n            <h3 style={{ margin: '0 0 16px 0', fontSize: '18px', fontWeight: 600 }}>Load Template</h3>\n            {savedTemplates.length === 0 ? (\n              <p style={{ color: '#666', fontSize: '14px' }}>No saved templates found.</p>\n            ) : (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n                {savedTemplates.map((template) => (\n                  <div\n                    key={template.id}\n                    style={{\n                      padding: '12px',\n                      border: '1px solid var(--border-color)',\n                      borderRadius: '4px',\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center'\n                    }}\n                  >\n                    <div>\n                      <div style={{ fontWeight: 500, fontSize: '14px', marginBottom: '4px' }}>\n                        {template.name}\n                      </div>\n                      <div style={{ fontSize: '12px', color: '#666' }}>\n                        {template.workstreams.length} workstream(s)  Created {new Date(template.createdAt).toLocaleDateString()}\n                      </div>\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px' }}>\n                      <button\n                        type=\"button\"\n                        className=\"btn-primary\"\n                        onClick={() => handleLoadTemplate(template)}\n                        style={{ fontSize: '12px', padding: '6px 12px' }}\n                      >\n                        Load\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"btn-secondary\"\n                        onClick={() => handleDeleteTemplate(template.id)}\n                        style={{ fontSize: '12px', padding: '6px 12px', color: '#d32f2f' }}\n                        title=\"Delete template\"\n                      >\n                        <Trash2 size={14} />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '16px' }}>\n              <button\n                type=\"button\"\n                className=\"btn-secondary\"\n                onClick={() => setShowLoadTemplateModal(false)}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  if (hideHeader) {\n    return <div className=\"create-workstream-content-wrapper\">{content}</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      \n      <div className=\"create-workstream\" style={{ marginLeft: sidebarOpen ? '320px' : '80px' }}>\n        <div className=\"create-workstream-container\">\n          <div className=\"create-workstream-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button \n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                  aria-label=\"Toggle sidebar\"\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">New Project Workstream</h1>\n                  <p className=\"page-subtitle\">Create a new project workstream</p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\">\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                  <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                    <LogOut size={18} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateWorkStream;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}