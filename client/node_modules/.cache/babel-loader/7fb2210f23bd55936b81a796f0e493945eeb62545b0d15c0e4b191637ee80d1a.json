{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/pages/WorkStreamReporting.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, RefreshCw, Loader, X, Eye, Download, Search, TrendingUp, BarChart3, ChevronDown, ChevronUp, FileText, Upload } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport WorkStreamFilter from '../components/WorkStreamManagement/WorkStreamFilter';\nimport '../styles/WorkStreamReporting.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WorkStreamReporting = ({\n  hideHeader = false\n}) => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [workstreams, setWorkstreams] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showProjectObjectivesModal, setShowProjectObjectivesModal] = useState(false);\n  const [selectedDeliveryTool, setSelectedDeliveryTool] = useState(null);\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [loadingProjectObjectives, setLoadingProjectObjectives] = useState(false);\n  const [showContributorProjectsModal, setShowContributorProjectsModal] = useState(false);\n  const [selectedProjectObjective, setSelectedProjectObjective] = useState(null);\n  const [contributorProjects, setContributorProjects] = useState([]);\n  const [loadingContributorProjects, setLoadingContributorProjects] = useState(false);\n  const [loadingMoreContributorProjects, setLoadingMoreContributorProjects] = useState(false);\n  const [contributorProjectsHasMore, setContributorProjectsHasMore] = useState(false);\n  const [contributorProjectsCounts, setContributorProjectsCounts] = useState({});\n  const [loadingContributorCounts, setLoadingContributorCounts] = useState({}); // Track loading per delivery tool\n  const [downloadingContributorProjects, setDownloadingContributorProjects] = useState({}); // Track downloading per delivery tool\n  const [selectedDeliveryTools, setSelectedDeliveryTools] = useState(new Set()); // For selective refresh\n  const [dataStale, setDataStale] = useState(false);\n  const [contributorProjectsModalCollapsed, setContributorProjectsModalCollapsed] = useState(false); // Track if data is stale\n  const [dataAge, setDataAge] = useState(0); // Track data age in seconds\n  const [projectObjectivesOffset, setProjectObjectivesOffset] = useState(0); // For infinite scroll\n  const [projectObjectivesHasMore, setProjectObjectivesHasMore] = useState(false);\n  const [projectObjectivesTotal, setProjectObjectivesTotal] = useState(0);\n  const [loadingMoreProjectObjectives, setLoadingMoreProjectObjectives] = useState(false);\n  const infiniteScrollRef = useRef(null); // Ref for infinite scroll trigger\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [analyticsData, setAnalyticsData] = useState({});\n  const [loadingAnalytics, setLoadingAnalytics] = useState(false);\n  const [analyticsDays, setAnalyticsDays] = useState(30);\n  const [projectObjectivesModalCollapsed, setProjectObjectivesModalCollapsed] = useState(false);\n  const [selectedTools, setSelectedTools] = useState(new Set()); // Track which tools are selected for display\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    projectStatus: [],\n    projectObjectiveStatus: ['Open', 'Paused', 'Hidden'] // Default filter\n  });\n\n  // Frontend cache for workstreams summary\n  const [cachedWorkstreams, setCachedWorkstreams] = useState(null);\n  const [cacheTimestamp, setCacheTimestamp] = useState(null);\n  const CACHE_TTL = 10 * 60 * 1000; // 10 minutes\n\n  useEffect(() => {\n    fetchWorkstreams();\n  }, [filters]);\n  const fetchWorkstreams = async (forceRefresh = false, selectedTools = null, retryCount = 0) => {\n    // Check frontend cache first (unless force refresh or filters changed)\n    const filtersChanged = JSON.stringify(filters) !== JSON.stringify(cachedWorkstreams === null || cachedWorkstreams === void 0 ? void 0 : cachedWorkstreams.filters);\n    if (!forceRefresh && !filtersChanged && cachedWorkstreams && cacheTimestamp) {\n      const age = Date.now() - cacheTimestamp;\n      if (age < CACHE_TTL) {\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(age > CACHE_TTL * 0.8); // Stale if > 80% of TTL\n        setDataAge(Math.round(age / 1000));\n        setLoading(false);\n        return;\n      } else {\n        // Cache expired, but show stale data with warning\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(true);\n        setDataAge(Math.round(age / 1000));\n        toast('Showing cached data. Fetching fresh data in background...', {\n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e'\n          }\n        });\n      }\n    }\n    setLoading(true);\n    const MAX_RETRIES = 2;\n    try {\n      // Build query parameters\n      const params = new URLSearchParams();\n      if (forceRefresh) params.append('refresh', 'true');\n      if (filters.projectStatus && filters.projectStatus.length > 0) {\n        filters.projectStatus.forEach(status => params.append('projectStatus', status));\n      }\n      if (filters.projectObjectiveStatus && filters.projectObjectiveStatus.length > 0) {\n        filters.projectObjectiveStatus.forEach(status => params.append('projectObjectiveStatus', status));\n      }\n      const queryString = params.toString();\n      const url = `/workstream-reporting/summary${queryString ? '?' + queryString : ''}`;\n      const response = await apiClient.get(url, {\n        timeout: 300000 // 5 minutes timeout to match server capabilities\n      });\n      if (response.data.success) {\n        const workstreamsData = response.data.workstreams || [];\n\n        // If selective refresh, only update selected delivery tools\n        if (selectedTools && selectedTools.size > 0) {\n          setWorkstreams(prev => {\n            const updated = [...prev];\n            workstreamsData.forEach(newWs => {\n              if (selectedTools.has(newWs.deliveryToolName)) {\n                const index = updated.findIndex(ws => ws.deliveryToolName === newWs.deliveryToolName);\n                if (index >= 0) {\n                  updated[index] = newWs;\n                }\n              }\n            });\n            return updated;\n          });\n        } else {\n          setWorkstreams(workstreamsData);\n        }\n\n        // Update cache with filters\n        setCachedWorkstreams({\n          workstreams: workstreamsData,\n          filters: {\n            ...filters\n          }\n        });\n        setCacheTimestamp(Date.now());\n        setDataStale(response.data.stale || false);\n        setDataAge(response.data.age || 0);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch workstreams');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data, _error$message;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message || 'Failed to fetch workstreams';\n\n      // Retry logic for timeout errors\n      if ((error.code === 'ECONNABORTED' || (_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('timeout') || error.status === 504) && retryCount < MAX_RETRIES) {\n        // Wait a bit before retrying\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        return fetchWorkstreams(forceRefresh, selectedTools, retryCount + 1);\n      }\n\n      // Graceful degradation: show cached data if available\n      if (cachedWorkstreams) {\n        toast(`${errorMessage}. Showing cached data.`, {\n          duration: 5000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e'\n          }\n        });\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(true);\n        setDataAge(Math.round((Date.now() - cacheTimestamp) / 1000));\n      } else {\n        var _error$message2;\n        if (error.code === 'ECONNABORTED' || (_error$message2 = error.message) !== null && _error$message2 !== void 0 && _error$message2.includes('timeout') || error.status === 504) {\n          toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Frontend cache for contributor counts\n  const [cachedContributorCounts, setCachedContributorCounts] = useState({});\n  const [contributorCountTimestamps, setContributorCountTimestamps] = useState({});\n  const CONTRIBUTOR_COUNT_CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n  const fetchContributorProjectsCount = async (deliveryToolName, forceRefresh = false) => {\n    // Don't fetch for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af'\n        }\n      });\n      return;\n    }\n\n    // Check frontend cache first (unless force refresh)\n    if (!forceRefresh && cachedContributorCounts[deliveryToolName] !== undefined) {\n      const timestamp = contributorCountTimestamps[deliveryToolName];\n      if (timestamp) {\n        const age = Date.now() - timestamp;\n        if (age < CONTRIBUTOR_COUNT_CACHE_TTL) {\n          setContributorProjectsCounts(prev => ({\n            ...prev,\n            [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n          }));\n          return;\n        }\n      }\n    }\n\n    // If already loaded and not expired, don't fetch again\n    if (contributorProjectsCounts[deliveryToolName] !== undefined && !forceRefresh) {\n      return;\n    }\n\n    // Set loading state for this specific delivery tool\n    setLoadingContributorCounts(prev => ({\n      ...prev,\n      [deliveryToolName]: true\n    }));\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const refreshParam = forceRefresh ? '?refresh=true' : '';\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-count/${encodedDeliveryTool}${refreshParam}`, {\n        timeout: 300000 // 5 minutes timeout to match download endpoint and allow for large datasets\n      });\n      if (response.data.success) {\n        const count = response.data.contributorProjectsCount || 0;\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n\n        // Update frontend cache\n        setCachedContributorCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        setContributorCountTimestamps(prev => ({\n          ...prev,\n          [deliveryToolName]: Date.now()\n        }));\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor project count');\n        // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to fetch contributor project count';\n\n      // Graceful degradation: use cached count if available\n      if (cachedContributorCounts[deliveryToolName] !== undefined) {\n        toast(`${errorMessage}. Using cached count.`, {\n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e'\n          }\n        });\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n        }));\n      } else {\n        var _error$message3;\n        // Show specific error message for timeout\n        if (error.code === 'ECONNABORTED' || (_error$message3 = error.message) !== null && _error$message3 !== void 0 && _error$message3.includes('timeout')) {\n          toast.error('Request timed out. Please try again.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n\n      // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n    } finally {\n      setLoadingContributorCounts(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[deliveryToolName];\n        return newState;\n      });\n    }\n  };\n  const handleRefresh = async (selectedOnly = false, e = null) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    setRefreshing(true);\n    try {\n      if (selectedOnly && selectedDeliveryTools.size > 0) {\n        // Selective refresh: only refresh selected delivery tools\n        await fetchWorkstreams(true, selectedDeliveryTools);\n        // Clear selection after refresh\n        setSelectedDeliveryTools(new Set());\n        toast.success(`Refreshed ${selectedDeliveryTools.size} delivery tool(s)`);\n      } else {\n        // Full refresh\n        await fetchWorkstreams(true);\n        // Clear contributor project counts on full refresh\n        setContributorProjectsCounts({});\n        setCachedContributorCounts({});\n        setContributorCountTimestamps({});\n        toast.success('All data refreshed');\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message || 'Failed to refresh workstreams');\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const handleSelectDeliveryTool = (deliveryToolName, isSelected) => {\n    setSelectedDeliveryTools(prev => {\n      const newSet = new Set(prev);\n      if (isSelected) {\n        newSet.add(deliveryToolName);\n      } else {\n        newSet.delete(deliveryToolName);\n      }\n      return newSet;\n    });\n  };\n  const handleDeliveryToolClick = async deliveryToolName => {\n    // Don't allow clicking on \"Unassigned\" category\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af'\n        }\n      });\n      return;\n    }\n    setSelectedDeliveryTool(deliveryToolName);\n    setShowProjectObjectivesModal(true);\n    setProjectObjectives([]);\n    setProjectObjectivesOffset(0);\n    setProjectObjectivesHasMore(false);\n    setProjectObjectivesTotal(0);\n\n    // Fetch first page (loading state handled in fetchProjectObjectives)\n    await fetchProjectObjectives(deliveryToolName, 0);\n  };\n  const fetchProjectObjectives = async (deliveryToolName, offset = 0, append = false) => {\n    if (!append) {\n      setLoadingProjectObjectives(true);\n    }\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/project-objectives/${encodedDeliveryTool}?limit=50&offset=${offset}`);\n      if (response.data.success) {\n        const newObjectives = response.data.projectObjectives || [];\n        if (append) {\n          setProjectObjectives(prev => [...prev, ...newObjectives]);\n        } else {\n          setProjectObjectives(newObjectives);\n        }\n        setProjectObjectivesHasMore(response.data.hasMore || false);\n        setProjectObjectivesTotal(response.data.total || 0);\n        setProjectObjectivesOffset(offset + newObjectives.length);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch project objectives');\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message || 'Failed to fetch project objectives';\n      toast.error(errorMessage);\n    } finally {\n      setLoadingProjectObjectives(false);\n      setLoadingMoreProjectObjectives(false);\n    }\n  };\n  const loadMoreProjectObjectives = useCallback(async () => {\n    if (!selectedDeliveryTool || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n    setLoadingMoreProjectObjectives(true);\n    await fetchProjectObjectives(selectedDeliveryTool, projectObjectivesOffset, true);\n  }, [selectedDeliveryTool, projectObjectivesHasMore, loadingMoreProjectObjectives, projectObjectivesOffset]);\n\n  // Set up IntersectionObserver for infinite scroll\n  useEffect(() => {\n    const element = infiniteScrollRef.current;\n    if (!element || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        loadMoreProjectObjectives();\n      }\n    }, {\n      threshold: 0.1\n    });\n    observer.observe(element);\n\n    // Cleanup on unmount\n    return () => {\n      observer.disconnect();\n    };\n  }, [projectObjectivesHasMore, loadingMoreProjectObjectives, loadMoreProjectObjectives]);\n  const handleViewContributorProjects = async (projectObjective, append = false) => {\n    if (!append) {\n      setSelectedProjectObjective(projectObjective);\n      setShowContributorProjectsModal(true);\n      setLoadingContributorProjects(true);\n      setContributorProjects([]);\n      setContributorProjectsHasMore(false);\n    } else {\n      setLoadingMoreContributorProjects(true);\n    }\n    try {\n      const offset = append ? contributorProjects.length : 0;\n      const limit = 1000;\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects/${projectObjective.id}`, {\n        params: {\n          offset,\n          limit\n        }\n      });\n      if (response.data.success) {\n        if (append) {\n          setContributorProjects(prev => [...prev, ...(response.data.contributorProjects || [])]);\n        } else {\n          setContributorProjects(response.data.contributorProjects || []);\n        }\n        setContributorProjectsHasMore(response.data.hasMore || false);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor projects');\n      }\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || error.message || 'Failed to fetch contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      if (append) {\n        setLoadingMoreContributorProjects(false);\n      } else {\n        setLoadingContributorProjects(false);\n      }\n    }\n  };\n  const handleLoadMoreContributorProjects = () => {\n    if (selectedProjectObjective && contributorProjectsHasMore && !loadingMoreContributorProjects) {\n      handleViewContributorProjects(selectedProjectObjective, true);\n    }\n  };\n\n  // Download contributor projects for a specific delivery tool\n  const handleDownloadContributorProjects = async deliveryToolName => {\n    // Don't download for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af'\n        }\n      });\n      return;\n    }\n\n    // Check if count is available\n    const expectedCount = contributorProjectsCounts[deliveryToolName];\n    if (expectedCount === undefined) {\n      toast.error('Please get the count first before downloading.');\n      return;\n    }\n    if (expectedCount === 0) {\n      toast('No contributor projects to download.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af'\n        }\n      });\n      return;\n    }\n\n    // Set downloading state\n    setDownloadingContributorProjects(prev => ({\n      ...prev,\n      [deliveryToolName]: true\n    }));\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-by-tool/${encodedDeliveryTool}`, {\n        timeout: 300000 // 5 minutes timeout for large datasets\n      });\n      if (response.data.success) {\n        const contributorProjects = response.data.contributorProjects || [];\n        const actualCount = contributorProjects.length;\n\n        // Verify count matches\n        if (actualCount !== expectedCount) {\n          toast(`Downloaded ${actualCount} records, but table shows ${expectedCount}. Some records may be missing due to limits.`, {\n            duration: 5000,\n            icon: '⚠️',\n            style: {\n              background: '#fef3c7',\n              color: '#92400e'\n            }\n          });\n        }\n        if (contributorProjects.length === 0) {\n          toast('No contributor projects found to download.', {\n            icon: 'ℹ️',\n            style: {\n              background: '#dbeafe',\n              color: '#1e40af'\n            }\n          });\n          return;\n        }\n\n        // Prepare data for export - only Contributor Project, Project Objective, Status\n        const headers = [{\n          key: 'name',\n          label: 'Contributor Project'\n        }, {\n          key: 'projectObjectiveName',\n          label: 'Project Objective'\n        }, {\n          key: 'status',\n          label: 'Status'\n        }];\n\n        // Sanitize delivery tool name for filename\n        const sanitizedDeliveryTool = deliveryToolName.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n        const filename = `Contributor_Projects_${sanitizedDeliveryTool}_${new Date().toISOString().split('T')[0]}.xlsx`;\n        exportToExcel(contributorProjects, headers, filename);\n        toast.success(`Downloaded ${actualCount} contributor project${actualCount !== 1 ? 's' : ''} for ${deliveryToolName}`);\n      } else {\n        toast.error(response.data.error || 'Failed to download contributor projects');\n      }\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      const errorMessage = ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || error.message || 'Failed to download contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      setDownloadingContributorProjects(prev => ({\n        ...prev,\n        [deliveryToolName]: false\n      }));\n    }\n  };\n\n  // Export functions\n  const exportToExcel = (data, headers, filename) => {\n    try {\n      // Prepare data for Excel - header row with labels\n      const headerLabels = headers.map(h => h.label);\n      const worksheetData = [headerLabels,\n      // Header row with labels\n      ...data.map(row => headers.map(header => {\n        const value = row[header.key];\n        // Handle null/undefined values - show empty string for Excel\n        // For contributor project count, if not retrieved (undefined), show empty string\n        if (value === null || value === undefined) {\n          return '';\n        }\n        // For contributor project count that is 0, show 0 (not empty)\n        return value;\n      }))];\n\n      // Create workbook and worksheet\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');\n\n      // Set column widths (auto-size based on content)\n      const columnWidths = headers.map(() => ({\n        wch: 25\n      }));\n      worksheet['!cols'] = columnWidths;\n\n      // Generate Excel file and download\n      XLSX.writeFile(workbook, filename);\n      toast.success('Excel file downloaded successfully');\n    } catch (error) {\n      toast.error('Failed to export to Excel');\n    }\n  };\n  const handleExportSummary = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n    const headers = [{\n      key: 'deliveryToolName',\n      label: 'Delivery Tool Name'\n    }, {\n      key: 'projectObjectivesCount',\n      label: 'No. of Project Objectives'\n    }, {\n      key: 'projectsCount',\n      label: 'No. of Projects'\n    }, {\n      key: 'contributorProjectsCount',\n      label: 'Total Contributor Projects'\n    }];\n\n    // Add contributor project counts to workstreams data for export\n    // If count is not retrieved (undefined), keep it as undefined (will show as empty in Excel)\n    // If count is retrieved, use the actual count (including 0)\n    const workstreamsWithCounts = workstreams.map(ws => ({\n      ...ws,\n      contributorProjectsCount: contributorProjectsCounts[ws.deliveryToolName] !== undefined ? contributorProjectsCounts[ws.deliveryToolName] : null // Use null for undefined counts so Excel shows empty cell\n    }));\n    exportToExcel(workstreamsWithCounts, headers, `WorkStream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`);\n  };\n  const handleExportProjectObjectives = () => {\n    if (projectObjectives.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n    const headers = [{\n      key: 'name',\n      label: 'Project Objective'\n    }, {\n      key: 'projectName',\n      label: 'Project'\n    }, {\n      key: 'workstreamName',\n      label: 'Associated WorkStream'\n    }, {\n      key: 'deliveryToolName',\n      label: 'Delivery Tool Name'\n    }];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedToolName = (selectedDeliveryTool || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Project_Objectives_${sanitizedToolName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(projectObjectives, headers, filename);\n  };\n  const handleExportContributorProjects = () => {\n    if (contributorProjects.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n    const headers = [{\n      key: 'name',\n      label: 'Contributor Project Name'\n    }, {\n      key: 'projectName',\n      label: 'Project'\n    }, {\n      key: 'status',\n      label: 'Status'\n    }];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedObjectiveName = ((selectedProjectObjective === null || selectedProjectObjective === void 0 ? void 0 : selectedProjectObjective.name) || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Contributor_Projects_${sanitizedObjectiveName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(contributorProjects, headers, filename);\n  };\n  const fetchAnalytics = async () => {\n    setLoadingAnalytics(true);\n    try {\n      const response = await apiClient.get(`/workstream-reporting/analytics?days=${analyticsDays}`);\n      if (response.data.success) {\n        const trends = response.data.trends || {};\n        setAnalyticsData(trends);\n        // Initialize or update selected tools\n        const availableTools = Object.keys(trends);\n        if (availableTools.length > 0) {\n          if (selectedTools.size === 0) {\n            // First time: select all tools\n            setSelectedTools(new Set(availableTools));\n          } else {\n            // Update selection: keep existing selections if tools still exist, add new ones\n            const newSelection = new Set();\n            availableTools.forEach(tool => {\n              if (selectedTools.has(tool)) {\n                newSelection.add(tool);\n              }\n            });\n            // If no tools were kept, select all (user might have deselected everything)\n            if (newSelection.size === 0) {\n              setSelectedTools(new Set(availableTools));\n            } else {\n              setSelectedTools(newSelection);\n            }\n          }\n        }\n      } else {\n        toast.error(response.data.error || 'Failed to fetch analytics');\n      }\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      toast.error(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || error.message || 'Failed to fetch analytics');\n    } finally {\n      setLoadingAnalytics(false);\n    }\n  };\n  useEffect(() => {\n    if (showAnalytics) {\n      fetchAnalytics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAnalytics, analyticsDays]);\n\n  // Format date for display\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  // Generate unique colors for all tools\n  const generateUniqueColors = count => {\n    const baseColors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#ec4899', '#84cc16', '#f97316', '#6366f1', '#14b8a6', '#eab308', '#a855f7', '#f43f5e', '#22c55e', '#0ea5e9', '#d946ef', '#64748b', '#fb923c', '#34d399'];\n    if (count <= baseColors.length) {\n      return baseColors.slice(0, count);\n    }\n\n    // Generate additional colors if needed\n    const colors = [...baseColors];\n    for (let i = baseColors.length; i < count; i++) {\n      const hue = i * 137.508 % 360; // Golden angle approximation for color distribution\n      const saturation = 60 + i % 3 * 10; // Vary saturation\n      const lightness = 45 + i % 2 * 10; // Vary lightness\n      colors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);\n    }\n    return colors;\n  };\n\n  // Prepare chart data from analytics (include all tools, but style based on selection)\n  const prepareChartData = () => {\n    const allDates = new Set();\n    // Process all tools to get all dates\n    Object.values(analyticsData).forEach(trend => {\n      trend.forEach(point => allDates.add(point.date));\n    });\n    const sortedDates = Array.from(allDates).sort();\n    const chartData = sortedDates.map(date => {\n      const dataPoint = {\n        date: formatDate(date)\n      };\n      // Include all tools in data\n      Object.keys(analyticsData).forEach(toolName => {\n        const trend = analyticsData[toolName];\n        const point = trend.find(p => p.date === date);\n        dataPoint[toolName] = point ? point.count : 0;\n      });\n      return dataPoint;\n    });\n    return chartData;\n  };\n\n  // Handle tool selection toggle\n  const handleToolToggle = toolName => {\n    setSelectedTools(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(toolName)) {\n        newSet.delete(toolName);\n      } else {\n        newSet.add(toolName);\n      }\n      return newSet;\n    });\n  };\n\n  // Select all tools\n  const handleSelectAllTools = () => {\n    setSelectedTools(new Set(Object.keys(analyticsData)));\n  };\n\n  // Deselect all tools\n  const handleDeselectAllTools = () => {\n    setSelectedTools(new Set());\n  };\n  const handleExportToExcel = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n    try {\n      // Prepare data for export - only table columns (excluding checkbox)\n      const exportData = workstreams.map(ws => ({\n        'Delivery Tool Name': ws.deliveryToolName || 'N/A',\n        'No. of Project Objectives': ws.projectObjectivesCount || 0,\n        'No. of Projects': ws.projectsCount || 0,\n        'Total Contributor Projects': contributorProjectsCounts[ws.deliveryToolName] !== undefined ? contributorProjectsCounts[ws.deliveryToolName] : 'N/A'\n      }));\n\n      // Create workbook and worksheet\n      const ws = XLSX.utils.json_to_sheet(exportData);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Workstream Summary');\n\n      // Generate filename with timestamp\n      const filename = `Workstream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`;\n\n      // Write and download\n      XLSX.writeFile(wb, filename);\n      toast.success(`Exported ${exportData.length} records to Excel`);\n    } catch (error) {\n      console.error('Error exporting to Excel:', error);\n      toast.error('Failed to export to Excel');\n    }\n  };\n  const content = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workstream-reporting-content\",\n      children: [dataStale && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '12px 16px',\n          backgroundColor: '#fff3cd',\n          border: '1px solid #ffc107',\n          borderRadius: '4px',\n          marginBottom: '16px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#856404'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Showing cached data (age: \", dataAge, \"s). Data may be outdated.\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => fetchWorkstreams(true),\n            style: {\n              marginLeft: '8px',\n              color: '#856404',\n              textDecoration: 'underline',\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer'\n            },\n            children: \"Refresh now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"WorkStream Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '8px',\n            alignItems: 'center'\n          },\n          children: [selectedDeliveryTools.size > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: e => handleRefresh(true, e),\n            disabled: refreshing,\n            style: {\n              marginRight: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 16,\n              className: refreshing ? 'spinning' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 19\n            }, this), \"Refresh Selected (\", selectedDeliveryTools.size, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => setShowAnalytics(!showAnalytics),\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            title: \"View Analytics\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this), showAnalytics ? 'Hide' : 'Show', \" Analytics\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: handleExportSummary,\n            disabled: workstreams.length === 0,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            title: \"Export to Excel\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 17\n            }, this), \"Export\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: e => handleRefresh(false, e),\n            disabled: refreshing,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 16,\n              className: refreshing ? 'spinning' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 17\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: handleExportToExcel,\n            disabled: workstreams.length === 0,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            title: \"Export table data to Excel\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 17\n            }, this), \"Export to Excel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 11\n      }, this), loading && workstreams.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          className: \"spinning\",\n          size: 24,\n          style: {\n            color: '#08979C'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading workstreams...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 891,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"summary-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: '40px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedDeliveryTools.size === workstreams.length && workstreams.length > 0,\n                  onChange: e => {\n                    if (e.target.checked) {\n                      setSelectedDeliveryTools(new Set(workstreams.map(ws => ws.deliveryToolName)));\n                    } else {\n                      setSelectedDeliveryTools(new Set());\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delivery Tool Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No. of Project Objectives\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No. of Projects\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 915,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No. of Workstreams\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total Contributor Projects\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 917,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: workstreams.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"no-data\",\n                children: loading ? 'Loading workstreams...' : 'No delivery tools found'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 21\n            }, this) : workstreams.map((ws, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedDeliveryTools.has(ws.deliveryToolName),\n                  onChange: e => handleSelectDeliveryTool(ws.deliveryToolName, e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ws.deliveryToolName === 'Unassigned' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#706e6b',\n                    fontStyle: 'italic'\n                  },\n                  children: ws.deliveryToolName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"delivery-tool-link\",\n                  onClick: () => handleDeliveryToolClick(ws.deliveryToolName),\n                  style: {\n                    color: '#0176d3',\n                    cursor: 'pointer',\n                    textDecoration: 'underline'\n                  },\n                  children: ws.deliveryToolName || '--'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ws.projectObjectivesCount || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ws.projectsCount || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ws.workstreamCount || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 954,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: loadingContributorCounts[ws.deliveryToolName] ? /*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"spinning\",\n                    size: 14,\n                    style: {\n                      display: 'inline-block'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 958,\n                    columnNumber: 31\n                  }, this) : contributorProjectsCounts[ws.deliveryToolName] !== undefined ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: contributorProjectsCounts[ws.deliveryToolName]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 961,\n                      columnNumber: 33\n                    }, this), contributorProjectsCounts[ws.deliveryToolName] > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDownloadContributorProjects(ws.deliveryToolName),\n                      disabled: downloadingContributorProjects[ws.deliveryToolName],\n                      style: {\n                        background: 'none',\n                        border: 'none',\n                        color: downloadingContributorProjects[ws.deliveryToolName] ? '#706e6b' : '#0176d3',\n                        cursor: downloadingContributorProjects[ws.deliveryToolName] ? 'not-allowed' : 'pointer',\n                        display: 'inline-flex',\n                        alignItems: 'center',\n                        padding: '2px 4px',\n                        fontSize: '12px',\n                        opacity: downloadingContributorProjects[ws.deliveryToolName] ? 0.6 : 1\n                      },\n                      title: downloadingContributorProjects[ws.deliveryToolName] ? 'Downloading...' : 'Download Contributor Projects List',\n                      children: downloadingContributorProjects[ws.deliveryToolName] ? /*#__PURE__*/_jsxDEV(Loader, {\n                        className: \"spinning\",\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 980,\n                        columnNumber: 39\n                      }, this) : /*#__PURE__*/_jsxDEV(Download, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 982,\n                        columnNumber: 39\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 963,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => fetchContributorProjectsCount(ws.deliveryToolName),\n                    style: {\n                      background: 'none',\n                      border: 'none',\n                      color: '#0176d3',\n                      cursor: 'pointer',\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      gap: '4px',\n                      padding: '4px 8px',\n                      fontSize: '13px'\n                    },\n                    title: \"Get Contributor Project Count\",\n                    children: [/*#__PURE__*/_jsxDEV(Search, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1003,\n                      columnNumber: 33\n                    }, this), \"Get Count\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 988,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 25\n              }, this)]\n            }, ws.deliveryToolName || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 13\n      }, this), showAnalytics && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '24px',\n          padding: '20px',\n          backgroundColor: '#fff',\n          borderRadius: '8px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0,\n              fontSize: '18px',\n              fontWeight: '600'\n            },\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              size: 20,\n              style: {\n                display: 'inline-block',\n                marginRight: '8px',\n                verticalAlign: 'middle'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 19\n            }, this), \"Trend Analysis - Project Objectives by Delivery Tool\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontSize: '14px'\n              },\n              children: \"Days:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: analyticsDays,\n              onChange: e => setAnalyticsDays(parseInt(e.target.value)),\n              style: {\n                padding: '6px 12px',\n                border: '1px solid #ddd',\n                borderRadius: '4px',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 7,\n                children: \"7 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 14,\n                children: \"14 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 30,\n                children: \"30 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1045,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 60,\n                children: \"60 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 90,\n                children: \"90 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: fetchAnalytics,\n              disabled: loadingAnalytics,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                padding: '6px 12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                size: 14,\n                className: loadingAnalytics ? 'spinning' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1055,\n                columnNumber: 21\n              }, this), \"Refresh\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 15\n        }, this), loadingAnalytics ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          style: {\n            minHeight: 'calc(100vh - 200px)',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Loader, {\n            className: \"spinning\",\n            size: 24,\n            style: {\n              color: '#08979C'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading analytics...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1062,\n          columnNumber: 17\n        }, this) : Object.keys(analyticsData).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px',\n            color: '#666'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No analytics data available. Data will be collected as snapshots are created.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1068,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '400px'\n          },\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(AreaChart, {\n              data: prepareChartData(),\n              margin: {\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                children: Object.keys(analyticsData).map((toolName, index) => {\n                  const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                  const color = colors[index];\n                  const isSelected = selectedTools.has(toolName);\n                  return /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                    id: `color${toolName}`,\n                    x1: \"0\",\n                    y1: \"0\",\n                    x2: \"0\",\n                    y2: \"1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                      offset: \"5%\",\n                      stopColor: color,\n                      stopOpacity: isSelected ? 0.8 : 0.2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1081,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                      offset: \"95%\",\n                      stopColor: color,\n                      stopOpacity: isSelected ? 0.1 : 0.05\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1082,\n                      columnNumber: 31\n                    }, this)]\n                  }, toolName, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1080,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1087,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                angle: -45,\n                textAnchor: \"end\",\n                height: 80,\n                style: {\n                  fontSize: '12px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                style: {\n                  fontSize: '12px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1095,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  backgroundColor: '#fff',\n                  border: '1px solid #ddd',\n                  borderRadius: '4px'\n                },\n                labelStyle: {\n                  fontWeight: 'bold',\n                  marginBottom: '4px'\n                },\n                content: ({\n                  active,\n                  payload,\n                  label\n                }) => {\n                  if (!active || !payload || payload.length === 0) return null;\n\n                  // Filter to show only selected tools\n                  const selectedPayload = payload.filter(item => selectedTools.has(item.dataKey));\n                  if (selectedPayload.length === 0) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        padding: '8px',\n                        fontSize: '12px',\n                        color: '#666'\n                      },\n                      children: \"No selected tools\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1107,\n                      columnNumber: 31\n                    }, this);\n                  }\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: '10px',\n                      backgroundColor: '#fff',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        margin: '0 0 8px 0',\n                        fontWeight: 'bold',\n                        fontSize: '13px',\n                        color: '#333'\n                      },\n                      children: label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1115,\n                      columnNumber: 31\n                    }, this), selectedPayload.map((entry, index) => {\n                      const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                      const toolIndex = Object.keys(analyticsData).indexOf(entry.dataKey);\n                      const color = colors[toolIndex];\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '8px',\n                          marginBottom: '4px',\n                          fontSize: '12px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            display: 'inline-block',\n                            width: '12px',\n                            height: '12px',\n                            backgroundColor: color,\n                            borderRadius: '2px'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1130,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            color: '#666',\n                            minWidth: '150px'\n                          },\n                          children: [entry.dataKey, \":\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1137,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontWeight: '600',\n                            color: '#333'\n                          },\n                          children: entry.value\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1138,\n                          columnNumber: 37\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1123,\n                        columnNumber: 35\n                      }, this);\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1114,\n                    columnNumber: 29\n                  }, this);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                wrapperStyle: {\n                  paddingTop: '20px'\n                },\n                content: ({\n                  payload\n                }) => {\n                  if (!payload || payload.length === 0) return null;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexWrap: 'wrap',\n                      gap: '12px',\n                      padding: '10px',\n                      justifyContent: 'center',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: '8px',\n                        alignItems: 'center',\n                        marginRight: '16px',\n                        padding: '4px 8px',\n                        border: '1px solid #e0e0e0',\n                        borderRadius: '4px',\n                        backgroundColor: '#f9f9f9'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: handleSelectAllTools,\n                        style: {\n                          padding: '4px 8px',\n                          fontSize: '12px',\n                          border: '1px solid #ddd',\n                          borderRadius: '4px',\n                          background: '#fff',\n                          cursor: 'pointer',\n                          marginRight: '4px'\n                        },\n                        children: \"Select All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1169,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: handleDeselectAllTools,\n                        style: {\n                          padding: '4px 8px',\n                          fontSize: '12px',\n                          border: '1px solid #ddd',\n                          borderRadius: '4px',\n                          background: '#fff',\n                          cursor: 'pointer'\n                        },\n                        children: \"Deselect All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1183,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1159,\n                      columnNumber: 31\n                    }, this), Object.keys(analyticsData).map((toolName, index) => {\n                      const isSelected = selectedTools.has(toolName);\n                      const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                      const color = colors[index];\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => handleToolToggle(toolName),\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '6px',\n                          cursor: 'pointer',\n                          padding: '6px 10px',\n                          borderRadius: '4px',\n                          backgroundColor: isSelected ? '#f0f7ff' : '#f9f9f9',\n                          border: `1px solid ${isSelected ? color : '#e0e0e0'}`,\n                          opacity: isSelected ? 1 : 0.6,\n                          transition: 'all 0.2s'\n                        },\n                        onMouseEnter: e => {\n                          e.currentTarget.style.backgroundColor = isSelected ? '#e0f0ff' : '#f0f0f0';\n                        },\n                        onMouseLeave: e => {\n                          e.currentTarget.style.backgroundColor = isSelected ? '#f0f7ff' : '#f9f9f9';\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          checked: isSelected,\n                          onChange: () => handleToolToggle(toolName),\n                          onClick: e => e.stopPropagation(),\n                          style: {\n                            cursor: 'pointer',\n                            marginRight: '4px',\n                            width: '16px',\n                            height: '16px'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1224,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            display: 'inline-block',\n                            width: '14px',\n                            height: '14px',\n                            backgroundColor: color,\n                            borderRadius: '2px',\n                            marginRight: '4px',\n                            flexShrink: 0\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1236,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontSize: '13px',\n                            fontWeight: isSelected ? '500' : '400'\n                          },\n                          children: toolName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1247,\n                          columnNumber: 37\n                        }, this)]\n                      }, toolName, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1202,\n                        columnNumber: 35\n                      }, this);\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1151,\n                    columnNumber: 29\n                  }, this);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1146,\n                columnNumber: 23\n              }, this), Object.keys(analyticsData).map((toolName, index) => {\n                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                const color = colors[index];\n                const isSelected = selectedTools.has(toolName);\n                return /*#__PURE__*/_jsxDEV(Area, {\n                  type: \"monotone\",\n                  dataKey: toolName,\n                  stroke: color,\n                  fill: `url(#color${toolName})`,\n                  strokeWidth: isSelected ? 2 : 1,\n                  strokeDasharray: isSelected ? '0' : '5 5',\n                  opacity: isSelected ? 1 : 0.4,\n                  name: toolName\n                }, toolName, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1260,\n                  columnNumber: 27\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1019,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 7\n    }, this), showProjectObjectivesModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowProjectObjectivesModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            padding: '12px 16px',\n            cursor: 'pointer'\n          },\n          onClick: () => setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              flex: 1,\n              minWidth: 0\n            },\n            children: [projectObjectivesModalCollapsed ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16,\n              style: {\n                flexShrink: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1288,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronUp, {\n              size: 16,\n              style: {\n                flexShrink: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1290,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: 0,\n                fontSize: '16px',\n                fontWeight: 600,\n                color: '#16325c',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                flex: 1,\n                minWidth: 0\n              },\n              children: selectedDeliveryTool\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1286,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px',\n              alignItems: 'center',\n              flexShrink: 0\n            },\n            onClick: e => e.stopPropagation(),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: handleExportProjectObjectives,\n              disabled: projectObjectives.length === 0,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                padding: '6px 12px',\n                fontSize: '13px'\n              },\n              title: \"Export to Excel\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1304,\n                columnNumber: 21\n              }, this), \"Export\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-close\",\n              onClick: () => setShowProjectObjectivesModal(false),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1308,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1307,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1296,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1285,\n          columnNumber: 15\n        }, this), !projectObjectivesModalCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: loadingProjectObjectives && projectObjectives.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-container\",\n            style: {\n              minHeight: '400px',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Loader, {\n              className: \"spinner\",\n              size: 24,\n              style: {\n                color: '#08979C'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading project objectives...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1317,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1315,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-objectives-table-container\",\n            style: {\n              maxHeight: '60vh',\n              overflowY: 'auto',\n              overflowX: 'auto',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"project-objectives-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Project Objective\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1324,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Project\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1325,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Associated WorkStream\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1326,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Delivery Tool Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1327,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1328,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1323,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1322,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: projectObjectives.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"5\",\n                    className: \"no-data\",\n                    children: \"No project objectives found for this delivery tool\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1334,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1333,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [projectObjectives.map((po, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: po.name || '--'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1342,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: po.projectName || '--'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1343,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: po.workstreamName || '--'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1344,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: po.deliveryToolName || '--'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1345,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn-link\",\n                        onClick: () => handleViewContributorProjects(po),\n                        children: [/*#__PURE__*/_jsxDEV(Eye, {\n                          size: 14\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1351,\n                          columnNumber: 37\n                        }, this), \"View Contributor Projects\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1347,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1346,\n                      columnNumber: 33\n                    }, this)]\n                  }, po.id || index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1341,\n                    columnNumber: 31\n                  }, this)), projectObjectivesHasMore && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"5\",\n                      style: {\n                        textAlign: 'center',\n                        padding: '16px'\n                      },\n                      children: loadingMoreProjectObjectives ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          gap: '8px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Loader, {\n                          className: \"spinning\",\n                          size: 16\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1362,\n                          columnNumber: 39\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Loading more...\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1363,\n                          columnNumber: 39\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1361,\n                        columnNumber: 37\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn-secondary\",\n                        onClick: loadMoreProjectObjectives,\n                        style: {\n                          padding: '8px 16px'\n                        },\n                        children: [\"Load More (\", projectObjectivesTotal - projectObjectives.length, \" remaining)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1366,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1359,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1358,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1331,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1321,\n              columnNumber: 21\n            }, this), projectObjectivesHasMore && !loadingMoreProjectObjectives && /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: infiniteScrollRef,\n              style: {\n                height: '20px',\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1320,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1313,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => setShowProjectObjectivesModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1393,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1392,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1283,\n      columnNumber: 11\n    }, this), showContributorProjectsModal && selectedProjectObjective && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowContributorProjectsModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            padding: '12px 16px',\n            cursor: 'pointer'\n          },\n          onClick: () => setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              flex: 1,\n              minWidth: 0\n            },\n            children: [contributorProjectsModalCollapsed ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16,\n              style: {\n                flexShrink: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronUp, {\n              size: 16,\n              style: {\n                flexShrink: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1410,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: 0,\n                fontSize: '16px',\n                fontWeight: 600,\n                color: '#16325c',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                flex: 1,\n                minWidth: 0\n              },\n              children: selectedProjectObjective.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1412,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px',\n              alignItems: 'center',\n              flexShrink: 0\n            },\n            onClick: e => e.stopPropagation(),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: handleExportContributorProjects,\n              disabled: contributorProjects.length === 0,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                padding: '6px 12px',\n                fontSize: '13px'\n              },\n              title: \"Export to Excel\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1424,\n                columnNumber: 21\n              }, this), \"Export\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1417,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-close\",\n              onClick: () => setShowContributorProjectsModal(false),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1428,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1427,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1416,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 15\n        }, this), !contributorProjectsModalCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: loadingContributorProjects ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-container\",\n            style: {\n              minHeight: '400px',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Loader, {\n              className: \"spinner\",\n              size: 24,\n              style: {\n                color: '#08979C'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1436,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading contributor projects...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1437,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-objectives-table-container contributor-projects-table\",\n            style: {\n              overflowX: 'visible',\n              width: '100%',\n              maxWidth: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"project-objectives-table contributor-projects-table\",\n              style: {\n                width: '100%',\n                tableLayout: 'fixed'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Contributor Project Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1444,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Project\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1445,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1446,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1443,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1442,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: contributorProjects.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"3\",\n                    className: \"no-data\",\n                    children: \"No contributor projects found for this project objective\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1452,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 27\n                }, this) : contributorProjects.map((cp, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cp.name || '--'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1459,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cp.projectName || '--'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1460,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: cp.status || '--'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1461,\n                    columnNumber: 31\n                  }, this)]\n                }, cp.id || index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1458,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1441,\n              columnNumber: 21\n            }, this), contributorProjectsHasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                padding: '16px',\n                borderTop: '1px solid #e2e8f0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLoadMoreContributorProjects,\n                disabled: loadingMoreContributorProjects,\n                style: {\n                  padding: '10px 20px',\n                  backgroundColor: loadingMoreContributorProjects ? '#cbd5e1' : '#08979C',\n                  color: '#ffffff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: loadingMoreContributorProjects ? 'not-allowed' : 'pointer',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: loadingMoreContributorProjects ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"spinner\",\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1488,\n                    columnNumber: 31\n                  }, this), \"Loading...\"]\n                }, void 0, true) : 'Show More'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1469,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '8px',\n                  fontSize: '12px',\n                  color: '#64748b'\n                },\n                children: [\"Showing \", contributorProjects.length, \" entries. Click to load more.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1468,\n              columnNumber: 23\n            }, this), contributorProjects.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '12px',\n                fontSize: '13px',\n                color: '#706e6b'\n              },\n              children: [\"Total: \", contributorProjects.length, \" contributor project\", contributorProjects.length !== 1 ? 's' : '', !contributorProjectsHasMore && contributorProjects.length >= 1000 && ' (all entries loaded)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1501,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1433,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => setShowContributorProjectsModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1511,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1510,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1404,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1403,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n  if (hideHeader) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workstream-reporting-content-wrapper\",\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1522,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-layout\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: sidebarOpen,\n      toggleSidebar: () => setSidebarOpen(!sidebarOpen)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1527,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workstream-reporting\",\n      style: {\n        marginLeft: sidebarOpen ? '320px' : '80px',\n        minHeight: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workstream-reporting-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workstream-reporting-header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"header-menu-toggle\",\n                onClick: () => setSidebarOpen(!sidebarOpen),\n                children: /*#__PURE__*/_jsxDEV(Menu, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1537,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1533,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"page-title\",\n                  children: \"WorkStream Reporting\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1540,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"page-subtitle\",\n                  children: \"View workstream summary and associated project objectives\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1539,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-user-profile\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-profile\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-avatar\",\n                  children: ((user === null || user === void 0 ? void 0 : user.email) || 'U').charAt(0).toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1550,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-name\",\n                  children: (user === null || user === void 0 ? void 0 : user.email) || 'User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1553,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1549,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"logout-btn\",\n                onClick: logout,\n                title: \"Logout\",\n                children: /*#__PURE__*/_jsxDEV(LogOut, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1556,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1548,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1531,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1530,\n          columnNumber: 11\n        }, this), content]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1529,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1528,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1526,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkStreamReporting, \"qOqLkIbMDU0HT8/zwn+PrT7J9eg=\", false, function () {\n  return [useAuth];\n});\n_c = WorkStreamReporting;\nexport default WorkStreamReporting;\nvar _c;\n$RefreshReg$(_c, \"WorkStreamReporting\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useAuth","Sidebar","Menu","LogOut","RefreshCw","Loader","X","Eye","Download","Search","TrendingUp","BarChart3","ChevronDown","ChevronUp","FileText","Upload","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","AreaChart","Area","apiClient","toast","XLSX","WorkStreamFilter","jsxDEV","_jsxDEV","Fragment","_Fragment","WorkStreamReporting","hideHeader","_s","user","logout","sidebarOpen","setSidebarOpen","loading","setLoading","workstreams","setWorkstreams","refreshing","setRefreshing","showProjectObjectivesModal","setShowProjectObjectivesModal","selectedDeliveryTool","setSelectedDeliveryTool","projectObjectives","setProjectObjectives","loadingProjectObjectives","setLoadingProjectObjectives","showContributorProjectsModal","setShowContributorProjectsModal","selectedProjectObjective","setSelectedProjectObjective","contributorProjects","setContributorProjects","loadingContributorProjects","setLoadingContributorProjects","loadingMoreContributorProjects","setLoadingMoreContributorProjects","contributorProjectsHasMore","setContributorProjectsHasMore","contributorProjectsCounts","setContributorProjectsCounts","loadingContributorCounts","setLoadingContributorCounts","downloadingContributorProjects","setDownloadingContributorProjects","selectedDeliveryTools","setSelectedDeliveryTools","Set","dataStale","setDataStale","contributorProjectsModalCollapsed","setContributorProjectsModalCollapsed","dataAge","setDataAge","projectObjectivesOffset","setProjectObjectivesOffset","projectObjectivesHasMore","setProjectObjectivesHasMore","projectObjectivesTotal","setProjectObjectivesTotal","loadingMoreProjectObjectives","setLoadingMoreProjectObjectives","infiniteScrollRef","showAnalytics","setShowAnalytics","analyticsData","setAnalyticsData","loadingAnalytics","setLoadingAnalytics","analyticsDays","setAnalyticsDays","projectObjectivesModalCollapsed","setProjectObjectivesModalCollapsed","selectedTools","setSelectedTools","showFilters","setShowFilters","filters","setFilters","projectStatus","projectObjectiveStatus","cachedWorkstreams","setCachedWorkstreams","cacheTimestamp","setCacheTimestamp","CACHE_TTL","fetchWorkstreams","forceRefresh","retryCount","filtersChanged","JSON","stringify","age","Date","now","Math","round","duration","icon","style","background","color","MAX_RETRIES","params","URLSearchParams","append","length","forEach","status","queryString","toString","url","response","get","timeout","data","success","workstreamsData","size","prev","updated","newWs","has","deliveryToolName","index","findIndex","ws","stale","error","_error$response","_error$response$data","_error$message","errorMessage","message","code","includes","Promise","resolve","setTimeout","_error$message2","cachedContributorCounts","setCachedContributorCounts","contributorCountTimestamps","setContributorCountTimestamps","CONTRIBUTOR_COUNT_CACHE_TTL","fetchContributorProjectsCount","undefined","timestamp","encodedDeliveryTool","encodeURIComponent","refreshParam","count","contributorProjectsCount","_error$response2","_error$response2$data","_error$message3","newState","handleRefresh","selectedOnly","e","preventDefault","stopPropagation","_error$response3","_error$response3$data","handleSelectDeliveryTool","isSelected","newSet","add","delete","handleDeliveryToolClick","fetchProjectObjectives","offset","newObjectives","hasMore","total","_error$response4","_error$response4$data","loadMoreProjectObjectives","element","current","observer","IntersectionObserver","entries","isIntersecting","threshold","observe","disconnect","handleViewContributorProjects","projectObjective","limit","id","_error$response5","_error$response5$data","handleLoadMoreContributorProjects","handleDownloadContributorProjects","expectedCount","actualCount","headers","key","label","sanitizedDeliveryTool","replace","toLowerCase","filename","toISOString","split","exportToExcel","_error$response6","_error$response6$data","headerLabels","map","h","worksheetData","row","header","value","worksheet","utils","aoa_to_sheet","workbook","book_new","book_append_sheet","columnWidths","wch","writeFile","handleExportSummary","workstreamsWithCounts","handleExportProjectObjectives","sanitizedToolName","handleExportContributorProjects","sanitizedObjectiveName","name","fetchAnalytics","trends","availableTools","Object","keys","newSelection","tool","_error$response7","_error$response7$data","formatDate","dateString","date","toLocaleDateString","month","day","generateUniqueColors","baseColors","slice","colors","i","hue","saturation","lightness","push","prepareChartData","allDates","values","trend","point","sortedDates","Array","from","sort","chartData","dataPoint","toolName","find","p","handleToolToggle","handleSelectAllTools","handleDeselectAllTools","handleExportToExcel","exportData","projectObjectivesCount","projectsCount","json_to_sheet","wb","console","content","children","className","padding","backgroundColor","border","borderRadius","marginBottom","display","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginLeft","textDecoration","cursor","disabled","marginRight","title","width","type","checked","onChange","target","colSpan","fontStyle","workstreamCount","fontSize","opacity","marginTop","boxShadow","justifyContent","margin","fontWeight","verticalAlign","parseInt","minHeight","flexDirection","textAlign","height","top","right","left","bottom","x1","y1","x2","y2","stopColor","stopOpacity","strokeDasharray","dataKey","angle","textAnchor","contentStyle","labelStyle","active","payload","selectedPayload","filter","item","entry","toolIndex","indexOf","minWidth","wrapperStyle","paddingTop","flexWrap","transition","onMouseEnter","currentTarget","onMouseLeave","flexShrink","stroke","fill","strokeWidth","flex","whiteSpace","overflow","textOverflow","maxHeight","overflowY","overflowX","po","projectName","workstreamName","ref","maxWidth","tableLayout","cp","borderTop","isOpen","toggleSidebar","email","charAt","toUpperCase","_c","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/WorkStreamReporting.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, RefreshCw, Loader, X, Eye, Download, Search, TrendingUp, BarChart3, ChevronDown, ChevronUp, FileText, Upload } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport WorkStreamFilter from '../components/WorkStreamManagement/WorkStreamFilter';\nimport '../styles/WorkStreamReporting.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\n\nconst WorkStreamReporting = ({ hideHeader = false }) => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [workstreams, setWorkstreams] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showProjectObjectivesModal, setShowProjectObjectivesModal] = useState(false);\n  const [selectedDeliveryTool, setSelectedDeliveryTool] = useState(null);\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [loadingProjectObjectives, setLoadingProjectObjectives] = useState(false);\n  const [showContributorProjectsModal, setShowContributorProjectsModal] = useState(false);\n  const [selectedProjectObjective, setSelectedProjectObjective] = useState(null);\n  const [contributorProjects, setContributorProjects] = useState([]);\n  const [loadingContributorProjects, setLoadingContributorProjects] = useState(false);\n  const [loadingMoreContributorProjects, setLoadingMoreContributorProjects] = useState(false);\n  const [contributorProjectsHasMore, setContributorProjectsHasMore] = useState(false);\n  const [contributorProjectsCounts, setContributorProjectsCounts] = useState({});\n  const [loadingContributorCounts, setLoadingContributorCounts] = useState({}); // Track loading per delivery tool\n  const [downloadingContributorProjects, setDownloadingContributorProjects] = useState({}); // Track downloading per delivery tool\n  const [selectedDeliveryTools, setSelectedDeliveryTools] = useState(new Set()); // For selective refresh\n  const [dataStale, setDataStale] = useState(false);\n  const [contributorProjectsModalCollapsed, setContributorProjectsModalCollapsed] = useState(false); // Track if data is stale\n  const [dataAge, setDataAge] = useState(0); // Track data age in seconds\n  const [projectObjectivesOffset, setProjectObjectivesOffset] = useState(0); // For infinite scroll\n  const [projectObjectivesHasMore, setProjectObjectivesHasMore] = useState(false);\n  const [projectObjectivesTotal, setProjectObjectivesTotal] = useState(0);\n  const [loadingMoreProjectObjectives, setLoadingMoreProjectObjectives] = useState(false);\n  const infiniteScrollRef = useRef(null); // Ref for infinite scroll trigger\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [analyticsData, setAnalyticsData] = useState({});\n  const [loadingAnalytics, setLoadingAnalytics] = useState(false);\n  const [analyticsDays, setAnalyticsDays] = useState(30);\n  const [projectObjectivesModalCollapsed, setProjectObjectivesModalCollapsed] = useState(false);\n  const [selectedTools, setSelectedTools] = useState(new Set()); // Track which tools are selected for display\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    projectStatus: [],\n    projectObjectiveStatus: ['Open', 'Paused', 'Hidden'] // Default filter\n  });\n\n  // Frontend cache for workstreams summary\n  const [cachedWorkstreams, setCachedWorkstreams] = useState(null);\n  const [cacheTimestamp, setCacheTimestamp] = useState(null);\n  const CACHE_TTL = 10 * 60 * 1000; // 10 minutes\n\n  useEffect(() => {\n    fetchWorkstreams();\n  }, [filters]);\n\n  const fetchWorkstreams = async (forceRefresh = false, selectedTools = null, retryCount = 0) => {\n    // Check frontend cache first (unless force refresh or filters changed)\n    const filtersChanged = JSON.stringify(filters) !== JSON.stringify(cachedWorkstreams?.filters);\n    if (!forceRefresh && !filtersChanged && cachedWorkstreams && cacheTimestamp) {\n      const age = Date.now() - cacheTimestamp;\n      if (age < CACHE_TTL) {\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(age > CACHE_TTL * 0.8); // Stale if > 80% of TTL\n        setDataAge(Math.round(age / 1000));\n        setLoading(false);\n        return;\n      } else {\n        // Cache expired, but show stale data with warning\n        setWorkstreams(cachedWorkstreams.workstreams);\n        setDataStale(true);\n        setDataAge(Math.round(age / 1000));\n        toast('Showing cached data. Fetching fresh data in background...', { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n      }\n    }\n\n    setLoading(true);\n    const MAX_RETRIES = 2;\n    \n    try {\n      // Build query parameters\n      const params = new URLSearchParams();\n      if (forceRefresh) params.append('refresh', 'true');\n      if (filters.projectStatus && filters.projectStatus.length > 0) {\n        filters.projectStatus.forEach(status => params.append('projectStatus', status));\n      }\n      if (filters.projectObjectiveStatus && filters.projectObjectiveStatus.length > 0) {\n        filters.projectObjectiveStatus.forEach(status => params.append('projectObjectiveStatus', status));\n      }\n      \n      const queryString = params.toString();\n      const url = `/workstream-reporting/summary${queryString ? '?' + queryString : ''}`;\n      \n      const response = await apiClient.get(url, {\n        timeout: 300000 // 5 minutes timeout to match server capabilities\n      });\n      if (response.data.success) {\n        const workstreamsData = response.data.workstreams || [];\n        \n        // If selective refresh, only update selected delivery tools\n        if (selectedTools && selectedTools.size > 0) {\n          setWorkstreams(prev => {\n            const updated = [...prev];\n            workstreamsData.forEach(newWs => {\n              if (selectedTools.has(newWs.deliveryToolName)) {\n                const index = updated.findIndex(ws => ws.deliveryToolName === newWs.deliveryToolName);\n                if (index >= 0) {\n                  updated[index] = newWs;\n                }\n              }\n            });\n            return updated;\n          });\n        } else {\n          setWorkstreams(workstreamsData);\n        }\n        \n        // Update cache with filters\n        setCachedWorkstreams({ workstreams: workstreamsData, filters: { ...filters } });\n        setCacheTimestamp(Date.now());\n        setDataStale(response.data.stale || false);\n        setDataAge(response.data.age || 0);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch workstreams');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch workstreams';\n      \n      // Retry logic for timeout errors\n      if ((error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) && retryCount < MAX_RETRIES) {\n        // Wait a bit before retrying\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        return fetchWorkstreams(forceRefresh, selectedTools, retryCount + 1);\n      }\n      \n      // Graceful degradation: show cached data if available\n      if (cachedWorkstreams) {\n        toast(`${errorMessage}. Showing cached data.`, { \n          duration: 5000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(true);\n        setDataAge(Math.round((Date.now() - cacheTimestamp) / 1000));\n      } else {\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) {\n          toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Frontend cache for contributor counts\n  const [cachedContributorCounts, setCachedContributorCounts] = useState({});\n  const [contributorCountTimestamps, setContributorCountTimestamps] = useState({});\n  const CONTRIBUTOR_COUNT_CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n  const fetchContributorProjectsCount = async (deliveryToolName, forceRefresh = false) => {\n    // Don't fetch for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check frontend cache first (unless force refresh)\n    if (!forceRefresh && cachedContributorCounts[deliveryToolName] !== undefined) {\n      const timestamp = contributorCountTimestamps[deliveryToolName];\n      if (timestamp) {\n        const age = Date.now() - timestamp;\n        if (age < CONTRIBUTOR_COUNT_CACHE_TTL) {\n          setContributorProjectsCounts(prev => ({\n            ...prev,\n            [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n          }));\n          return;\n        }\n      }\n    }\n\n    // If already loaded and not expired, don't fetch again\n    if (contributorProjectsCounts[deliveryToolName] !== undefined && !forceRefresh) {\n      return;\n    }\n\n    // Set loading state for this specific delivery tool\n    setLoadingContributorCounts(prev => ({ ...prev, [deliveryToolName]: true }));\n\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const refreshParam = forceRefresh ? '?refresh=true' : '';\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-count/${encodedDeliveryTool}${refreshParam}`, {\n        timeout: 300000 // 5 minutes timeout to match download endpoint and allow for large datasets\n      });\n      \n      if (response.data.success) {\n        const count = response.data.contributorProjectsCount || 0;\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        \n        // Update frontend cache\n        setCachedContributorCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        setContributorCountTimestamps(prev => ({\n          ...prev,\n          [deliveryToolName]: Date.now()\n        }));\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor project count');\n        // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor project count';\n      \n      // Graceful degradation: use cached count if available\n      if (cachedContributorCounts[deliveryToolName] !== undefined) {\n        toast(`${errorMessage}. Using cached count.`, { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n        }));\n      } else {\n        // Show specific error message for timeout\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n          toast.error('Request timed out. Please try again.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n      \n      // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n    } finally {\n      setLoadingContributorCounts(prev => {\n        const newState = { ...prev };\n        delete newState[deliveryToolName];\n        return newState;\n      });\n    }\n  };\n\n  const handleRefresh = async (selectedOnly = false, e = null) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    setRefreshing(true);\n    try {\n      if (selectedOnly && selectedDeliveryTools.size > 0) {\n        // Selective refresh: only refresh selected delivery tools\n        await fetchWorkstreams(true, selectedDeliveryTools);\n        // Clear selection after refresh\n        setSelectedDeliveryTools(new Set());\n        toast.success(`Refreshed ${selectedDeliveryTools.size} delivery tool(s)`);\n      } else {\n        // Full refresh\n        await fetchWorkstreams(true);\n        // Clear contributor project counts on full refresh\n        setContributorProjectsCounts({});\n        setCachedContributorCounts({});\n        setContributorCountTimestamps({});\n        toast.success('All data refreshed');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to refresh workstreams');\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const handleSelectDeliveryTool = (deliveryToolName, isSelected) => {\n    setSelectedDeliveryTools(prev => {\n      const newSet = new Set(prev);\n      if (isSelected) {\n        newSet.add(deliveryToolName);\n      } else {\n        newSet.delete(deliveryToolName);\n      }\n      return newSet;\n    });\n  };\n\n  const handleDeliveryToolClick = async (deliveryToolName) => {\n    // Don't allow clicking on \"Unassigned\" category\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    setSelectedDeliveryTool(deliveryToolName);\n    setShowProjectObjectivesModal(true);\n    setProjectObjectives([]);\n    setProjectObjectivesOffset(0);\n    setProjectObjectivesHasMore(false);\n    setProjectObjectivesTotal(0);\n\n    // Fetch first page (loading state handled in fetchProjectObjectives)\n    await fetchProjectObjectives(deliveryToolName, 0);\n  };\n\n  const fetchProjectObjectives = async (deliveryToolName, offset = 0, append = false) => {\n    if (!append) {\n      setLoadingProjectObjectives(true);\n    }\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/project-objectives/${encodedDeliveryTool}?limit=50&offset=${offset}`);\n      if (response.data.success) {\n        const newObjectives = response.data.projectObjectives || [];\n        if (append) {\n          setProjectObjectives(prev => [...prev, ...newObjectives]);\n        } else {\n          setProjectObjectives(newObjectives);\n        }\n        setProjectObjectivesHasMore(response.data.hasMore || false);\n        setProjectObjectivesTotal(response.data.total || 0);\n        setProjectObjectivesOffset(offset + newObjectives.length);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch project objectives');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch project objectives';\n      toast.error(errorMessage);\n    } finally {\n      setLoadingProjectObjectives(false);\n      setLoadingMoreProjectObjectives(false);\n    }\n  };\n\n  const loadMoreProjectObjectives = useCallback(async () => {\n    if (!selectedDeliveryTool || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n    setLoadingMoreProjectObjectives(true);\n    await fetchProjectObjectives(selectedDeliveryTool, projectObjectivesOffset, true);\n  }, [selectedDeliveryTool, projectObjectivesHasMore, loadingMoreProjectObjectives, projectObjectivesOffset]);\n\n  // Set up IntersectionObserver for infinite scroll\n  useEffect(() => {\n    const element = infiniteScrollRef.current;\n    if (!element || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          loadMoreProjectObjectives();\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    observer.observe(element);\n\n    // Cleanup on unmount\n    return () => {\n      observer.disconnect();\n    };\n  }, [projectObjectivesHasMore, loadingMoreProjectObjectives, loadMoreProjectObjectives]);\n\n  const handleViewContributorProjects = async (projectObjective, append = false) => {\n    if (!append) {\n      setSelectedProjectObjective(projectObjective);\n      setShowContributorProjectsModal(true);\n      setLoadingContributorProjects(true);\n      setContributorProjects([]);\n      setContributorProjectsHasMore(false);\n    } else {\n      setLoadingMoreContributorProjects(true);\n    }\n\n    try {\n      const offset = append ? contributorProjects.length : 0;\n      const limit = 1000;\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects/${projectObjective.id}`, {\n        params: { offset, limit }\n      });\n      if (response.data.success) {\n        if (append) {\n          setContributorProjects(prev => [...prev, ...(response.data.contributorProjects || [])]);\n        } else {\n          setContributorProjects(response.data.contributorProjects || []);\n        }\n        setContributorProjectsHasMore(response.data.hasMore || false);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      if (append) {\n        setLoadingMoreContributorProjects(false);\n      } else {\n        setLoadingContributorProjects(false);\n      }\n    }\n  };\n\n  const handleLoadMoreContributorProjects = () => {\n    if (selectedProjectObjective && contributorProjectsHasMore && !loadingMoreContributorProjects) {\n      handleViewContributorProjects(selectedProjectObjective, true);\n    }\n  };\n\n  // Download contributor projects for a specific delivery tool\n  const handleDownloadContributorProjects = async (deliveryToolName) => {\n    // Don't download for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check if count is available\n    const expectedCount = contributorProjectsCounts[deliveryToolName];\n    if (expectedCount === undefined) {\n      toast.error('Please get the count first before downloading.');\n      return;\n    }\n\n    if (expectedCount === 0) {\n      toast('No contributor projects to download.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Set downloading state\n    setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: true }));\n    \n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-by-tool/${encodedDeliveryTool}`, {\n        timeout: 300000 // 5 minutes timeout for large datasets\n      });\n\n      if (response.data.success) {\n        const contributorProjects = response.data.contributorProjects || [];\n        const actualCount = contributorProjects.length;\n        \n        // Verify count matches\n        if (actualCount !== expectedCount) {\n          toast(`Downloaded ${actualCount} records, but table shows ${expectedCount}. Some records may be missing due to limits.`, { \n            duration: 5000,\n            icon: '⚠️',\n            style: {\n              background: '#fef3c7',\n              color: '#92400e',\n            }\n          });\n        }\n\n        if (contributorProjects.length === 0) {\n          toast('No contributor projects found to download.', {\n            icon: 'ℹ️',\n            style: {\n              background: '#dbeafe',\n              color: '#1e40af',\n            }\n          });\n          return;\n        }\n\n        // Prepare data for export - only Contributor Project, Project Objective, Status\n        const headers = [\n          { key: 'name', label: 'Contributor Project' },\n          { key: 'projectObjectiveName', label: 'Project Objective' },\n          { key: 'status', label: 'Status' }\n        ];\n\n        // Sanitize delivery tool name for filename\n        const sanitizedDeliveryTool = deliveryToolName.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n        const filename = `Contributor_Projects_${sanitizedDeliveryTool}_${new Date().toISOString().split('T')[0]}.xlsx`;\n        \n        exportToExcel(contributorProjects, headers, filename);\n        toast.success(`Downloaded ${actualCount} contributor project${actualCount !== 1 ? 's' : ''} for ${deliveryToolName}`);\n      } else {\n        toast.error(response.data.error || 'Failed to download contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to download contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: false }));\n    }\n  };\n\n  // Export functions\n  const exportToExcel = (data, headers, filename) => {\n    try {\n      // Prepare data for Excel - header row with labels\n      const headerLabels = headers.map(h => h.label);\n      const worksheetData = [\n        headerLabels, // Header row with labels\n        ...data.map(row => headers.map(header => {\n          const value = row[header.key];\n          // Handle null/undefined values - show empty string for Excel\n          // For contributor project count, if not retrieved (undefined), show empty string\n          if (value === null || value === undefined) {\n            return '';\n          }\n          // For contributor project count that is 0, show 0 (not empty)\n          return value;\n        }))\n      ];\n\n      // Create workbook and worksheet\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');\n\n      // Set column widths (auto-size based on content)\n      const columnWidths = headers.map(() => ({ wch: 25 }));\n      worksheet['!cols'] = columnWidths;\n\n      // Generate Excel file and download\n      XLSX.writeFile(workbook, filename);\n      toast.success('Excel file downloaded successfully');\n    } catch (error) {\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n  const handleExportSummary = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'deliveryToolName', label: 'Delivery Tool Name' },\n      { key: 'projectObjectivesCount', label: 'No. of Project Objectives' },\n      { key: 'projectsCount', label: 'No. of Projects' },\n      { key: 'contributorProjectsCount', label: 'Total Contributor Projects' }\n    ];\n\n    // Add contributor project counts to workstreams data for export\n    // If count is not retrieved (undefined), keep it as undefined (will show as empty in Excel)\n    // If count is retrieved, use the actual count (including 0)\n    const workstreamsWithCounts = workstreams.map(ws => ({\n      ...ws,\n      contributorProjectsCount: contributorProjectsCounts[ws.deliveryToolName] !== undefined \n        ? contributorProjectsCounts[ws.deliveryToolName] \n        : null // Use null for undefined counts so Excel shows empty cell\n    }));\n\n    exportToExcel(workstreamsWithCounts, headers, `WorkStream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`);\n  };\n\n  const handleExportProjectObjectives = () => {\n    if (projectObjectives.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Project Objective' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'workstreamName', label: 'Associated WorkStream' },\n      { key: 'deliveryToolName', label: 'Delivery Tool Name' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedToolName = (selectedDeliveryTool || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Project_Objectives_${sanitizedToolName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(projectObjectives, headers, filename);\n  };\n\n  const handleExportContributorProjects = () => {\n    if (contributorProjects.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Contributor Project Name' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'status', label: 'Status' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedObjectiveName = (selectedProjectObjective?.name || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Contributor_Projects_${sanitizedObjectiveName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(contributorProjects, headers, filename);\n  };\n\n  const fetchAnalytics = async () => {\n    setLoadingAnalytics(true);\n    try {\n      const response = await apiClient.get(`/workstream-reporting/analytics?days=${analyticsDays}`);\n      if (response.data.success) {\n        const trends = response.data.trends || {};\n        setAnalyticsData(trends);\n        // Initialize or update selected tools\n        const availableTools = Object.keys(trends);\n        if (availableTools.length > 0) {\n          if (selectedTools.size === 0) {\n            // First time: select all tools\n            setSelectedTools(new Set(availableTools));\n          } else {\n            // Update selection: keep existing selections if tools still exist, add new ones\n            const newSelection = new Set();\n            availableTools.forEach(tool => {\n              if (selectedTools.has(tool)) {\n                newSelection.add(tool);\n              }\n            });\n            // If no tools were kept, select all (user might have deselected everything)\n            if (newSelection.size === 0) {\n              setSelectedTools(new Set(availableTools));\n            } else {\n              setSelectedTools(newSelection);\n            }\n          }\n        }\n      } else {\n        toast.error(response.data.error || 'Failed to fetch analytics');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to fetch analytics');\n    } finally {\n      setLoadingAnalytics(false);\n    }\n  };\n\n  useEffect(() => {\n    if (showAnalytics) {\n      fetchAnalytics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAnalytics, analyticsDays]);\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  // Generate unique colors for all tools\n  const generateUniqueColors = (count) => {\n    const baseColors = [\n      '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', \n      '#06b6d4', '#ec4899', '#84cc16', '#f97316', '#6366f1',\n      '#14b8a6', '#eab308', '#a855f7', '#f43f5e', '#22c55e',\n      '#0ea5e9', '#d946ef', '#64748b', '#fb923c', '#34d399'\n    ];\n    \n    if (count <= baseColors.length) {\n      return baseColors.slice(0, count);\n    }\n    \n    // Generate additional colors if needed\n    const colors = [...baseColors];\n    for (let i = baseColors.length; i < count; i++) {\n      const hue = (i * 137.508) % 360; // Golden angle approximation for color distribution\n      const saturation = 60 + (i % 3) * 10; // Vary saturation\n      const lightness = 45 + (i % 2) * 10; // Vary lightness\n      colors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);\n    }\n    \n    return colors;\n  };\n\n  // Prepare chart data from analytics (include all tools, but style based on selection)\n  const prepareChartData = () => {\n    const allDates = new Set();\n    // Process all tools to get all dates\n    Object.values(analyticsData).forEach(trend => {\n      trend.forEach(point => allDates.add(point.date));\n    });\n    \n    const sortedDates = Array.from(allDates).sort();\n    const chartData = sortedDates.map(date => {\n      const dataPoint = { date: formatDate(date) };\n      // Include all tools in data\n      Object.keys(analyticsData).forEach(toolName => {\n        const trend = analyticsData[toolName];\n        const point = trend.find(p => p.date === date);\n        dataPoint[toolName] = point ? point.count : 0;\n      });\n      return dataPoint;\n    });\n    \n    return chartData;\n  };\n\n  // Handle tool selection toggle\n  const handleToolToggle = (toolName) => {\n    setSelectedTools(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(toolName)) {\n        newSet.delete(toolName);\n      } else {\n        newSet.add(toolName);\n      }\n      return newSet;\n    });\n  };\n\n  // Select all tools\n  const handleSelectAllTools = () => {\n    setSelectedTools(new Set(Object.keys(analyticsData)));\n  };\n\n  // Deselect all tools\n  const handleDeselectAllTools = () => {\n    setSelectedTools(new Set());\n  };\n\n  const handleExportToExcel = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    try {\n      // Prepare data for export - only table columns (excluding checkbox)\n      const exportData = workstreams.map(ws => ({\n        'Delivery Tool Name': ws.deliveryToolName || 'N/A',\n        'No. of Project Objectives': ws.projectObjectivesCount || 0,\n        'No. of Projects': ws.projectsCount || 0,\n        'Total Contributor Projects': contributorProjectsCounts[ws.deliveryToolName] !== undefined \n          ? contributorProjectsCounts[ws.deliveryToolName] \n          : 'N/A'\n      }));\n\n      // Create workbook and worksheet\n      const ws = XLSX.utils.json_to_sheet(exportData);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Workstream Summary');\n\n      // Generate filename with timestamp\n      const filename = `Workstream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`;\n\n      // Write and download\n      XLSX.writeFile(wb, filename);\n      toast.success(`Exported ${exportData.length} records to Excel`);\n    } catch (error) {\n      console.error('Error exporting to Excel:', error);\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n  const content = (\n    <>\n      <div className=\"workstream-reporting-content\">\n          {/* Stale Data Warning */}\n          {dataStale && (\n            <div style={{\n              padding: '12px 16px',\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffc107',\n              borderRadius: '4px',\n              marginBottom: '16px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              color: '#856404'\n            }}>\n              <span>⚠️</span>\n              <span>\n                Showing cached data (age: {dataAge}s). Data may be outdated. \n                <button \n                  onClick={() => fetchWorkstreams(true)} \n                  style={{ \n                    marginLeft: '8px', \n                    color: '#856404', \n                    textDecoration: 'underline',\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Refresh now\n                </button>\n              </span>\n            </div>\n          )}\n          \n          <div className=\"content-header\">\n            <h2>WorkStream Summary</h2>\n            <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n              {selectedDeliveryTools.size > 0 && (\n                <button\n                  className=\"btn btn-secondary\"\n                  onClick={(e) => handleRefresh(true, e)}\n                  disabled={refreshing}\n                  style={{ marginRight: '8px' }}\n                >\n                  <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                  Refresh Selected ({selectedDeliveryTools.size})\n                </button>\n              )}\n              <button\n                className=\"btn-secondary\"\n                onClick={() => setShowAnalytics(!showAnalytics)}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"View Analytics\"\n              >\n                <TrendingUp size={16} />\n                {showAnalytics ? 'Hide' : 'Show'} Analytics\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={handleExportSummary}\n                disabled={workstreams.length === 0}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Export to Excel\"\n              >\n                <Download size={16} />\n                Export\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={(e) => handleRefresh(false, e)}\n                disabled={refreshing}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n              >\n                <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                Refresh\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={handleExportToExcel}\n                disabled={workstreams.length === 0}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Export table data to Excel\"\n              >\n                <Download size={16} />\n                Export to Excel\n              </button>\n            </div>\n          </div>\n\n          {loading && workstreams.length === 0 ? (\n            <div className=\"loading-container\">\n              <Loader className=\"spinning\" size={24} style={{ color: '#08979C' }} />\n              <p>Loading workstreams...</p>\n            </div>\n          ) : (\n            <div className=\"summary-table-container\">\n              <table className=\"summary-table\">\n                <thead>\n                      <tr>\n                        <th style={{ width: '40px' }}>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.size === workstreams.length && workstreams.length > 0}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setSelectedDeliveryTools(new Set(workstreams.map(ws => ws.deliveryToolName)));\n                              } else {\n                                setSelectedDeliveryTools(new Set());\n                              }\n                            }}\n                          />\n                        </th>\n                        <th>Delivery Tool Name</th>\n                        <th>No. of Project Objectives</th>\n                        <th>No. of Projects</th>\n                        <th>No. of Workstreams</th>\n                        <th>Total Contributor Projects</th>\n                      </tr>\n                </thead>\n                <tbody>\n                  {workstreams.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"6\" className=\"no-data\">\n                        {loading ? 'Loading workstreams...' : 'No delivery tools found'}\n                      </td>\n                    </tr>\n                  ) : (\n                    workstreams.map((ws, index) => (\n                      <tr key={ws.deliveryToolName || index}>\n                        <td>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.has(ws.deliveryToolName)}\n                            onChange={(e) => handleSelectDeliveryTool(ws.deliveryToolName, e.target.checked)}\n                          />\n                        </td>\n                        <td>\n                          {ws.deliveryToolName === 'Unassigned' ? (\n                            <span style={{ color: '#706e6b', fontStyle: 'italic' }}>\n                              {ws.deliveryToolName}\n                            </span>\n                          ) : (\n                            <span \n                              className=\"delivery-tool-link\" \n                              onClick={() => handleDeliveryToolClick(ws.deliveryToolName)}\n                              style={{ color: '#0176d3', cursor: 'pointer', textDecoration: 'underline' }}\n                            >\n                              {ws.deliveryToolName || '--'}\n                            </span>\n                          )}\n                        </td>\n                        <td>{ws.projectObjectivesCount || 0}</td>\n                        <td>{ws.projectsCount || 0}</td>\n                        <td>{ws.workstreamCount || 0}</td>\n                        <td>\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                            {loadingContributorCounts[ws.deliveryToolName] ? (\n                              <Loader className=\"spinning\" size={14} style={{ display: 'inline-block' }} />\n                            ) : contributorProjectsCounts[ws.deliveryToolName] !== undefined ? (\n                              <>\n                                <span>{contributorProjectsCounts[ws.deliveryToolName]}</span>\n                                {contributorProjectsCounts[ws.deliveryToolName] > 0 && (\n                                  <button\n                                    onClick={() => handleDownloadContributorProjects(ws.deliveryToolName)}\n                                    disabled={downloadingContributorProjects[ws.deliveryToolName]}\n                                    style={{\n                                      background: 'none',\n                                      border: 'none',\n                                      color: downloadingContributorProjects[ws.deliveryToolName] ? '#706e6b' : '#0176d3',\n                                      cursor: downloadingContributorProjects[ws.deliveryToolName] ? 'not-allowed' : 'pointer',\n                                      display: 'inline-flex',\n                                      alignItems: 'center',\n                                      padding: '2px 4px',\n                                      fontSize: '12px',\n                                      opacity: downloadingContributorProjects[ws.deliveryToolName] ? 0.6 : 1\n                                    }}\n                                    title={downloadingContributorProjects[ws.deliveryToolName] ? 'Downloading...' : 'Download Contributor Projects List'}\n                                  >\n                                    {downloadingContributorProjects[ws.deliveryToolName] ? (\n                                      <Loader className=\"spinning\" size={14} />\n                                    ) : (\n                                      <Download size={14} />\n                                    )}\n                                  </button>\n                                )}\n                              </>\n                            ) : (\n                              <button\n                                onClick={() => fetchContributorProjectsCount(ws.deliveryToolName)}\n                                style={{\n                                  background: 'none',\n                                  border: 'none',\n                                  color: '#0176d3',\n                                  cursor: 'pointer',\n                                  display: 'inline-flex',\n                                  alignItems: 'center',\n                                  gap: '4px',\n                                  padding: '4px 8px',\n                                  fontSize: '13px'\n                                }}\n                                title=\"Get Contributor Project Count\"\n                              >\n                                <Search size={14} />\n                                Get Count\n                              </button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {/* Analytics Section - Below Summary Table */}\n          {showAnalytics && (\n            <div style={{\n              marginTop: '24px',\n              padding: '20px',\n              backgroundColor: '#fff',\n              borderRadius: '8px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                <h3 style={{ margin: 0, fontSize: '18px', fontWeight: '600' }}>\n                  <BarChart3 size={20} style={{ display: 'inline-block', marginRight: '8px', verticalAlign: 'middle' }} />\n                  Trend Analysis - Project Objectives by Delivery Tool\n                </h3>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <label style={{ fontSize: '14px' }}>Days:</label>\n                  <select\n                    value={analyticsDays}\n                    onChange={(e) => setAnalyticsDays(parseInt(e.target.value))}\n                    style={{\n                      padding: '6px 12px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      fontSize: '14px'\n                    }}\n                  >\n                    <option value={7}>7 Days</option>\n                    <option value={14}>14 Days</option>\n                    <option value={30}>30 Days</option>\n                    <option value={60}>60 Days</option>\n                    <option value={90}>90 Days</option>\n                  </select>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={fetchAnalytics}\n                    disabled={loadingAnalytics}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px' }}\n                  >\n                    <RefreshCw size={14} className={loadingAnalytics ? 'spinning' : ''} />\n                    Refresh\n                  </button>\n                </div>\n              </div>\n              \n              {loadingAnalytics ? (\n                <div className=\"loading-container\" style={{ minHeight: 'calc(100vh - 200px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                  <Loader className=\"spinning\" size={24} style={{ color: '#08979C' }} />\n                  <p>Loading analytics...</p>\n                </div>\n              ) : Object.keys(analyticsData).length === 0 ? (\n                <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n                  <p>No analytics data available. Data will be collected as snapshots are created.</p>\n                </div>\n              ) : (\n                <div style={{ width: '100%', height: '400px' }}>\n                  <ResponsiveContainer>\n                    <AreaChart data={prepareChartData()} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                      <defs>\n                        {Object.keys(analyticsData).map((toolName, index) => {\n                          const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                          const color = colors[index];\n                          const isSelected = selectedTools.has(toolName);\n                          return (\n                            <linearGradient key={toolName} id={`color${toolName}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor={color} stopOpacity={isSelected ? 0.8 : 0.2}/>\n                              <stop offset=\"95%\" stopColor={color} stopOpacity={isSelected ? 0.1 : 0.05}/>\n                            </linearGradient>\n                          );\n                        })}\n                      </defs>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis \n                        dataKey=\"date\" \n                        angle={-45}\n                        textAnchor=\"end\"\n                        height={80}\n                        style={{ fontSize: '12px' }}\n                      />\n                      <YAxis style={{ fontSize: '12px' }} />\n                      <Tooltip \n                        contentStyle={{ backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px' }}\n                        labelStyle={{ fontWeight: 'bold', marginBottom: '4px' }}\n                        content={({ active, payload, label }) => {\n                          if (!active || !payload || payload.length === 0) return null;\n                          \n                          // Filter to show only selected tools\n                          const selectedPayload = payload.filter(item => selectedTools.has(item.dataKey));\n                          \n                          if (selectedPayload.length === 0) {\n                            return (\n                              <div style={{ padding: '8px', fontSize: '12px', color: '#666' }}>\n                                No selected tools\n                              </div>\n                            );\n                          }\n                          \n                          return (\n                            <div style={{ padding: '10px', backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n                              <p style={{ margin: '0 0 8px 0', fontWeight: 'bold', fontSize: '13px', color: '#333' }}>\n                                {label}\n                              </p>\n                              {selectedPayload.map((entry, index) => {\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const toolIndex = Object.keys(analyticsData).indexOf(entry.dataKey);\n                                const color = colors[toolIndex];\n                                return (\n                                  <div key={index} style={{ \n                                    display: 'flex', \n                                    alignItems: 'center', \n                                    gap: '8px',\n                                    marginBottom: '4px',\n                                    fontSize: '12px'\n                                  }}>\n                                    <span style={{\n                                      display: 'inline-block',\n                                      width: '12px',\n                                      height: '12px',\n                                      backgroundColor: color,\n                                      borderRadius: '2px'\n                                    }} />\n                                    <span style={{ color: '#666', minWidth: '150px' }}>{entry.dataKey}:</span>\n                                    <span style={{ fontWeight: '600', color: '#333' }}>{entry.value}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      <Legend \n                        wrapperStyle={{ paddingTop: '20px' }}\n                        content={({ payload }) => {\n                          if (!payload || payload.length === 0) return null;\n                          return (\n                            <div style={{ \n                              display: 'flex', \n                              flexWrap: 'wrap', \n                              gap: '12px',\n                              padding: '10px',\n                              justifyContent: 'center',\n                              alignItems: 'center'\n                            }}>\n                              <div style={{ \n                                display: 'flex', \n                                gap: '8px', \n                                alignItems: 'center',\n                                marginRight: '16px',\n                                padding: '4px 8px',\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                backgroundColor: '#f9f9f9'\n                              }}>\n                                <button\n                                  onClick={handleSelectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer',\n                                    marginRight: '4px'\n                                  }}\n                                >\n                                  Select All\n                                </button>\n                                <button\n                                  onClick={handleDeselectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer'\n                                  }}\n                                >\n                                  Deselect All\n                                </button>\n                              </div>\n                              {Object.keys(analyticsData).map((toolName, index) => {\n                                const isSelected = selectedTools.has(toolName);\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const color = colors[index];\n                                return (\n                                  <div\n                                    key={toolName}\n                                    onClick={() => handleToolToggle(toolName)}\n                                    style={{\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      gap: '6px',\n                                      cursor: 'pointer',\n                                      padding: '6px 10px',\n                                      borderRadius: '4px',\n                                      backgroundColor: isSelected ? '#f0f7ff' : '#f9f9f9',\n                                      border: `1px solid ${isSelected ? color : '#e0e0e0'}`,\n                                      opacity: isSelected ? 1 : 0.6,\n                                      transition: 'all 0.2s'\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#e0f0ff' : '#f0f0f0';\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#f0f7ff' : '#f9f9f9';\n                                    }}\n                                  >\n                                    <input\n                                      type=\"checkbox\"\n                                      checked={isSelected}\n                                      onChange={() => handleToolToggle(toolName)}\n                                      onClick={(e) => e.stopPropagation()}\n                                      style={{\n                                        cursor: 'pointer',\n                                        marginRight: '4px',\n                                        width: '16px',\n                                        height: '16px'\n                                      }}\n                                    />\n                                    <span\n                                      style={{\n                                        display: 'inline-block',\n                                        width: '14px',\n                                        height: '14px',\n                                        backgroundColor: color,\n                                        borderRadius: '2px',\n                                        marginRight: '4px',\n                                        flexShrink: 0\n                                      }}\n                                    />\n                                    <span style={{ fontSize: '13px', fontWeight: isSelected ? '500' : '400' }}>{toolName}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      {Object.keys(analyticsData).map((toolName, index) => {\n                        const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                        const color = colors[index];\n                        const isSelected = selectedTools.has(toolName);\n                        return (\n                          <Area\n                            key={toolName}\n                            type=\"monotone\"\n                            dataKey={toolName}\n                            stroke={color}\n                            fill={`url(#color${toolName})`}\n                            strokeWidth={isSelected ? 2 : 1}\n                            strokeDasharray={isSelected ? '0' : '5 5'}\n                            opacity={isSelected ? 1 : 0.4}\n                            name={toolName}\n                          />\n                        );\n                      })}\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              )}\n            </div>\n          )}\n      </div>\n\n      {/* Project Objectives Modal */}\n        {showProjectObjectivesModal && (\n          <div className=\"modal-overlay\" onClick={() => setShowProjectObjectivesModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {projectObjectivesModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedDeliveryTool}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportProjectObjectives}\n                    disabled={projectObjectives.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowProjectObjectivesModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!projectObjectivesModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingProjectObjectives && projectObjectives.length === 0 ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading project objectives...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container\" style={{ maxHeight: '60vh', overflowY: 'auto', overflowX: 'auto', width: '100%' }}>\n                    <table className=\"project-objectives-table\">\n                      <thead>\n                        <tr>\n                          <th>Project Objective</th>\n                          <th>Project</th>\n                          <th>Associated WorkStream</th>\n                          <th>Delivery Tool Name</th>\n                          <th>Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {projectObjectives.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"5\" className=\"no-data\">\n                              No project objectives found for this delivery tool\n                            </td>\n                          </tr>\n                        ) : (\n                          <>\n                            {projectObjectives.map((po, index) => (\n                              <tr key={po.id || index}>\n                                <td>{po.name || '--'}</td>\n                                <td>{po.projectName || '--'}</td>\n                                <td>{po.workstreamName || '--'}</td>\n                                <td>{po.deliveryToolName || '--'}</td>\n                                <td>\n                                  <button\n                                    className=\"btn-link\"\n                                    onClick={() => handleViewContributorProjects(po)}\n                                  >\n                                    <Eye size={14} />\n                                    View Contributor Projects\n                                  </button>\n                                </td>\n                              </tr>\n                            ))}\n                            {projectObjectivesHasMore && (\n                              <tr>\n                                <td colSpan=\"5\" style={{ textAlign: 'center', padding: '16px' }}>\n                                  {loadingMoreProjectObjectives ? (\n                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\n                                      <Loader className=\"spinning\" size={16} />\n                                      <span>Loading more...</span>\n                                    </div>\n                                  ) : (\n                                    <button\n                                      className=\"btn-secondary\"\n                                      onClick={loadMoreProjectObjectives}\n                                      style={{ padding: '8px 16px' }}\n                                    >\n                                      Load More ({projectObjectivesTotal - projectObjectives.length} remaining)\n                                    </button>\n                                  )}\n                                </td>\n                              </tr>\n                            )}\n                          </>\n                        )}\n                      </tbody>\n                    </table>\n                    {/* Infinite scroll trigger */}\n                    {projectObjectivesHasMore && !loadingMoreProjectObjectives && (\n                      <div\n                        ref={infiniteScrollRef}\n                        style={{ height: '20px', width: '100%' }}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowProjectObjectivesModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Contributor Projects Modal */}\n        {showContributorProjectsModal && selectedProjectObjective && (\n          <div className=\"modal-overlay\" onClick={() => setShowContributorProjectsModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {contributorProjectsModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedProjectObjective.name}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportContributorProjects}\n                    disabled={contributorProjects.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowContributorProjectsModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!contributorProjectsModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingContributorProjects ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading contributor projects...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container contributor-projects-table\" style={{ overflowX: 'visible', width: '100%', maxWidth: '100%' }}>\n                    <table className=\"project-objectives-table contributor-projects-table\" style={{ width: '100%', tableLayout: 'fixed' }}>\n                      <thead>\n                        <tr>\n                          <th>Contributor Project Name</th>\n                          <th>Project</th>\n                          <th>Status</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {contributorProjects.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"3\" className=\"no-data\">\n                              No contributor projects found for this project objective\n                            </td>\n                          </tr>\n                        ) : (\n                          contributorProjects.map((cp, index) => (\n                            <tr key={cp.id || index}>\n                              <td>{cp.name || '--'}</td>\n                              <td>{cp.projectName || '--'}</td>\n                              <td>{cp.status || '--'}</td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                    {contributorProjectsHasMore && (\n                      <div style={{ textAlign: 'center', padding: '16px', borderTop: '1px solid #e2e8f0' }}>\n                        <button\n                          onClick={handleLoadMoreContributorProjects}\n                          disabled={loadingMoreContributorProjects}\n                          style={{\n                            padding: '10px 20px',\n                            backgroundColor: loadingMoreContributorProjects ? '#cbd5e1' : '#08979C',\n                            color: '#ffffff',\n                            border: 'none',\n                            borderRadius: '6px',\n                            cursor: loadingMoreContributorProjects ? 'not-allowed' : 'pointer',\n                            fontSize: '14px',\n                            fontWeight: '500',\n                            display: 'inline-flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          }}\n                        >\n                          {loadingMoreContributorProjects ? (\n                            <>\n                              <Loader className=\"spinner\" size={16} />\n                              Loading...\n                            </>\n                          ) : (\n                            'Show More'\n                          )}\n                        </button>\n                        <div style={{ marginTop: '8px', fontSize: '12px', color: '#64748b' }}>\n                          Showing {contributorProjects.length} entries. Click to load more.\n                        </div>\n                      </div>\n                    )}\n                    {contributorProjects.length > 0 && (\n                      <div style={{ marginTop: '12px', fontSize: '13px', color: '#706e6b' }}>\n                        Total: {contributorProjects.length} contributor project{contributorProjects.length !== 1 ? 's' : ''}\n                        {!contributorProjectsHasMore && contributorProjects.length >= 1000 && ' (all entries loaded)'}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowContributorProjectsModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n    </>\n  );\n\n  if (hideHeader) {\n    return <div className=\"workstream-reporting-content-wrapper\">{content}</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      <div className=\"workstream-reporting\" style={{ marginLeft: sidebarOpen ? '320px' : '80px', minHeight: '100vh' }}>\n        <div className=\"workstream-reporting-container\">\n          <div className=\"workstream-reporting-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button\n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">\n                    WorkStream Reporting\n                  </h1>\n                  <p className=\"page-subtitle\">\n                    View workstream summary and associated project objectives\n                  </p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\">\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                </div>\n                <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                  <LogOut size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkStreamReporting;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}