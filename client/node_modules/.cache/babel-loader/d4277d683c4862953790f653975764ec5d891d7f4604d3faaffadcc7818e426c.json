{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/PreviewModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { X, BarChart3, RefreshCw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PreviewModal = ({\n  show,\n  data,\n  fieldLabels,\n  onClose,\n  onLoadMore,\n  hasMore,\n  totalCount\n}) => {\n  _s();\n  const [displayedData, setDisplayedData] = useState([]);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const initialLoadSize = 100;\n  useEffect(() => {\n    if (data && data.length > 0) {\n      // Filter out attributes column and show all data\n      const filteredData = data.map(record => {\n        const cleaned = {\n          ...record\n        };\n        delete cleaned.attributes;\n        return cleaned;\n      });\n      setDisplayedData(filteredData); // Show all records, not just first 100\n    } else {\n      setDisplayedData([]);\n    }\n  }, [data]);\n  const handleScroll = () => {\n    if (!scrollContainerRef.current || loadingMore || !hasMore) return;\n    const container = scrollContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n\n    // Load more when user scrolls to within 200px of bottom\n    // Only needed if we have more data from server (hasMore) and onLoadMore callback\n    if (scrollTop + clientHeight >= scrollHeight - 200) {\n      if (onLoadMore && hasMore && displayedData.length >= data.length) {\n        // Fetch more data from server\n        setLoadingMore(true);\n        onLoadMore(displayedData.length).finally(() => {\n          setLoadingMore(false);\n        });\n      }\n    }\n  };\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [displayedData.length, hasMore, loadingMore]);\n  if (!show || !data) return null;\n  const getFieldLabel = fieldName => {\n    // Special handling for common fields\n    if (fieldName === 'Id') return 'Record ID';\n    if (fieldName === 'Name') return 'Name';\n\n    // Try exact match first\n    if (fieldLabels && fieldLabels[fieldName]) {\n      return fieldLabels[fieldName];\n    }\n    // Try alternative naming convention (__c vs _c__c)\n    // Check if field ends with _c__c first (more specific)\n    let altName = null;\n    if (fieldName.endsWith('_c__c')) {\n      // Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\n      altName = fieldName.replace(/_c__c$/, '__c');\n    } else if (fieldName.endsWith('__c')) {\n      // Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\n      altName = fieldName.replace(/__c$/, '_c__c');\n    }\n    if (altName && fieldLabels && fieldLabels[altName]) {\n      return fieldLabels[altName];\n    }\n    // Fallback: try to create a readable label from the field name\n    if (fieldName.includes('Active_Contributors')) return 'Active Contributors';\n    if (fieldName.includes('Applied_Contributors')) return 'Applied Contributors';\n    if (fieldName.includes('Qualified_Contributors')) return 'Qualified Contributors';\n    if (fieldName.includes('Removed')) return 'Removed';\n    // Default: return the field name\n    return fieldName;\n  };\n\n  // Filter out attributes and internal metadata from column headers\n  const getColumns = () => {\n    if (displayedData.length === 0) return [];\n    // Get columns from first non-header row\n    const firstDataRow = displayedData.find(row => !row._isGroupHeader);\n    if (!firstDataRow) return [];\n    const allKeys = Object.keys(firstDataRow);\n    return allKeys.filter(key => {\n      // Exclude internal metadata fields\n      if (key === 'attributes' || key.startsWith('_')) return false;\n\n      // Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n      // Relationship objects end with __r and don't contain a dot\n      if (key.endsWith('__r') && !key.includes('.')) {\n        const value = firstDataRow[key];\n        // Always exclude relationship objects (they are nested objects, not displayable values)\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n          return false;\n        }\n        // Also exclude if it's null/undefined or any other type - we want the base field instead\n        return false;\n      }\n\n      // Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n      // This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\n      if (key.includes('__r.') || key.includes('__r.Name') || key.includes('__r.name')) {\n        // Extract the base field name (e.g., Account__r.Name -> Account__c)\n        const baseFieldMatch = key.match(/^(.+?)__r\\./);\n        if (baseFieldMatch) {\n          const baseField = `${baseFieldMatch[1]}__c`;\n          // If the base lookup field exists, exclude the relationship field\n          if (allKeys.includes(baseField)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  };\n  const columns = getColumns();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 10000\n    },\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#fff',\n        borderRadius: '8px',\n        padding: '24px',\n        width: '90%',\n        maxWidth: '1200px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\n      },\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: '600',\n              margin: 0,\n              marginBottom: '4px'\n            },\n            children: \"Report Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: [\"Showing \", displayedData.length, \" of \", totalCount || data.length, \" \", totalCount || data.length === 1 ? 'entry' : 'entries']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            padding: '4px'\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), displayedData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: scrollContainerRef,\n        style: {\n          border: '1px solid #e5e7eb',\n          borderRadius: '6px',\n          overflow: 'auto',\n          maxHeight: '70vh',\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            style: {\n              background: '#f9fafb',\n              position: 'sticky',\n              top: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: columns.map(key => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 12px',\n                  textAlign: 'left',\n                  borderBottom: '1px solid #e5e7eb',\n                  fontWeight: '600'\n                },\n                children: getFieldLabel(key)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: displayedData.map((row, idx) => {\n              // Check if this is a group header row\n              if (row._isGroupHeader) {\n                const labelMap = fieldLabels || {};\n                const groupLabel = labelMap[row._groupByField] || row._groupByField || 'Group';\n                // Prioritize _groupKey which should have the display value (name), not the ID\n                let groupValue = row._groupKey || '(No Value)';\n\n                // If _groupKey is an ID (18 characters), try to find the relationship field\n                if (typeof groupValue === 'string' && groupValue.length === 18 && row._groupByField && row._groupByField.endsWith('__c')) {\n                  const baseField = row._groupByField.replace('__c', '');\n                  const possibleRelFields = [`${baseField}__r.Name`, `${baseField}.Name`, `${baseField}__r.name`, `${baseField}.name`];\n                  for (const relField of possibleRelFields) {\n                    if (row[relField]) {\n                      groupValue = row[relField];\n                      break;\n                    }\n                  }\n                  // Also check for nested relationship object\n                  if (groupValue.length === 18 && row[`${baseField}__r`] && row[`${baseField}__r`].Name) {\n                    groupValue = row[`${baseField}__r`].Name;\n                  }\n                }\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    background: '#f0f9ff',\n                    borderTop: '2px solid #08979C',\n                    borderBottom: '2px solid #08979C'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: columns.length,\n                    style: {\n                      padding: '12px 16px',\n                      fontWeight: '600',\n                      fontSize: '13px',\n                      color: '#08979C'\n                    },\n                    children: [groupLabel, \": \", groupValue]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this)\n                }, `group-${idx}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this);\n              }\n\n              // Regular data row\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: '1px solid #f3f4f6'\n                },\n                children: columns.map((key, vIdx) => {\n                  const value = row[key];\n                  // Handle relationship fields (e.g., Account__r.Name)\n                  if (value && typeof value === 'object' && value.Name) {\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '8px 12px'\n                      },\n                      children: value.Name\n                    }, vIdx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 29\n                    }, this);\n                  }\n                  // Handle lookup fields - check for relationship Name fields\n                  // The relationship field could be Account__r.Name or Account.Name depending on metadata\n                  if (key.endsWith('__c') && !key.includes('__r')) {\n                    // First check if value is an ID (18 character Salesforce ID)\n                    const isId = typeof value === 'string' && value.length === 18;\n\n                    // Try different relationship field patterns\n                    const baseField = key.replace('__c', '');\n                    const possibleRelationshipFields = [`${baseField}__r.Name`,\n                    // Standard pattern: Account__c -> Account__r.Name\n                    `${baseField}.Name`,\n                    // Alternative: Account__c -> Account.Name\n                    `${baseField}__r.name`,\n                    // Lowercase variant\n                    `${baseField}.name` // Lowercase variant\n                    ];\n\n                    // Find the first matching relationship field\n                    for (const relField of possibleRelationshipFields) {\n                      if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                        return /*#__PURE__*/_jsxDEV(\"td\", {\n                          style: {\n                            padding: '8px 12px'\n                          },\n                          children: row[relField]\n                        }, vIdx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 33\n                        }, this);\n                      }\n                    }\n\n                    // Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\n                    const relObjKey = `${baseField}__r`;\n                    if (row[relObjKey] && typeof row[relObjKey] === 'object' && row[relObjKey].Name) {\n                      return /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 12px'\n                        },\n                        children: row[relObjKey].Name\n                      }, vIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 31\n                      }, this);\n                    }\n\n                    // Also try without __r suffix\n                    const relObjKey2 = baseField;\n                    if (row[relObjKey2] && typeof row[relObjKey2] === 'object' && row[relObjKey2].Name) {\n                      return /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 12px'\n                        },\n                        children: row[relObjKey2].Name\n                      }, vIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 31\n                      }, this);\n                    }\n\n                    // Also check all keys for any relationship field that might match\n                    const matchingRelField = Object.keys(row).find(k => {\n                      if (k === key || k.startsWith('_')) return false;\n                      const lowerK = k.toLowerCase();\n                      const lowerBase = baseField.toLowerCase();\n                      return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                    });\n                    if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                      return /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 12px'\n                        },\n                        children: row[matchingRelField]\n                      }, vIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 31\n                      }, this);\n                    }\n\n                    // If it's an ID and we couldn't find the relationship field, show the ID\n                    if (isId) {\n                      const anyRelField = Object.keys(row).find(k => {\n                        if (k === key || k.startsWith('_')) return false;\n                        const lowerK = k.toLowerCase();\n                        const lowerBase = baseField.toLowerCase();\n                        return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && (k.includes('Name') || k.includes('name'));\n                      });\n                      if (anyRelField && row[anyRelField] !== undefined && row[anyRelField] !== null && row[anyRelField] !== '') {\n                        return /*#__PURE__*/_jsxDEV(\"td\", {\n                          style: {\n                            padding: '8px 12px'\n                          },\n                          children: row[anyRelField]\n                        }, vIdx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 320,\n                          columnNumber: 33\n                        }, this);\n                      }\n                    }\n                  }\n                  // Handle count fields - ensure they display as numbers\n                  if (key.includes('Contributors') && (typeof value === 'number' || value === 0)) {\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '8px 12px',\n                        fontWeight: '500'\n                      },\n                      children: value\n                    }, vIdx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 29\n                    }, this);\n                  }\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '8px 12px'\n                    },\n                    children: value !== null && value !== undefined ? String(value) : '--'\n                  }, vIdx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), loadingMore && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            textAlign: 'center',\n            fontSize: '12px',\n            color: '#666'\n          },\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: \"spinning\",\n            style: {\n              display: 'inline-block',\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), \"Loading more records...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 15\n        }, this), !hasMore && displayedData.length >= (totalCount || data.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            textAlign: 'center',\n            fontSize: '12px',\n            color: '#666'\n          },\n          children: [\"All \", totalCount || data.length, \" records loaded\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '40px',\n          textAlign: 'center',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          size: 32,\n          style: {\n            marginBottom: '12px',\n            opacity: 0.5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No data to preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(PreviewModal, \"7IAGOm6wgnBOmDicq/q3SsTY1XI=\");\n_c = PreviewModal;\nexport default PreviewModal;\nvar _c;\n$RefreshReg$(_c, \"PreviewModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","X","BarChart3","RefreshCw","jsxDEV","_jsxDEV","PreviewModal","show","data","fieldLabels","onClose","onLoadMore","hasMore","totalCount","_s","displayedData","setDisplayedData","loadingMore","setLoadingMore","scrollContainerRef","initialLoadSize","length","filteredData","map","record","cleaned","attributes","handleScroll","current","container","scrollTop","scrollHeight","clientHeight","finally","addEventListener","removeEventListener","getFieldLabel","fieldName","altName","endsWith","replace","includes","getColumns","firstDataRow","find","row","_isGroupHeader","allKeys","Object","keys","filter","key","startsWith","value","Array","isArray","baseFieldMatch","match","baseField","columns","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","onClick","children","borderRadius","padding","width","maxWidth","maxHeight","flexDirection","boxShadow","e","stopPropagation","marginBottom","fontSize","fontWeight","margin","fileName","_jsxFileName","lineNumber","columnNumber","color","border","cursor","size","ref","overflow","flex","borderCollapse","textAlign","borderBottom","idx","labelMap","groupLabel","_groupByField","groupValue","_groupKey","possibleRelFields","relField","Name","borderTop","colSpan","vIdx","isId","possibleRelationshipFields","undefined","relObjKey","relObjKey2","matchingRelField","k","lowerK","toLowerCase","lowerBase","anyRelField","String","className","marginRight","opacity","_c","$RefreshReg$"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/PreviewModal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { X, BarChart3, RefreshCw } from 'lucide-react';\n\nconst PreviewModal = ({ show, data, fieldLabels, onClose, onLoadMore, hasMore, totalCount }) => {\n  const [displayedData, setDisplayedData] = useState([]);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const initialLoadSize = 100;\n\n  useEffect(() => {\n    if (data && data.length > 0) {\n      // Filter out attributes column and show all data\n      const filteredData = data.map(record => {\n        const cleaned = { ...record };\n        delete cleaned.attributes;\n        return cleaned;\n      });\n      setDisplayedData(filteredData); // Show all records, not just first 100\n    } else {\n      setDisplayedData([]);\n    }\n  }, [data]);\n\n  const handleScroll = () => {\n    if (!scrollContainerRef.current || loadingMore || !hasMore) return;\n\n    const container = scrollContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n\n    // Load more when user scrolls to within 200px of bottom\n    // Only needed if we have more data from server (hasMore) and onLoadMore callback\n    if (scrollTop + clientHeight >= scrollHeight - 200) {\n      if (onLoadMore && hasMore && displayedData.length >= data.length) {\n        // Fetch more data from server\n        setLoadingMore(true);\n        onLoadMore(displayedData.length).finally(() => {\n          setLoadingMore(false);\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [displayedData.length, hasMore, loadingMore]);\n\n  if (!show || !data) return null;\n\n  const getFieldLabel = (fieldName) => {\n    // Special handling for common fields\n    if (fieldName === 'Id') return 'Record ID';\n    if (fieldName === 'Name') return 'Name';\n    \n    // Try exact match first\n    if (fieldLabels && fieldLabels[fieldName]) {\n      return fieldLabels[fieldName];\n    }\n    // Try alternative naming convention (__c vs _c__c)\n    // Check if field ends with _c__c first (more specific)\n    let altName = null;\n    if (fieldName.endsWith('_c__c')) {\n      // Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\n      altName = fieldName.replace(/_c__c$/, '__c');\n    } else if (fieldName.endsWith('__c')) {\n      // Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\n      altName = fieldName.replace(/__c$/, '_c__c');\n    }\n    if (altName && fieldLabels && fieldLabels[altName]) {\n      return fieldLabels[altName];\n    }\n    // Fallback: try to create a readable label from the field name\n    if (fieldName.includes('Active_Contributors')) return 'Active Contributors';\n    if (fieldName.includes('Applied_Contributors')) return 'Applied Contributors';\n    if (fieldName.includes('Qualified_Contributors')) return 'Qualified Contributors';\n    if (fieldName.includes('Removed')) return 'Removed';\n    // Default: return the field name\n    return fieldName;\n  };\n\n  // Filter out attributes and internal metadata from column headers\n  const getColumns = () => {\n    if (displayedData.length === 0) return [];\n    // Get columns from first non-header row\n    const firstDataRow = displayedData.find(row => !row._isGroupHeader);\n    if (!firstDataRow) return [];\n    const allKeys = Object.keys(firstDataRow);\n    return allKeys.filter(key => {\n      // Exclude internal metadata fields\n      if (key === 'attributes' || key.startsWith('_')) return false;\n      \n      // Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n      // Relationship objects end with __r and don't contain a dot\n      if (key.endsWith('__r') && !key.includes('.')) {\n        const value = firstDataRow[key];\n        // Always exclude relationship objects (they are nested objects, not displayable values)\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n          return false;\n        }\n        // Also exclude if it's null/undefined or any other type - we want the base field instead\n        return false;\n      }\n      \n      // Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n      // This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\n      if (key.includes('__r.') || key.includes('__r.Name') || key.includes('__r.name')) {\n        // Extract the base field name (e.g., Account__r.Name -> Account__c)\n        const baseFieldMatch = key.match(/^(.+?)__r\\./);\n        if (baseFieldMatch) {\n          const baseField = `${baseFieldMatch[1]}__c`;\n          // If the base lookup field exists, exclude the relationship field\n          if (allKeys.includes(baseField)) {\n            return false;\n          }\n        }\n      }\n      \n      return true;\n    });\n  };\n\n  const columns = getColumns();\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 10000\n    }} onClick={onClose}>\n      <div style={{\n        background: '#fff',\n        borderRadius: '8px',\n        padding: '24px',\n        width: '90%',\n        maxWidth: '1200px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\n      }} onClick={(e) => e.stopPropagation()}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <div>\n            <h3 style={{ fontSize: '18px', fontWeight: '600', margin: 0, marginBottom: '4px' }}>\n              Report Preview\n            </h3>\n            <div style={{ fontSize: '12px', color: '#666' }}>\n              Showing {displayedData.length} of {totalCount || data.length} {totalCount || data.length === 1 ? 'entry' : 'entries'}\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '4px'\n            }}\n          >\n            <X size={20} />\n          </button>\n        </div>\n        {displayedData.length > 0 ? (\n          <div \n            ref={scrollContainerRef}\n            style={{ \n              border: '1px solid #e5e7eb', \n              borderRadius: '6px', \n              overflow: 'auto', \n              maxHeight: '70vh',\n              flex: 1\n            }}\n          >\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n              <thead style={{ background: '#f9fafb', position: 'sticky', top: 0 }}>\n                <tr>\n                  {columns.map(key => (\n                    <th key={key} style={{ padding: '8px 12px', textAlign: 'left', borderBottom: '1px solid #e5e7eb', fontWeight: '600' }}>\n                      {getFieldLabel(key)}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {displayedData.map((row, idx) => {\n                  // Check if this is a group header row\n                  if (row._isGroupHeader) {\n                    const labelMap = fieldLabels || {};\n                    const groupLabel = labelMap[row._groupByField] || row._groupByField || 'Group';\n                    // Prioritize _groupKey which should have the display value (name), not the ID\n                    let groupValue = row._groupKey || '(No Value)';\n                    \n                    // If _groupKey is an ID (18 characters), try to find the relationship field\n                    if (typeof groupValue === 'string' && groupValue.length === 18 && row._groupByField && row._groupByField.endsWith('__c')) {\n                      const baseField = row._groupByField.replace('__c', '');\n                      const possibleRelFields = [\n                        `${baseField}__r.Name`,\n                        `${baseField}.Name`,\n                        `${baseField}__r.name`,\n                        `${baseField}.name`\n                      ];\n                      for (const relField of possibleRelFields) {\n                        if (row[relField]) {\n                          groupValue = row[relField];\n                          break;\n                        }\n                      }\n                      // Also check for nested relationship object\n                      if (groupValue.length === 18 && row[`${baseField}__r`] && row[`${baseField}__r`].Name) {\n                        groupValue = row[`${baseField}__r`].Name;\n                      }\n                    }\n                    \n                    return (\n                      <tr key={`group-${idx}`} style={{ background: '#f0f9ff', borderTop: '2px solid #08979C', borderBottom: '2px solid #08979C' }}>\n                        <td colSpan={columns.length} style={{ padding: '12px 16px', fontWeight: '600', fontSize: '13px', color: '#08979C' }}>\n                          {groupLabel}: {groupValue}\n                        </td>\n                      </tr>\n                    );\n                  }\n                  \n                  // Regular data row\n                  return (\n                    <tr key={idx} style={{ borderBottom: '1px solid #f3f4f6' }}>\n                      {columns.map((key, vIdx) => {\n                        const value = row[key];\n                        // Handle relationship fields (e.g., Account__r.Name)\n                        if (value && typeof value === 'object' && value.Name) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px' }}>\n                              {value.Name}\n                            </td>\n                          );\n                        }\n                        // Handle lookup fields - check for relationship Name fields\n                        // The relationship field could be Account__r.Name or Account.Name depending on metadata\n                        if (key.endsWith('__c') && !key.includes('__r')) {\n                          // First check if value is an ID (18 character Salesforce ID)\n                          const isId = typeof value === 'string' && value.length === 18;\n                          \n                          // Try different relationship field patterns\n                          const baseField = key.replace('__c', '');\n                          const possibleRelationshipFields = [\n                            `${baseField}__r.Name`,  // Standard pattern: Account__c -> Account__r.Name\n                            `${baseField}.Name`,     // Alternative: Account__c -> Account.Name\n                            `${baseField}__r.name`,  // Lowercase variant\n                            `${baseField}.name`      // Lowercase variant\n                          ];\n                          \n                          // Find the first matching relationship field\n                          for (const relField of possibleRelationshipFields) {\n                            if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                              return (\n                                <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                  {row[relField]}\n                                </td>\n                              );\n                            }\n                          }\n                          \n                          // Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\n                          const relObjKey = `${baseField}__r`;\n                          if (row[relObjKey] && typeof row[relObjKey] === 'object' && row[relObjKey].Name) {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[relObjKey].Name}\n                              </td>\n                            );\n                          }\n                          \n                          // Also try without __r suffix\n                          const relObjKey2 = baseField;\n                          if (row[relObjKey2] && typeof row[relObjKey2] === 'object' && row[relObjKey2].Name) {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[relObjKey2].Name}\n                              </td>\n                            );\n                          }\n                          \n                          // Also check all keys for any relationship field that might match\n                          const matchingRelField = Object.keys(row).find(k => {\n                            if (k === key || k.startsWith('_')) return false;\n                            const lowerK = k.toLowerCase();\n                            const lowerBase = baseField.toLowerCase();\n                            return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                   (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                          });\n                          if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[matchingRelField]}\n                              </td>\n                            );\n                          }\n                          \n                          // If it's an ID and we couldn't find the relationship field, show the ID\n                          if (isId) {\n                            const anyRelField = Object.keys(row).find(k => {\n                              if (k === key || k.startsWith('_')) return false;\n                              const lowerK = k.toLowerCase();\n                              const lowerBase = baseField.toLowerCase();\n                              return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                     (k.includes('Name') || k.includes('name'));\n                            });\n                            if (anyRelField && row[anyRelField] !== undefined && row[anyRelField] !== null && row[anyRelField] !== '') {\n                              return (\n                                <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                  {row[anyRelField]}\n                                </td>\n                              );\n                            }\n                          }\n                        }\n                        // Handle count fields - ensure they display as numbers\n                        if (key.includes('Contributors') && (typeof value === 'number' || value === 0)) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px', fontWeight: '500' }}>\n                              {value}\n                            </td>\n                          );\n                        }\n                        return (\n                          <td key={vIdx} style={{ padding: '8px 12px' }}>\n                            {value !== null && value !== undefined ? String(value) : '--'}\n                          </td>\n                        );\n                      })}\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n            {loadingMore && (\n              <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n                <RefreshCw size={16} className=\"spinning\" style={{ display: 'inline-block', marginRight: '8px' }} />\n                Loading more records...\n              </div>\n            )}\n            {!hasMore && displayedData.length >= (totalCount || data.length) && (\n              <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n                All {totalCount || data.length} records loaded\n              </div>\n            )}\n          </div>\n        ) : (\n          <div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\n            <BarChart3 size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n            <p>No data to preview</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PreviewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}