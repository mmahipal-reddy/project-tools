{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Download,Loader,Plus,ChevronDown,X,RefreshCw,Search}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OnboardingContributorsTable=_ref=>{let{contributors,loading,refreshing,availableFields,selectedColumns,onColumnSelect,onRefresh,onLoadMore,hasMore,searchTerm='',onSearchChange}=_ref;const[showColumnSelector,setShowColumnSelector]=useState(false);const scrollContainerRef=useRef(null);const[isLoadingMore,setIsLoadingMore]=useState(false);const defaultColumns=['Name','Email','Contributor_Type__c','Gender__c','Source_Details__c','MailingCountry'];useEffect(()=>{const handleScroll=()=>{if(!scrollContainerRef.current||isLoadingMore||!hasMore)return;const{scrollTop,scrollHeight,clientHeight}=scrollContainerRef.current;const isNearBottom=scrollTop+clientHeight>=scrollHeight-100;if(isNearBottom){setIsLoadingMore(true);onLoadMore();setTimeout(()=>setIsLoadingMore(false),1000);}};const container=scrollContainerRef.current;if(container){container.addEventListener('scroll',handleScroll);return()=>container.removeEventListener('scroll',handleScroll);}},[hasMore,isLoadingMore,onLoadMore]);useEffect(()=>{const handleClickOutside=event=>{if(showColumnSelector&&!event.target.closest('.column-selector-wrapper')){setShowColumnSelector(false);}};if(showColumnSelector){document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);}},[showColumnSelector]);const getFieldLabel=fieldName=>{const labelMap={'Name':'Name','Email':'Email','Contributor_Type__c':'Contributor Type','ContributorType__c':'Contributor Type','Gender__c':'Gender','Source_Details__c':'Source Details','SourceDetails__c':'Source Details','MailingCountry':'Current Residing Country','MailingCity':'City','MailingState':'State','MailingPostalCode':'Postal Code','MailingStreet':'Street','Phone':'Phone','MobilePhone':'Mobile Phone','Birthdate':'Birthdate','AccountId':'Account','Account.Name':'Account Name'};if(labelMap[fieldName]){return labelMap[fieldName];}const field=availableFields.find(f=>f.name===fieldName);return field?field.label:fieldName;};const getFieldValue=(contributor,fieldName)=>{// Handle relationship fields\nif(fieldName==='Account.Name'){var _contributor$Account;return contributor['Account.Name']||((_contributor$Account=contributor.Account)===null||_contributor$Account===void 0?void 0:_contributor$Account.Name)||'';}// Handle field name variations\nif(fieldName==='Contributor_Type__c'&&!contributor[fieldName]){return contributor['ContributorType__c']||'';}if(fieldName==='Source_Details__c'&&!contributor[fieldName]){return contributor['SourceDetails__c']||'';}return contributor[fieldName]||'';};const formatValue=value=>{if(value===null||value===undefined)return'';if(typeof value==='boolean')return value?'Yes':'No';if(value instanceof Date){return value.toLocaleDateString();}return String(value);};const formatValueForCSV=value=>{if(value===null||value===undefined)return'';if(typeof value==='boolean')return value?'Yes':'No';if(value instanceof Date){return value.toISOString().split('T')[0];}return String(value);};const handleExportCSV=()=>{const headers=selectedColumns.map(col=>getFieldLabel(col));const csvRows=[headers.join(',')];contributors.forEach(contributor=>{const row=selectedColumns.map(fieldName=>{const value=getFieldValue(contributor,fieldName);const formattedValue=formatValueForCSV(value);// Escape commas and quotes in CSV\nif(formattedValue.includes(',')||formattedValue.includes('\"')||formattedValue.includes('\\n')){return\"\\\"\".concat(formattedValue.replace(/\"/g,'\"\"'),\"\\\"\");}return formattedValue;});csvRows.push(row.join(','));});const csvContent=csvRows.join('\\n');const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',\"onboarding_contributors_\".concat(new Date().toISOString().split('T')[0],\".csv\"));link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);};const handleColumnToggle=fieldName=>{if(selectedColumns.includes(fieldName)){// Don't allow removing default columns\nif(defaultColumns.includes(fieldName)){return;}onColumnSelect(selectedColumns.filter(col=>col!==fieldName));}else{onColumnSelect([...selectedColumns,fieldName]);}};const allDisplayableFields=availableFields.filter(field=>{// Exclude system fields and relationship objects\nif(field.type==='base64')return false;if(field.name.startsWith('Jigsaw'))return false;if(field.name==='IsDeleted')return false;if(field.name==='MasterRecordId')return false;// Include relationship fields that have a dot (e.g., Account.Name)\nif(field.name.includes('.'))return true;// Exclude relationship objects that end with __r\nif(field.name.endsWith('__r')&&!field.name.includes('.'))return false;return true;});if(loading&&contributors.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"case-table-loading\",children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading onboarding contributors...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"case-table-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"case-table-header\",style:{paddingLeft:'24px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Onboarding Contributors (\",contributors.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'center'},children:[onSearchChange&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(Search,{size:16,className:\"search-icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search contributors...\",value:searchTerm,onChange:e=>onSearchChange(e),className:\"search-input\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onRefresh,disabled:refreshing||loading,className:\"btn-action\",title:\"Refresh contributors\",children:[refreshing?/*#__PURE__*/_jsx(Loader,{size:16,className:\"spinning\"}):/*#__PURE__*/_jsx(RefreshCw,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-export-csv\",onClick:handleExportCSV,title:\"Export to CSV\",disabled:contributors.length===0,children:[/*#__PURE__*/_jsx(Download,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Export CSV\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column-selector-wrapper\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-column-selector\",onClick:()=>setShowColumnSelector(!showColumnSelector),children:[/*#__PURE__*/_jsx(Plus,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Columns\"}),/*#__PURE__*/_jsx(ChevronDown,{size:14})]}),showColumnSelector&&/*#__PURE__*/_jsxs(\"div\",{className:\"column-selector-dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column-selector-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Select Columns\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowColumnSelector(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"column-selector-list\",children:allDisplayableFields.filter(field=>{// Show all fields except those already in default columns\nreturn!defaultColumns.includes(field.name);}).map(field=>/*#__PURE__*/_jsxs(\"label\",{className:\"column-selector-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedColumns.includes(field.name),onChange:()=>handleColumnToggle(field.name)}),/*#__PURE__*/_jsx(\"span\",{children:field.label||field.name})]},field.name))})]})]})]})]}),contributors.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"case-table-empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No onboarding contributors found\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"case-table-scroll-wrapper\",ref:scrollContainerRef,children:[/*#__PURE__*/_jsxs(\"table\",{className:\"case-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:selectedColumns.map(column=>/*#__PURE__*/_jsx(\"th\",{children:getFieldLabel(column)},column))})}),/*#__PURE__*/_jsx(\"tbody\",{children:contributors.map(contributor=>/*#__PURE__*/_jsx(\"tr\",{className:\"case-table-row\",children:selectedColumns.map(column=>/*#__PURE__*/_jsx(\"td\",{children:formatValue(getFieldValue(contributor,column))},column))},contributor.Id))})]}),hasMore&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[isLoadingMore&&/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:16}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280',fontSize:'13px'},children:isLoadingMore?'Loading more...':'Scroll down to load more'})]})]})]});};export default OnboardingContributorsTable;","map":{"version":3,"names":["React","useState","useEffect","useRef","Download","Loader","Plus","ChevronDown","X","RefreshCw","Search","jsx","_jsx","jsxs","_jsxs","OnboardingContributorsTable","_ref","contributors","loading","refreshing","availableFields","selectedColumns","onColumnSelect","onRefresh","onLoadMore","hasMore","searchTerm","onSearchChange","showColumnSelector","setShowColumnSelector","scrollContainerRef","isLoadingMore","setIsLoadingMore","defaultColumns","handleScroll","current","scrollTop","scrollHeight","clientHeight","isNearBottom","setTimeout","container","addEventListener","removeEventListener","handleClickOutside","event","target","closest","document","getFieldLabel","fieldName","labelMap","field","find","f","name","label","getFieldValue","contributor","_contributor$Account","Account","Name","formatValue","value","undefined","Date","toLocaleDateString","String","formatValueForCSV","toISOString","split","handleExportCSV","headers","map","col","csvRows","join","forEach","row","formattedValue","includes","concat","replace","push","csvContent","blob","Blob","type","link","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","handleColumnToggle","filter","allDisplayableFields","startsWith","endsWith","length","className","children","size","paddingLeft","display","gap","alignItems","placeholder","onChange","e","onClick","disabled","title","checked","ref","column","Id","padding","textAlign","justifyContent","color","fontSize"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/OnboardingContributors/OnboardingContributorsTable.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Download, Loader, Plus, ChevronDown, X, RefreshCw, Search } from 'lucide-react';\n\nconst OnboardingContributorsTable = ({ \n  contributors, \n  loading, \n  refreshing,\n  availableFields, \n  selectedColumns, \n  onColumnSelect,\n  onRefresh,\n  onLoadMore,\n  hasMore,\n  searchTerm = '',\n  onSearchChange\n}) => {\n  const [showColumnSelector, setShowColumnSelector] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n  const defaultColumns = [\n    'Name',\n    'Email',\n    'Contributor_Type__c',\n    'Gender__c',\n    'Source_Details__c',\n    'MailingCountry'\n  ];\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!scrollContainerRef.current || isLoadingMore || !hasMore) return;\n      \n      const { scrollTop, scrollHeight, clientHeight } = scrollContainerRef.current;\n      const isNearBottom = scrollTop + clientHeight >= scrollHeight - 100;\n      \n      if (isNearBottom) {\n        setIsLoadingMore(true);\n        onLoadMore();\n        setTimeout(() => setIsLoadingMore(false), 1000);\n      }\n    };\n\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [hasMore, isLoadingMore, onLoadMore]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showColumnSelector && !event.target.closest('.column-selector-wrapper')) {\n        setShowColumnSelector(false);\n      }\n    };\n\n    if (showColumnSelector) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showColumnSelector]);\n\n  const getFieldLabel = (fieldName) => {\n    const labelMap = {\n      'Name': 'Name',\n      'Email': 'Email',\n      'Contributor_Type__c': 'Contributor Type',\n      'ContributorType__c': 'Contributor Type',\n      'Gender__c': 'Gender',\n      'Source_Details__c': 'Source Details',\n      'SourceDetails__c': 'Source Details',\n      'MailingCountry': 'Current Residing Country',\n      'MailingCity': 'City',\n      'MailingState': 'State',\n      'MailingPostalCode': 'Postal Code',\n      'MailingStreet': 'Street',\n      'Phone': 'Phone',\n      'MobilePhone': 'Mobile Phone',\n      'Birthdate': 'Birthdate',\n      'AccountId': 'Account',\n      'Account.Name': 'Account Name'\n    };\n    \n    if (labelMap[fieldName]) {\n      return labelMap[fieldName];\n    }\n    \n    const field = availableFields.find(f => f.name === fieldName);\n    return field ? field.label : fieldName;\n  };\n\n  const getFieldValue = (contributor, fieldName) => {\n    // Handle relationship fields\n    if (fieldName === 'Account.Name') {\n      return contributor['Account.Name'] || contributor.Account?.Name || '';\n    }\n    \n    // Handle field name variations\n    if (fieldName === 'Contributor_Type__c' && !contributor[fieldName]) {\n      return contributor['ContributorType__c'] || '';\n    }\n    \n    if (fieldName === 'Source_Details__c' && !contributor[fieldName]) {\n      return contributor['SourceDetails__c'] || '';\n    }\n    \n    return contributor[fieldName] || '';\n  };\n\n  const formatValue = (value) => {\n    if (value === null || value === undefined) return '';\n    if (typeof value === 'boolean') return value ? 'Yes' : 'No';\n    if (value instanceof Date) {\n      return value.toLocaleDateString();\n    }\n    return String(value);\n  };\n\n  const formatValueForCSV = (value) => {\n    if (value === null || value === undefined) return '';\n    if (typeof value === 'boolean') return value ? 'Yes' : 'No';\n    if (value instanceof Date) {\n      return value.toISOString().split('T')[0];\n    }\n    return String(value);\n  };\n\n  const handleExportCSV = () => {\n    const headers = selectedColumns.map(col => getFieldLabel(col));\n    const csvRows = [headers.join(',')];\n    \n    contributors.forEach(contributor => {\n      const row = selectedColumns.map(fieldName => {\n        const value = getFieldValue(contributor, fieldName);\n        const formattedValue = formatValueForCSV(value);\n        // Escape commas and quotes in CSV\n        if (formattedValue.includes(',') || formattedValue.includes('\"') || formattedValue.includes('\\n')) {\n          return `\"${formattedValue.replace(/\"/g, '\"\"')}\"`;\n        }\n        return formattedValue;\n      });\n      csvRows.push(row.join(','));\n    });\n    \n    const csvContent = csvRows.join('\\n');\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `onboarding_contributors_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handleColumnToggle = (fieldName) => {\n    if (selectedColumns.includes(fieldName)) {\n      // Don't allow removing default columns\n      if (defaultColumns.includes(fieldName)) {\n        return;\n      }\n      onColumnSelect(selectedColumns.filter(col => col !== fieldName));\n    } else {\n      onColumnSelect([...selectedColumns, fieldName]);\n    }\n  };\n\n  const allDisplayableFields = availableFields.filter(field => {\n    // Exclude system fields and relationship objects\n    if (field.type === 'base64') return false;\n    if (field.name.startsWith('Jigsaw')) return false;\n    if (field.name === 'IsDeleted') return false;\n    if (field.name === 'MasterRecordId') return false;\n    // Include relationship fields that have a dot (e.g., Account.Name)\n    if (field.name.includes('.')) return true;\n    // Exclude relationship objects that end with __r\n    if (field.name.endsWith('__r') && !field.name.includes('.')) return false;\n    return true;\n  });\n\n  if (loading && contributors.length === 0) {\n    return (\n      <div className=\"case-table-loading\">\n        <Loader className=\"spinning\" size={24} />\n        <p>Loading onboarding contributors...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"case-table-container\">\n      <div className=\"case-table-header\" style={{ paddingLeft: '24px' }}>\n        <h3>Onboarding Contributors ({contributors.length})</h3>\n        <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\n          {onSearchChange && (\n            <div className=\"search-container\">\n              <Search size={16} className=\"search-icon\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search contributors...\"\n                value={searchTerm}\n                onChange={(e) => onSearchChange(e)}\n                className=\"search-input\"\n              />\n            </div>\n          )}\n          <button\n            onClick={onRefresh}\n            disabled={refreshing || loading}\n            className=\"btn-action\"\n            title=\"Refresh contributors\"\n          >\n            {refreshing ? <Loader size={16} className=\"spinning\" /> : <RefreshCw size={16} />}\n            <span>Refresh</span>\n          </button>\n          <button\n            className=\"btn-export-csv\"\n            onClick={handleExportCSV}\n            title=\"Export to CSV\"\n            disabled={contributors.length === 0}\n          >\n            <Download size={14} />\n            <span>Export CSV</span>\n          </button>\n          <div className=\"column-selector-wrapper\">\n            <button\n              className=\"btn-column-selector\"\n              onClick={() => setShowColumnSelector(!showColumnSelector)}\n            >\n              <Plus size={14} />\n              <span>Add Columns</span>\n              <ChevronDown size={14} />\n            </button>\n            {showColumnSelector && (\n              <div className=\"column-selector-dropdown\">\n                <div className=\"column-selector-header\">\n                  <span>Select Columns</span>\n                  <button onClick={() => setShowColumnSelector(false)}>Ã—</button>\n                </div>\n                <div className=\"column-selector-list\">\n                  {allDisplayableFields\n                    .filter(field => {\n                      // Show all fields except those already in default columns\n                      return !defaultColumns.includes(field.name);\n                    })\n                    .map(field => (\n                      <label key={field.name} className=\"column-selector-item\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedColumns.includes(field.name)}\n                          onChange={() => handleColumnToggle(field.name)}\n                        />\n                        <span>{field.label || field.name}</span>\n                      </label>\n                    ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {contributors.length === 0 ? (\n        <div className=\"case-table-empty\">\n          <p>No onboarding contributors found</p>\n        </div>\n      ) : (\n        <div \n          className=\"case-table-scroll-wrapper\" \n          ref={scrollContainerRef}\n        >\n          <table className=\"case-table\">\n            <thead>\n              <tr>\n                {selectedColumns.map(column => (\n                  <th key={column}>\n                    {getFieldLabel(column)}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {contributors.map((contributor) => (\n                <tr key={contributor.Id} className=\"case-table-row\">\n                  {selectedColumns.map(column => (\n                    <td key={column}>\n                      {formatValue(getFieldValue(contributor, column))}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {hasMore && (\n            <div style={{ \n              padding: '20px', \n              textAlign: 'center',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '8px'\n            }}>\n              {isLoadingMore && <Loader className=\"spinning\" size={16} />}\n              <span style={{ color: '#6b7280', fontSize: '13px' }}>\n                {isLoadingMore ? 'Loading more...' : 'Scroll down to load more'}\n              </span>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OnboardingContributorsTable;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}