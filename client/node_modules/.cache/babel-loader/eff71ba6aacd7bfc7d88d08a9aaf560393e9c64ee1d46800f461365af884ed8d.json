{"ast":null,"code":"// Global Search Service - Search across all features\n\nimport apiClient from '../../config/api';\n\n// Searchable feature types\nconst SEARCHABLE_FEATURES = {\n  PROJECTS: 'projects',\n  PROJECT_OBJECTIVES: 'project_objectives',\n  WORKSTREAMS: 'workstreams',\n  CONTRIBUTOR_PROJECTS: 'contributor_projects',\n  CASES: 'cases',\n  CONTACTS: 'contacts',\n  ACCOUNTS: 'accounts'\n};\n\n/**\n * Search across all features\n * @param {string} query - Search query\n * @param {Array} features - Features to search (default: all)\n * @returns {Promise<Object>} Search results grouped by feature\n */\nexport const globalSearch = async (query, features = null) => {\n  if (!query || query.trim() === '') {\n    return {\n      results: {},\n      total: 0\n    };\n  }\n  const featuresToSearch = features || Object.values(SEARCHABLE_FEATURES);\n  const results = {};\n  let total = 0;\n  try {\n    // Search each feature in parallel\n    const searchPromises = featuresToSearch.map(async feature => {\n      try {\n        let response;\n        switch (feature) {\n          case SEARCHABLE_FEATURES.PROJECTS:\n            response = await apiClient.get(`/projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.PROJECT_OBJECTIVES:\n            response = await apiClient.get(`/project-objectives?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.WORKSTREAMS:\n            response = await apiClient.get(`/workstream?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS:\n            response = await apiClient.get(`/queue-status-management/contributor-projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          default:\n            return {\n              feature,\n              items: [],\n              count: 0\n            };\n        }\n        if (response.data.success) {\n          const items = response.data.projects || response.data.objectives || response.data.workstreams || [];\n          return {\n            feature,\n            items: items.map(item => ({\n              ...item,\n              type: feature,\n              path: getPathForFeature(feature, item.id)\n            })),\n            count: items.length\n          };\n        }\n        return {\n          feature,\n          items: [],\n          count: 0\n        };\n      } catch (error) {\n        console.error(`Error searching ${feature}:`, error);\n        return {\n          feature,\n          items: [],\n          count: 0\n        };\n      }\n    });\n    const searchResults = await Promise.all(searchPromises);\n    searchResults.forEach(result => {\n      results[result.feature] = {\n        items: result.items,\n        count: result.count\n      };\n      total += result.count;\n    });\n    return {\n      results,\n      total\n    };\n  } catch (error) {\n    console.error('Error in global search:', error);\n    return {\n      results: {},\n      total: 0,\n      error: error.message\n    };\n  }\n};\n\n/**\n * Get path for a feature item\n * @param {string} feature - Feature type\n * @param {string} id - Item ID\n * @returns {string} Route path\n */\nconst getPathForFeature = (feature, id) => {\n  const paths = {\n    [SEARCHABLE_FEATURES.PROJECTS]: `/projects/${id}`,\n    [SEARCHABLE_FEATURES.PROJECT_OBJECTIVES]: `/project-objectives/${id}`,\n    [SEARCHABLE_FEATURES.WORKSTREAMS]: `/workstream-management`,\n    [SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS]: `/queue-status-management`,\n    [SEARCHABLE_FEATURES.CASES]: `/case-analytics`,\n    [SEARCHABLE_FEATURES.CONTACTS]: `/contacts/${id}`,\n    [SEARCHABLE_FEATURES.ACCOUNTS]: `/accounts/${id}`\n  };\n  return paths[feature] || '/';\n};\nexport { SEARCHABLE_FEATURES };","map":{"version":3,"names":["apiClient","SEARCHABLE_FEATURES","PROJECTS","PROJECT_OBJECTIVES","WORKSTREAMS","CONTRIBUTOR_PROJECTS","CASES","CONTACTS","ACCOUNTS","globalSearch","query","features","trim","results","total","featuresToSearch","Object","values","searchPromises","map","feature","response","get","encodeURIComponent","items","count","data","success","projects","objectives","workstreams","item","type","path","getPathForFeature","id","length","error","console","searchResults","Promise","all","forEach","result","message","paths"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/crossFeature/globalSearch.js"],"sourcesContent":["// Global Search Service - Search across all features\n\nimport apiClient from '../../config/api';\n\n// Searchable feature types\nconst SEARCHABLE_FEATURES = {\n  PROJECTS: 'projects',\n  PROJECT_OBJECTIVES: 'project_objectives',\n  WORKSTREAMS: 'workstreams',\n  CONTRIBUTOR_PROJECTS: 'contributor_projects',\n  CASES: 'cases',\n  CONTACTS: 'contacts',\n  ACCOUNTS: 'accounts'\n};\n\n/**\n * Search across all features\n * @param {string} query - Search query\n * @param {Array} features - Features to search (default: all)\n * @returns {Promise<Object>} Search results grouped by feature\n */\nexport const globalSearch = async (query, features = null) => {\n  if (!query || query.trim() === '') {\n    return { results: {}, total: 0 };\n  }\n\n  const featuresToSearch = features || Object.values(SEARCHABLE_FEATURES);\n  const results = {};\n  let total = 0;\n\n  try {\n    // Search each feature in parallel\n    const searchPromises = featuresToSearch.map(async (feature) => {\n      try {\n        let response;\n        switch (feature) {\n          case SEARCHABLE_FEATURES.PROJECTS:\n            response = await apiClient.get(`/projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.PROJECT_OBJECTIVES:\n            response = await apiClient.get(`/project-objectives?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.WORKSTREAMS:\n            response = await apiClient.get(`/workstream?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS:\n            response = await apiClient.get(`/queue-status-management/contributor-projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          default:\n            return { feature, items: [], count: 0 };\n        }\n\n        if (response.data.success) {\n          const items = response.data.projects || response.data.objectives || response.data.workstreams || [];\n          return {\n            feature,\n            items: items.map(item => ({\n              ...item,\n              type: feature,\n              path: getPathForFeature(feature, item.id)\n            })),\n            count: items.length\n          };\n        }\n        return { feature, items: [], count: 0 };\n      } catch (error) {\n        console.error(`Error searching ${feature}:`, error);\n        return { feature, items: [], count: 0 };\n      }\n    });\n\n    const searchResults = await Promise.all(searchPromises);\n    \n    searchResults.forEach(result => {\n      results[result.feature] = {\n        items: result.items,\n        count: result.count\n      };\n      total += result.count;\n    });\n\n    return { results, total };\n  } catch (error) {\n    console.error('Error in global search:', error);\n    return { results: {}, total: 0, error: error.message };\n  }\n};\n\n/**\n * Get path for a feature item\n * @param {string} feature - Feature type\n * @param {string} id - Item ID\n * @returns {string} Route path\n */\nconst getPathForFeature = (feature, id) => {\n  const paths = {\n    [SEARCHABLE_FEATURES.PROJECTS]: `/projects/${id}`,\n    [SEARCHABLE_FEATURES.PROJECT_OBJECTIVES]: `/project-objectives/${id}`,\n    [SEARCHABLE_FEATURES.WORKSTREAMS]: `/workstream-management`,\n    [SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS]: `/queue-status-management`,\n    [SEARCHABLE_FEATURES.CASES]: `/case-analytics`,\n    [SEARCHABLE_FEATURES.CONTACTS]: `/contacts/${id}`,\n    [SEARCHABLE_FEATURES.ACCOUNTS]: `/accounts/${id}`\n  };\n  return paths[feature] || '/';\n};\n\nexport { SEARCHABLE_FEATURES };\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}