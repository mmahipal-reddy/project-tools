{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import{Menu,LogOut,RefreshCw,Loader,X,Eye,Download,Search,TrendingUp,BarChart3,ChevronDown,ChevronUp}from'lucide-react';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,AreaChart,Area}from'recharts';import apiClient from'../config/api';import toast from'react-hot-toast';import*as XLSX from'xlsx';import'../styles/WorkStreamReporting.css';import'../styles/Sidebar.css';import'../styles/GlobalHeader.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WorkStreamReporting=_ref=>{let{hideHeader=false}=_ref;const{user,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const[loading,setLoading]=useState(true);const[workstreams,setWorkstreams]=useState([]);const[refreshing,setRefreshing]=useState(false);const[showProjectObjectivesModal,setShowProjectObjectivesModal]=useState(false);const[selectedDeliveryTool,setSelectedDeliveryTool]=useState(null);const[projectObjectives,setProjectObjectives]=useState([]);const[loadingProjectObjectives,setLoadingProjectObjectives]=useState(false);const[showContributorProjectsModal,setShowContributorProjectsModal]=useState(false);const[selectedProjectObjective,setSelectedProjectObjective]=useState(null);const[contributorProjects,setContributorProjects]=useState([]);const[loadingContributorProjects,setLoadingContributorProjects]=useState(false);const[loadingMoreContributorProjects,setLoadingMoreContributorProjects]=useState(false);const[contributorProjectsHasMore,setContributorProjectsHasMore]=useState(false);const[contributorProjectsCounts,setContributorProjectsCounts]=useState({});const[loadingContributorCounts,setLoadingContributorCounts]=useState({});// Track loading per delivery tool\nconst[downloadingContributorProjects,setDownloadingContributorProjects]=useState({});// Track downloading per delivery tool\nconst[selectedDeliveryTools,setSelectedDeliveryTools]=useState(new Set());// For selective refresh\nconst[dataStale,setDataStale]=useState(false);const[contributorProjectsModalCollapsed,setContributorProjectsModalCollapsed]=useState(false);// Track if data is stale\nconst[dataAge,setDataAge]=useState(0);// Track data age in seconds\nconst[projectObjectivesOffset,setProjectObjectivesOffset]=useState(0);// For infinite scroll\nconst[projectObjectivesHasMore,setProjectObjectivesHasMore]=useState(false);const[projectObjectivesTotal,setProjectObjectivesTotal]=useState(0);const[loadingMoreProjectObjectives,setLoadingMoreProjectObjectives]=useState(false);const infiniteScrollRef=useRef(null);// Ref for infinite scroll trigger\nconst[showAnalytics,setShowAnalytics]=useState(false);const[analyticsData,setAnalyticsData]=useState({});const[loadingAnalytics,setLoadingAnalytics]=useState(false);const[analyticsDays,setAnalyticsDays]=useState(30);const[projectObjectivesModalCollapsed,setProjectObjectivesModalCollapsed]=useState(false);const[selectedTools,setSelectedTools]=useState(new Set());// Track which tools are selected for display\n// Frontend cache for workstreams summary\nconst[cachedWorkstreams,setCachedWorkstreams]=useState(null);const[cacheTimestamp,setCacheTimestamp]=useState(null);const CACHE_TTL=10*60*1000;// 10 minutes\nuseEffect(()=>{fetchWorkstreams();},[]);const fetchWorkstreams=async function(){let forceRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let selectedTools=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let retryCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;// Check frontend cache first (unless force refresh)\nif(!forceRefresh&&cachedWorkstreams&&cacheTimestamp){const age=Date.now()-cacheTimestamp;if(age<CACHE_TTL){setWorkstreams(cachedWorkstreams);setDataStale(age>CACHE_TTL*0.8);// Stale if > 80% of TTL\nsetDataAge(Math.round(age/1000));setLoading(false);return;}else{// Cache expired, but show stale data with warning\nsetWorkstreams(cachedWorkstreams);setDataStale(true);setDataAge(Math.round(age/1000));toast('Showing cached data. Fetching fresh data in background...',{duration:3000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});}}setLoading(true);const MAX_RETRIES=2;try{const refreshParam=forceRefresh?'?refresh=true':'';const response=await apiClient.get(\"/workstream-reporting/summary\".concat(refreshParam),{timeout:300000// 5 minutes timeout to match server capabilities\n});if(response.data.success){const workstreamsData=response.data.workstreams||[];// If selective refresh, only update selected delivery tools\nif(selectedTools&&selectedTools.size>0){setWorkstreams(prev=>{const updated=[...prev];workstreamsData.forEach(newWs=>{if(selectedTools.has(newWs.deliveryToolName)){const index=updated.findIndex(ws=>ws.deliveryToolName===newWs.deliveryToolName);if(index>=0){updated[index]=newWs;}}});return updated;});}else{setWorkstreams(workstreamsData);}// Update cache\nsetCachedWorkstreams(workstreamsData);setCacheTimestamp(Date.now());setDataStale(response.data.stale||false);setDataAge(response.data.age||0);}else{toast.error(response.data.error||'Failed to fetch workstreams');}}catch(error){var _error$response,_error$response$data,_error$message;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message||'Failed to fetch workstreams';// Retry logic for timeout errors\nif((error.code==='ECONNABORTED'||(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('timeout')||error.status===504)&&retryCount<MAX_RETRIES){// Wait a bit before retrying\nawait new Promise(resolve=>setTimeout(resolve,1000));return fetchWorkstreams(forceRefresh,selectedTools,retryCount+1);}// Graceful degradation: show cached data if available\nif(cachedWorkstreams){toast(\"\".concat(errorMessage,\". Showing cached data.\"),{duration:5000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});setWorkstreams(cachedWorkstreams);setDataStale(true);setDataAge(Math.round((Date.now()-cacheTimestamp)/1000));}else{var _error$message2;if(error.code==='ECONNABORTED'||(_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('timeout')||error.status===504){toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');}else{toast.error(errorMessage);}}}finally{setLoading(false);}};// Frontend cache for contributor counts\nconst[cachedContributorCounts,setCachedContributorCounts]=useState({});const[contributorCountTimestamps,setContributorCountTimestamps]=useState({});const CONTRIBUTOR_COUNT_CACHE_TTL=15*60*1000;// 15 minutes\nconst fetchContributorProjectsCount=async function(deliveryToolName){let forceRefresh=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;// Don't fetch for Unassigned\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams have no contributor projects.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Check frontend cache first (unless force refresh)\nif(!forceRefresh&&cachedContributorCounts[deliveryToolName]!==undefined){const timestamp=contributorCountTimestamps[deliveryToolName];if(timestamp){const age=Date.now()-timestamp;if(age<CONTRIBUTOR_COUNT_CACHE_TTL){setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:cachedContributorCounts[deliveryToolName]}));return;}}}// If already loaded and not expired, don't fetch again\nif(contributorProjectsCounts[deliveryToolName]!==undefined&&!forceRefresh){return;}// Set loading state for this specific delivery tool\nsetLoadingContributorCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:true}));try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);const refreshParam=forceRefresh?'?refresh=true':'';const response=await apiClient.get(\"/workstream-reporting/contributor-projects-count/\".concat(encodedDeliveryTool).concat(refreshParam),{timeout:300000// 5 minutes timeout to match download endpoint and allow for large datasets\n});if(response.data.success){const count=response.data.contributorProjectsCount||0;setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:count}));// Update frontend cache\nsetCachedContributorCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:count}));setContributorCountTimestamps(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:Date.now()}));}else{toast.error(response.data.error||'Failed to fetch contributor project count');// Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n}}catch(error){var _error$response2,_error$response2$data;const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message||'Failed to fetch contributor project count';// Graceful degradation: use cached count if available\nif(cachedContributorCounts[deliveryToolName]!==undefined){toast(\"\".concat(errorMessage,\". Using cached count.\"),{duration:3000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});setContributorProjectsCounts(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:cachedContributorCounts[deliveryToolName]}));}else{var _error$message3;// Show specific error message for timeout\nif(error.code==='ECONNABORTED'||(_error$message3=error.message)!==null&&_error$message3!==void 0&&_error$message3.includes('timeout')){toast.error('Request timed out. Please try again.');}else{toast.error(errorMessage);}}// Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n}finally{setLoadingContributorCounts(prev=>{const newState=_objectSpread({},prev);delete newState[deliveryToolName];return newState;});}};const handleRefresh=async function(){let selectedOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(e){e.preventDefault();e.stopPropagation();}setRefreshing(true);try{if(selectedOnly&&selectedDeliveryTools.size>0){// Selective refresh: only refresh selected delivery tools\nawait fetchWorkstreams(true,selectedDeliveryTools);// Clear selection after refresh\nsetSelectedDeliveryTools(new Set());toast.success(\"Refreshed \".concat(selectedDeliveryTools.size,\" delivery tool(s)\"));}else{// Full refresh\nawait fetchWorkstreams(true);// Clear contributor project counts on full refresh\nsetContributorProjectsCounts({});setCachedContributorCounts({});setContributorCountTimestamps({});toast.success('All data refreshed');}}catch(error){var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||error.message||'Failed to refresh workstreams');}finally{setRefreshing(false);}};const handleSelectDeliveryTool=(deliveryToolName,isSelected)=>{setSelectedDeliveryTools(prev=>{const newSet=new Set(prev);if(isSelected){newSet.add(deliveryToolName);}else{newSet.delete(deliveryToolName);}return newSet;});};const handleDeliveryToolClick=async deliveryToolName=>{// Don't allow clicking on \"Unassigned\" category\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}setSelectedDeliveryTool(deliveryToolName);setShowProjectObjectivesModal(true);setProjectObjectives([]);setProjectObjectivesOffset(0);setProjectObjectivesHasMore(false);setProjectObjectivesTotal(0);// Fetch first page (loading state handled in fetchProjectObjectives)\nawait fetchProjectObjectives(deliveryToolName,0);};const fetchProjectObjectives=async function(deliveryToolName){let offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let append=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!append){setLoadingProjectObjectives(true);}try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);const response=await apiClient.get(\"/workstream-reporting/project-objectives/\".concat(encodedDeliveryTool,\"?limit=50&offset=\").concat(offset));if(response.data.success){const newObjectives=response.data.projectObjectives||[];if(append){setProjectObjectives(prev=>[...prev,...newObjectives]);}else{setProjectObjectives(newObjectives);}setProjectObjectivesHasMore(response.data.hasMore||false);setProjectObjectivesTotal(response.data.total||0);setProjectObjectivesOffset(offset+newObjectives.length);}else{toast.error(response.data.error||'Failed to fetch project objectives');}}catch(error){var _error$response4,_error$response4$data;const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||error.message||'Failed to fetch project objectives';toast.error(errorMessage);}finally{setLoadingProjectObjectives(false);setLoadingMoreProjectObjectives(false);}};const loadMoreProjectObjectives=useCallback(async()=>{if(!selectedDeliveryTool||!projectObjectivesHasMore||loadingMoreProjectObjectives){return;}setLoadingMoreProjectObjectives(true);await fetchProjectObjectives(selectedDeliveryTool,projectObjectivesOffset,true);},[selectedDeliveryTool,projectObjectivesHasMore,loadingMoreProjectObjectives,projectObjectivesOffset]);// Set up IntersectionObserver for infinite scroll\nuseEffect(()=>{const element=infiniteScrollRef.current;if(!element||!projectObjectivesHasMore||loadingMoreProjectObjectives){return;}const observer=new IntersectionObserver(entries=>{if(entries[0].isIntersecting){loadMoreProjectObjectives();}},{threshold:0.1});observer.observe(element);// Cleanup on unmount\nreturn()=>{observer.disconnect();};},[projectObjectivesHasMore,loadingMoreProjectObjectives,loadMoreProjectObjectives]);const handleViewContributorProjects=async function(projectObjective){let append=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!append){setSelectedProjectObjective(projectObjective);setShowContributorProjectsModal(true);setLoadingContributorProjects(true);setContributorProjects([]);setContributorProjectsHasMore(false);}else{setLoadingMoreContributorProjects(true);}try{const offset=append?contributorProjects.length:0;const limit=1000;const response=await apiClient.get(\"/workstream-reporting/contributor-projects/\".concat(projectObjective.id),{params:{offset,limit}});if(response.data.success){if(append){setContributorProjects(prev=>[...prev,...(response.data.contributorProjects||[])]);}else{setContributorProjects(response.data.contributorProjects||[]);}setContributorProjectsHasMore(response.data.hasMore||false);}else{toast.error(response.data.error||'Failed to fetch contributor projects');}}catch(error){var _error$response5,_error$response5$data;const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||error.message||'Failed to fetch contributor projects';toast.error(errorMessage);}finally{if(append){setLoadingMoreContributorProjects(false);}else{setLoadingContributorProjects(false);}}};const handleLoadMoreContributorProjects=()=>{if(selectedProjectObjective&&contributorProjectsHasMore&&!loadingMoreContributorProjects){handleViewContributorProjects(selectedProjectObjective,true);}};// Download contributor projects for a specific delivery tool\nconst handleDownloadContributorProjects=async deliveryToolName=>{// Don't download for Unassigned\nif(deliveryToolName==='Unassigned'){toast('Unassigned workstreams have no contributor projects.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Check if count is available\nconst expectedCount=contributorProjectsCounts[deliveryToolName];if(expectedCount===undefined){toast.error('Please get the count first before downloading.');return;}if(expectedCount===0){toast('No contributor projects to download.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Set downloading state\nsetDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:true}));try{const encodedDeliveryTool=encodeURIComponent(deliveryToolName);const response=await apiClient.get(\"/workstream-reporting/contributor-projects-by-tool/\".concat(encodedDeliveryTool),{timeout:300000// 5 minutes timeout for large datasets\n});if(response.data.success){const contributorProjects=response.data.contributorProjects||[];const actualCount=contributorProjects.length;// Verify count matches\nif(actualCount!==expectedCount){toast(\"Downloaded \".concat(actualCount,\" records, but table shows \").concat(expectedCount,\". Some records may be missing due to limits.\"),{duration:5000,icon:'⚠️',style:{background:'#fef3c7',color:'#92400e'}});}if(contributorProjects.length===0){toast('No contributor projects found to download.',{icon:'ℹ️',style:{background:'#dbeafe',color:'#1e40af'}});return;}// Prepare data for export - only Contributor Project, Project Objective, Status\nconst headers=[{key:'name',label:'Contributor Project'},{key:'projectObjectiveName',label:'Project Objective'},{key:'status',label:'Status'}];// Sanitize delivery tool name for filename\nconst sanitizedDeliveryTool=deliveryToolName.replace(/[^a-z0-9]/gi,'_').toLowerCase();const filename=\"Contributor_Projects_\".concat(sanitizedDeliveryTool,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(contributorProjects,headers,filename);toast.success(\"Downloaded \".concat(actualCount,\" contributor project\").concat(actualCount!==1?'s':'',\" for \").concat(deliveryToolName));}else{toast.error(response.data.error||'Failed to download contributor projects');}}catch(error){var _error$response6,_error$response6$data;const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||error.message||'Failed to download contributor projects';toast.error(errorMessage);}finally{setDownloadingContributorProjects(prev=>_objectSpread(_objectSpread({},prev),{},{[deliveryToolName]:false}));}};// Export functions\nconst exportToExcel=(data,headers,filename)=>{try{// Prepare data for Excel - header row with labels\nconst headerLabels=headers.map(h=>h.label);const worksheetData=[headerLabels,// Header row with labels\n...data.map(row=>headers.map(header=>{const value=row[header.key];// Handle null/undefined values - show empty string for Excel\n// For contributor project count, if not retrieved (undefined), show empty string\nif(value===null||value===undefined){return'';}// For contributor project count that is 0, show 0 (not empty)\nreturn value;}))];// Create workbook and worksheet\nconst worksheet=XLSX.utils.aoa_to_sheet(worksheetData);const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,'Sheet1');// Set column widths (auto-size based on content)\nconst columnWidths=headers.map(()=>({wch:25}));worksheet['!cols']=columnWidths;// Generate Excel file and download\nXLSX.writeFile(workbook,filename);toast.success('Excel file downloaded successfully');}catch(error){toast.error('Failed to export to Excel');}};const handleExportSummary=()=>{if(workstreams.length===0){toast.error('No data to export');return;}const headers=[{key:'deliveryToolName',label:'Delivery Tool Name'},{key:'projectObjectivesCount',label:'No. of Project Objectives'},{key:'projectsCount',label:'No. of Projects'},{key:'contributorProjectsCount',label:'Total Contributor Projects'}];// Add contributor project counts to workstreams data for export\n// If count is not retrieved (undefined), keep it as undefined (will show as empty in Excel)\n// If count is retrieved, use the actual count (including 0)\nconst workstreamsWithCounts=workstreams.map(ws=>_objectSpread(_objectSpread({},ws),{},{contributorProjectsCount:contributorProjectsCounts[ws.deliveryToolName]!==undefined?contributorProjectsCounts[ws.deliveryToolName]:null// Use null for undefined counts so Excel shows empty cell\n}));exportToExcel(workstreamsWithCounts,headers,\"WorkStream_Summary_\".concat(new Date().toISOString().split('T')[0],\".xlsx\"));};const handleExportProjectObjectives=()=>{if(projectObjectives.length===0){toast.error('No data to export');return;}const headers=[{key:'name',label:'Project Objective'},{key:'projectName',label:'Project'},{key:'workstreamName',label:'Associated WorkStream'},{key:'deliveryToolName',label:'Delivery Tool Name'}];// Sanitize filename - remove invalid characters\nconst sanitizedToolName=(selectedDeliveryTool||'Unknown').replace(/[^a-zA-Z0-9_-]/g,'_');const filename=\"Project_Objectives_\".concat(sanitizedToolName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(projectObjectives,headers,filename);};const handleExportContributorProjects=()=>{if(contributorProjects.length===0){toast.error('No data to export');return;}const headers=[{key:'name',label:'Contributor Project Name'},{key:'projectName',label:'Project'},{key:'status',label:'Status'}];// Sanitize filename - remove invalid characters\nconst sanitizedObjectiveName=((selectedProjectObjective===null||selectedProjectObjective===void 0?void 0:selectedProjectObjective.name)||'Unknown').replace(/[^a-zA-Z0-9_-]/g,'_');const filename=\"Contributor_Projects_\".concat(sanitizedObjectiveName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");exportToExcel(contributorProjects,headers,filename);};const fetchAnalytics=async()=>{setLoadingAnalytics(true);try{const response=await apiClient.get(\"/workstream-reporting/analytics?days=\".concat(analyticsDays));if(response.data.success){const trends=response.data.trends||{};setAnalyticsData(trends);// Initialize or update selected tools\nconst availableTools=Object.keys(trends);if(availableTools.length>0){if(selectedTools.size===0){// First time: select all tools\nsetSelectedTools(new Set(availableTools));}else{// Update selection: keep existing selections if tools still exist, add new ones\nconst newSelection=new Set();availableTools.forEach(tool=>{if(selectedTools.has(tool)){newSelection.add(tool);}});// If no tools were kept, select all (user might have deselected everything)\nif(newSelection.size===0){setSelectedTools(new Set(availableTools));}else{setSelectedTools(newSelection);}}}}else{toast.error(response.data.error||'Failed to fetch analytics');}}catch(error){var _error$response7,_error$response7$data;toast.error(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||error.message||'Failed to fetch analytics');}finally{setLoadingAnalytics(false);}};useEffect(()=>{if(showAnalytics){fetchAnalytics();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[showAnalytics,analyticsDays]);// Format date for display\nconst formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{month:'short',day:'numeric'});};// Generate unique colors for all tools\nconst generateUniqueColors=count=>{const baseColors=['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#06b6d4','#ec4899','#84cc16','#f97316','#6366f1','#14b8a6','#eab308','#a855f7','#f43f5e','#22c55e','#0ea5e9','#d946ef','#64748b','#fb923c','#34d399'];if(count<=baseColors.length){return baseColors.slice(0,count);}// Generate additional colors if needed\nconst colors=[...baseColors];for(let i=baseColors.length;i<count;i++){const hue=i*137.508%360;// Golden angle approximation for color distribution\nconst saturation=60+i%3*10;// Vary saturation\nconst lightness=45+i%2*10;// Vary lightness\ncolors.push(\"hsl(\".concat(hue,\", \").concat(saturation,\"%, \").concat(lightness,\"%)\"));}return colors;};// Prepare chart data from analytics (include all tools, but style based on selection)\nconst prepareChartData=()=>{const allDates=new Set();// Process all tools to get all dates\nObject.values(analyticsData).forEach(trend=>{trend.forEach(point=>allDates.add(point.date));});const sortedDates=Array.from(allDates).sort();const chartData=sortedDates.map(date=>{const dataPoint={date:formatDate(date)};// Include all tools in data\nObject.keys(analyticsData).forEach(toolName=>{const trend=analyticsData[toolName];const point=trend.find(p=>p.date===date);dataPoint[toolName]=point?point.count:0;});return dataPoint;});return chartData;};// Handle tool selection toggle\nconst handleToolToggle=toolName=>{setSelectedTools(prev=>{const newSet=new Set(prev);if(newSet.has(toolName)){newSet.delete(toolName);}else{newSet.add(toolName);}return newSet;});};// Select all tools\nconst handleSelectAllTools=()=>{setSelectedTools(new Set(Object.keys(analyticsData)));};// Deselect all tools\nconst handleDeselectAllTools=()=>{setSelectedTools(new Set());};const handleExportToExcel=()=>{if(workstreams.length===0){toast.error('No data to export');return;}try{// Prepare data for export - only table columns (excluding checkbox)\nconst exportData=workstreams.map(ws=>({'Delivery Tool Name':ws.deliveryToolName||'N/A','No. of Project Objectives':ws.projectObjectivesCount||0,'No. of Projects':ws.projectsCount||0,'Total Contributor Projects':contributorProjectsCounts[ws.deliveryToolName]!==undefined?contributorProjectsCounts[ws.deliveryToolName]:'N/A'}));// Create workbook and worksheet\nconst ws=XLSX.utils.json_to_sheet(exportData);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Workstream Summary');// Generate filename with timestamp\nconst filename=\"Workstream_Summary_\".concat(new Date().toISOString().split('T')[0],\".xlsx\");// Write and download\nXLSX.writeFile(wb,filename);toast.success(\"Exported \".concat(exportData.length,\" records to Excel\"));}catch(error){console.error('Error exporting to Excel:',error);toast.error('Failed to export to Excel');}};const content=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workstream-reporting-content\",children:[dataStale&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 16px',backgroundColor:'#fff3cd',border:'1px solid #ffc107',borderRadius:'4px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px',color:'#856404'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing cached data (age: \",dataAge,\"s). Data may be outdated.\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchWorkstreams(true),style:{marginLeft:'8px',color:'#856404',textDecoration:'underline',background:'none',border:'none',cursor:'pointer'},children:\"Refresh now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"WorkStream Summary\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[selectedDeliveryTools.size>0&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:e=>handleRefresh(true,e),disabled:refreshing,style:{marginRight:'8px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:refreshing?'spinning':''}),\"Refresh Selected (\",selectedDeliveryTools.size,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:()=>setShowAnalytics(!showAnalytics),style:{display:'flex',alignItems:'center',gap:'6px'},title:\"View Analytics\",children:[/*#__PURE__*/_jsx(TrendingUp,{size:16}),showAnalytics?'Hide':'Show',\" Analytics\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportSummary,disabled:workstreams.length===0,style:{display:'flex',alignItems:'center',gap:'6px'},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Export\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:e=>handleRefresh(false,e),disabled:refreshing,style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:refreshing?'spinning':''}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportToExcel,disabled:workstreams.length===0,style:{display:'flex',alignItems:'center',gap:'6px'},title:\"Export table data to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Export to Excel\"]})]})]}),loading&&workstreams.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'calc(100vh - 200px)',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading workstreams...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"summary-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"summary-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'40px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeliveryTools.size===workstreams.length&&workstreams.length>0,onChange:e=>{if(e.target.checked){setSelectedDeliveryTools(new Set(workstreams.map(ws=>ws.deliveryToolName)));}else{setSelectedDeliveryTools(new Set());}}})}),/*#__PURE__*/_jsx(\"th\",{children:\"Delivery Tool Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"No. of Project Objectives\"}),/*#__PURE__*/_jsx(\"th\",{children:\"No. of Projects\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Contributor Projects\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:workstreams.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no-data\",children:loading?'Loading workstreams...':'No delivery tools found'})}):workstreams.map((ws,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedDeliveryTools.has(ws.deliveryToolName),onChange:e=>handleSelectDeliveryTool(ws.deliveryToolName,e.target.checked)})}),/*#__PURE__*/_jsx(\"td\",{children:ws.deliveryToolName==='Unassigned'?/*#__PURE__*/_jsx(\"span\",{style:{color:'#706e6b',fontStyle:'italic'},children:ws.deliveryToolName}):/*#__PURE__*/_jsx(\"span\",{className:\"delivery-tool-link\",onClick:()=>handleDeliveryToolClick(ws.deliveryToolName),style:{color:'#0176d3',cursor:'pointer',textDecoration:'underline'},children:ws.deliveryToolName||'--'})}),/*#__PURE__*/_jsx(\"td\",{children:ws.projectObjectivesCount||0}),/*#__PURE__*/_jsx(\"td\",{children:ws.projectsCount||0}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:loadingContributorCounts[ws.deliveryToolName]?/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:14,style:{display:'inline-block'}}):contributorProjectsCounts[ws.deliveryToolName]!==undefined?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:contributorProjectsCounts[ws.deliveryToolName]}),contributorProjectsCounts[ws.deliveryToolName]>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadContributorProjects(ws.deliveryToolName),disabled:downloadingContributorProjects[ws.deliveryToolName],style:{background:'none',border:'none',color:downloadingContributorProjects[ws.deliveryToolName]?'#706e6b':'#0176d3',cursor:downloadingContributorProjects[ws.deliveryToolName]?'not-allowed':'pointer',display:'inline-flex',alignItems:'center',padding:'2px 4px',fontSize:'12px',opacity:downloadingContributorProjects[ws.deliveryToolName]?0.6:1},title:downloadingContributorProjects[ws.deliveryToolName]?'Downloading...':'Download Contributor Projects List',children:downloadingContributorProjects[ws.deliveryToolName]?/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:14}):/*#__PURE__*/_jsx(Download,{size:14})})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchContributorProjectsCount(ws.deliveryToolName),style:{background:'none',border:'none',color:'#0176d3',cursor:'pointer',display:'inline-flex',alignItems:'center',gap:'4px',padding:'4px 8px',fontSize:'13px'},title:\"Get Contributor Project Count\",children:[/*#__PURE__*/_jsx(Search,{size:14}),\"Get Count\"]})})})]},ws.deliveryToolName||index))})]})}),showAnalytics&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'24px',padding:'20px',backgroundColor:'#fff',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'18px',fontWeight:'600'},children:[/*#__PURE__*/_jsx(BarChart3,{size:20,style:{display:'inline-block',marginRight:'8px',verticalAlign:'middle'}}),\"Trend Analysis - Project Objectives by Delivery Tool\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px'},children:\"Days:\"}),/*#__PURE__*/_jsxs(\"select\",{value:analyticsDays,onChange:e=>setAnalyticsDays(parseInt(e.target.value)),style:{padding:'6px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:7,children:\"7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:14,children:\"14 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"60 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:90,children:\"90 Days\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:fetchAnalytics,disabled:loadingAnalytics,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:14,className:loadingAnalytics?'spinning':''}),\"Refresh\"]})]})]}),loadingAnalytics?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'calc(100vh - 200px)',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading analytics...\"})]}):Object.keys(analyticsData).length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666'},children:/*#__PURE__*/_jsx(\"p\",{children:\"No analytics data available. Data will be collected as snapshots are created.\"})}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'400px'},children:/*#__PURE__*/_jsx(ResponsiveContainer,{children:/*#__PURE__*/_jsxs(AreaChart,{data:prepareChartData(),margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(\"defs\",{children:Object.keys(analyticsData).map((toolName,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];const isSelected=selectedTools.has(toolName);return/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"color\".concat(toolName),x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:color,stopOpacity:isSelected?0.8:0.2}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:color,stopOpacity:isSelected?0.1:0.05})]},toolName);})}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",angle:-45,textAnchor:\"end\",height:80,style:{fontSize:'12px'}}),/*#__PURE__*/_jsx(YAxis,{style:{fontSize:'12px'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'#fff',border:'1px solid #ddd',borderRadius:'4px'},labelStyle:{fontWeight:'bold',marginBottom:'4px'},content:_ref2=>{let{active,payload,label}=_ref2;if(!active||!payload||payload.length===0)return null;// Filter to show only selected tools\nconst selectedPayload=payload.filter(item=>selectedTools.has(item.dataKey));if(selectedPayload.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',fontSize:'12px',color:'#666'},children:\"No selected tools\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',backgroundColor:'#fff',border:'1px solid #ddd',borderRadius:'4px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontWeight:'bold',fontSize:'13px',color:'#333'},children:label}),selectedPayload.map((entry,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const toolIndex=Object.keys(analyticsData).indexOf(entry.dataKey);const color=colors[toolIndex];return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'4px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'12px',height:'12px',backgroundColor:color,borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666',minWidth:'150px'},children:[entry.dataKey,\":\"]}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#333'},children:entry.value})]},index);})]});}}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},content:_ref3=>{let{payload}=_ref3;if(!payload||payload.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'12px',padding:'10px',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',marginRight:'16px',padding:'4px 8px',border:'1px solid #e0e0e0',borderRadius:'4px',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAllTools,style:{padding:'4px 8px',fontSize:'12px',border:'1px solid #ddd',borderRadius:'4px',background:'#fff',cursor:'pointer',marginRight:'4px'},children:\"Select All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeselectAllTools,style:{padding:'4px 8px',fontSize:'12px',border:'1px solid #ddd',borderRadius:'4px',background:'#fff',cursor:'pointer'},children:\"Deselect All\"})]}),Object.keys(analyticsData).map((toolName,index)=>{const isSelected=selectedTools.has(toolName);const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleToolToggle(toolName),style:{display:'flex',alignItems:'center',gap:'6px',cursor:'pointer',padding:'6px 10px',borderRadius:'4px',backgroundColor:isSelected?'#f0f7ff':'#f9f9f9',border:\"1px solid \".concat(isSelected?color:'#e0e0e0'),opacity:isSelected?1:0.6,transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=isSelected?'#e0f0ff':'#f0f0f0';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=isSelected?'#f0f7ff':'#f9f9f9';},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:()=>handleToolToggle(toolName),onClick:e=>e.stopPropagation(),style:{cursor:'pointer',marginRight:'4px',width:'16px',height:'16px'}}),/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'14px',height:'14px',backgroundColor:color,borderRadius:'2px',marginRight:'4px',flexShrink:0}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px',fontWeight:isSelected?'500':'400'},children:toolName})]},toolName);})]});}}),Object.keys(analyticsData).map((toolName,index)=>{const colors=generateUniqueColors(Object.keys(analyticsData).length);const color=colors[index];const isSelected=selectedTools.has(toolName);return/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:toolName,stroke:color,fill:\"url(#color\".concat(toolName,\")\"),strokeWidth:isSelected?2:1,strokeDasharray:isSelected?'0':'5 5',opacity:isSelected?1:0.4,name:toolName},toolName);})]})})})]})]}),showProjectObjectivesModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowProjectObjectivesModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{padding:'12px 16px',cursor:'pointer'},onClick:()=>setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',flex:1,minWidth:0},children:[projectObjectivesModalCollapsed?/*#__PURE__*/_jsx(ChevronDown,{size:16,style:{flexShrink:0}}):/*#__PURE__*/_jsx(ChevronUp,{size:16,style:{flexShrink:0}}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'16px',fontWeight:600,color:'#16325c',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',flex:1,minWidth:0},children:selectedDeliveryTool})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',flexShrink:0},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportProjectObjectives,disabled:projectObjectives.length===0,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px',fontSize:'13px'},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:14}),\"Export\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowProjectObjectivesModal(false),children:/*#__PURE__*/_jsx(X,{size:20})})]})]}),!projectObjectivesModalCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:loadingProjectObjectives&&projectObjectives.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'400px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading project objectives...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"project-objectives-table-container\",style:{maxHeight:'60vh',overflowY:'auto',overflowX:'auto',width:'100%'},children:[/*#__PURE__*/_jsxs(\"table\",{className:\"project-objectives-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Project Objective\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Associated WorkStream\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delivery Tool Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projectObjectives.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no-data\",children:\"No project objectives found for this delivery tool\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[projectObjectives.map((po,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:po.name||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.projectName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.workstreamName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:po.deliveryToolName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-link\",onClick:()=>handleViewContributorProjects(po),children:[/*#__PURE__*/_jsx(Eye,{size:14}),\"View Contributor Projects\"]})})]},po.id||index)),projectObjectivesHasMore&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",style:{textAlign:'center',padding:'16px'},children:loadingMoreProjectObjectives?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinning\",size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading more...\"})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:loadMoreProjectObjectives,style:{padding:'8px 16px'},children:[\"Load More (\",projectObjectivesTotal-projectObjectives.length,\" remaining)\"]})})})]})})]}),projectObjectivesHasMore&&!loadingMoreProjectObjectives&&/*#__PURE__*/_jsx(\"div\",{ref:infiniteScrollRef,style:{height:'20px',width:'100%'}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowProjectObjectivesModal(false),children:\"Close\"})})]})}),showContributorProjectsModal&&selectedProjectObjective&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowContributorProjectsModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{padding:'12px 16px',cursor:'pointer'},onClick:()=>setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',flex:1,minWidth:0},children:[contributorProjectsModalCollapsed?/*#__PURE__*/_jsx(ChevronDown,{size:16,style:{flexShrink:0}}):/*#__PURE__*/_jsx(ChevronUp,{size:16,style:{flexShrink:0}}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'16px',fontWeight:600,color:'#16325c',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',flex:1,minWidth:0},children:selectedProjectObjective.name})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',flexShrink:0},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleExportContributorProjects,disabled:contributorProjects.length===0,style:{display:'flex',alignItems:'center',gap:'6px',padding:'6px 12px',fontSize:'13px'},title:\"Export to Excel\",children:[/*#__PURE__*/_jsx(Download,{size:14}),\"Export\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowContributorProjectsModal(false),children:/*#__PURE__*/_jsx(X,{size:20})})]})]}),!contributorProjectsModalCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:loadingContributorProjects?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",style:{minHeight:'400px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:24,style:{color:'#08979C'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading contributor projects...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"project-objectives-table-container contributor-projects-table\",style:{overflowX:'visible',width:'100%',maxWidth:'100%'},children:[/*#__PURE__*/_jsxs(\"table\",{className:\"project-objectives-table contributor-projects-table\",style:{width:'100%',tableLayout:'fixed'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Contributor Project Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contributorProjects.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"no-data\",children:\"No contributor projects found for this project objective\"})}):contributorProjects.map((cp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cp.name||'--'}),/*#__PURE__*/_jsx(\"td\",{children:cp.projectName||'--'}),/*#__PURE__*/_jsx(\"td\",{children:cp.status||'--'})]},cp.id||index))})]}),contributorProjectsHasMore&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'16px',borderTop:'1px solid #e2e8f0'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMoreContributorProjects,disabled:loadingMoreContributorProjects,style:{padding:'10px 20px',backgroundColor:loadingMoreContributorProjects?'#cbd5e1':'#08979C',color:'#ffffff',border:'none',borderRadius:'6px',cursor:loadingMoreContributorProjects?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500',display:'inline-flex',alignItems:'center',gap:'8px'},children:loadingMoreContributorProjects?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:16}),\"Loading...\"]}):'Show More'}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',fontSize:'12px',color:'#64748b'},children:[\"Showing \",contributorProjects.length,\" entries. Click to load more.\"]})]}),contributorProjects.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',fontSize:'13px',color:'#706e6b'},children:[\"Total: \",contributorProjects.length,\" contributor project\",contributorProjects.length!==1?'s':'',!contributorProjectsHasMore&&contributorProjects.length>=1000&&' (all entries loaded)']})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowContributorProjectsModal(false),children:\"Close\"})})]})})]});if(hideHeader){return/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting-content-wrapper\",children:content});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting\",style:{marginLeft:sidebarOpen?'320px':'80px',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"workstream-reporting-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workstream-reporting-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"WorkStream Reporting\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"View workstream summary and associated project objectives\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-user-profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})]})}),content]})})]});};export default WorkStreamReporting;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useAuth","Sidebar","Menu","LogOut","RefreshCw","Loader","X","Eye","Download","Search","TrendingUp","BarChart3","ChevronDown","ChevronUp","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","AreaChart","Area","apiClient","toast","XLSX","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WorkStreamReporting","_ref","hideHeader","user","logout","sidebarOpen","setSidebarOpen","loading","setLoading","workstreams","setWorkstreams","refreshing","setRefreshing","showProjectObjectivesModal","setShowProjectObjectivesModal","selectedDeliveryTool","setSelectedDeliveryTool","projectObjectives","setProjectObjectives","loadingProjectObjectives","setLoadingProjectObjectives","showContributorProjectsModal","setShowContributorProjectsModal","selectedProjectObjective","setSelectedProjectObjective","contributorProjects","setContributorProjects","loadingContributorProjects","setLoadingContributorProjects","loadingMoreContributorProjects","setLoadingMoreContributorProjects","contributorProjectsHasMore","setContributorProjectsHasMore","contributorProjectsCounts","setContributorProjectsCounts","loadingContributorCounts","setLoadingContributorCounts","downloadingContributorProjects","setDownloadingContributorProjects","selectedDeliveryTools","setSelectedDeliveryTools","Set","dataStale","setDataStale","contributorProjectsModalCollapsed","setContributorProjectsModalCollapsed","dataAge","setDataAge","projectObjectivesOffset","setProjectObjectivesOffset","projectObjectivesHasMore","setProjectObjectivesHasMore","projectObjectivesTotal","setProjectObjectivesTotal","loadingMoreProjectObjectives","setLoadingMoreProjectObjectives","infiniteScrollRef","showAnalytics","setShowAnalytics","analyticsData","setAnalyticsData","loadingAnalytics","setLoadingAnalytics","analyticsDays","setAnalyticsDays","projectObjectivesModalCollapsed","setProjectObjectivesModalCollapsed","selectedTools","setSelectedTools","cachedWorkstreams","setCachedWorkstreams","cacheTimestamp","setCacheTimestamp","CACHE_TTL","fetchWorkstreams","forceRefresh","arguments","length","undefined","retryCount","age","Date","now","Math","round","duration","icon","style","background","color","MAX_RETRIES","refreshParam","response","get","concat","timeout","data","success","workstreamsData","size","prev","updated","forEach","newWs","has","deliveryToolName","index","findIndex","ws","stale","error","_error$response","_error$response$data","_error$message","errorMessage","message","code","includes","status","Promise","resolve","setTimeout","_error$message2","cachedContributorCounts","setCachedContributorCounts","contributorCountTimestamps","setContributorCountTimestamps","CONTRIBUTOR_COUNT_CACHE_TTL","fetchContributorProjectsCount","timestamp","_objectSpread","encodedDeliveryTool","encodeURIComponent","count","contributorProjectsCount","_error$response2","_error$response2$data","_error$message3","newState","handleRefresh","selectedOnly","e","preventDefault","stopPropagation","_error$response3","_error$response3$data","handleSelectDeliveryTool","isSelected","newSet","add","delete","handleDeliveryToolClick","fetchProjectObjectives","offset","append","newObjectives","hasMore","total","_error$response4","_error$response4$data","loadMoreProjectObjectives","element","current","observer","IntersectionObserver","entries","isIntersecting","threshold","observe","disconnect","handleViewContributorProjects","projectObjective","limit","id","params","_error$response5","_error$response5$data","handleLoadMoreContributorProjects","handleDownloadContributorProjects","expectedCount","actualCount","headers","key","label","sanitizedDeliveryTool","replace","toLowerCase","filename","toISOString","split","exportToExcel","_error$response6","_error$response6$data","headerLabels","map","h","worksheetData","row","header","value","worksheet","utils","aoa_to_sheet","workbook","book_new","book_append_sheet","columnWidths","wch","writeFile","handleExportSummary","workstreamsWithCounts","handleExportProjectObjectives","sanitizedToolName","handleExportContributorProjects","sanitizedObjectiveName","name","fetchAnalytics","trends","availableTools","Object","keys","newSelection","tool","_error$response7","_error$response7$data","formatDate","dateString","date","toLocaleDateString","month","day","generateUniqueColors","baseColors","slice","colors","i","hue","saturation","lightness","push","prepareChartData","allDates","values","trend","point","sortedDates","Array","from","sort","chartData","dataPoint","toolName","find","p","handleToolToggle","handleSelectAllTools","handleDeselectAllTools","handleExportToExcel","exportData","projectObjectivesCount","projectsCount","json_to_sheet","wb","console","content","children","className","padding","backgroundColor","border","borderRadius","marginBottom","display","alignItems","gap","onClick","marginLeft","textDecoration","cursor","disabled","marginRight","title","minHeight","flexDirection","justifyContent","width","type","checked","onChange","target","colSpan","fontStyle","fontSize","opacity","marginTop","boxShadow","margin","fontWeight","verticalAlign","parseInt","textAlign","height","top","right","left","bottom","x1","y1","x2","y2","stopColor","stopOpacity","strokeDasharray","dataKey","angle","textAnchor","contentStyle","labelStyle","_ref2","active","payload","selectedPayload","filter","item","entry","toolIndex","indexOf","minWidth","wrapperStyle","paddingTop","_ref3","flexWrap","transition","onMouseEnter","currentTarget","onMouseLeave","flexShrink","stroke","fill","strokeWidth","flex","whiteSpace","overflow","textOverflow","maxHeight","overflowY","overflowX","po","projectName","workstreamName","ref","maxWidth","tableLayout","cp","borderTop","isOpen","toggleSidebar","email","charAt","toUpperCase"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/WorkStreamReporting.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport { Menu, LogOut, RefreshCw, Loader, X, Eye, Download, Search, TrendingUp, BarChart3, ChevronDown, ChevronUp } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport * as XLSX from 'xlsx';\nimport '../styles/WorkStreamReporting.css';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\n\nconst WorkStreamReporting = ({ hideHeader = false }) => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [workstreams, setWorkstreams] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n  const [showProjectObjectivesModal, setShowProjectObjectivesModal] = useState(false);\n  const [selectedDeliveryTool, setSelectedDeliveryTool] = useState(null);\n  const [projectObjectives, setProjectObjectives] = useState([]);\n  const [loadingProjectObjectives, setLoadingProjectObjectives] = useState(false);\n  const [showContributorProjectsModal, setShowContributorProjectsModal] = useState(false);\n  const [selectedProjectObjective, setSelectedProjectObjective] = useState(null);\n  const [contributorProjects, setContributorProjects] = useState([]);\n  const [loadingContributorProjects, setLoadingContributorProjects] = useState(false);\n  const [loadingMoreContributorProjects, setLoadingMoreContributorProjects] = useState(false);\n  const [contributorProjectsHasMore, setContributorProjectsHasMore] = useState(false);\n  const [contributorProjectsCounts, setContributorProjectsCounts] = useState({});\n  const [loadingContributorCounts, setLoadingContributorCounts] = useState({}); // Track loading per delivery tool\n  const [downloadingContributorProjects, setDownloadingContributorProjects] = useState({}); // Track downloading per delivery tool\n  const [selectedDeliveryTools, setSelectedDeliveryTools] = useState(new Set()); // For selective refresh\n  const [dataStale, setDataStale] = useState(false);\n  const [contributorProjectsModalCollapsed, setContributorProjectsModalCollapsed] = useState(false); // Track if data is stale\n  const [dataAge, setDataAge] = useState(0); // Track data age in seconds\n  const [projectObjectivesOffset, setProjectObjectivesOffset] = useState(0); // For infinite scroll\n  const [projectObjectivesHasMore, setProjectObjectivesHasMore] = useState(false);\n  const [projectObjectivesTotal, setProjectObjectivesTotal] = useState(0);\n  const [loadingMoreProjectObjectives, setLoadingMoreProjectObjectives] = useState(false);\n  const infiniteScrollRef = useRef(null); // Ref for infinite scroll trigger\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [analyticsData, setAnalyticsData] = useState({});\n  const [loadingAnalytics, setLoadingAnalytics] = useState(false);\n  const [analyticsDays, setAnalyticsDays] = useState(30);\n  const [projectObjectivesModalCollapsed, setProjectObjectivesModalCollapsed] = useState(false);\n  const [selectedTools, setSelectedTools] = useState(new Set()); // Track which tools are selected for display\n\n  // Frontend cache for workstreams summary\n  const [cachedWorkstreams, setCachedWorkstreams] = useState(null);\n  const [cacheTimestamp, setCacheTimestamp] = useState(null);\n  const CACHE_TTL = 10 * 60 * 1000; // 10 minutes\n\n  useEffect(() => {\n    fetchWorkstreams();\n  }, []);\n\n  const fetchWorkstreams = async (forceRefresh = false, selectedTools = null, retryCount = 0) => {\n    // Check frontend cache first (unless force refresh)\n    if (!forceRefresh && cachedWorkstreams && cacheTimestamp) {\n      const age = Date.now() - cacheTimestamp;\n      if (age < CACHE_TTL) {\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(age > CACHE_TTL * 0.8); // Stale if > 80% of TTL\n        setDataAge(Math.round(age / 1000));\n        setLoading(false);\n        return;\n      } else {\n        // Cache expired, but show stale data with warning\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(true);\n        setDataAge(Math.round(age / 1000));\n        toast('Showing cached data. Fetching fresh data in background...', { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n      }\n    }\n\n    setLoading(true);\n    const MAX_RETRIES = 2;\n    \n    try {\n      const refreshParam = forceRefresh ? '?refresh=true' : '';\n      const response = await apiClient.get(`/workstream-reporting/summary${refreshParam}`, {\n        timeout: 300000 // 5 minutes timeout to match server capabilities\n      });\n      if (response.data.success) {\n        const workstreamsData = response.data.workstreams || [];\n        \n        // If selective refresh, only update selected delivery tools\n        if (selectedTools && selectedTools.size > 0) {\n          setWorkstreams(prev => {\n            const updated = [...prev];\n            workstreamsData.forEach(newWs => {\n              if (selectedTools.has(newWs.deliveryToolName)) {\n                const index = updated.findIndex(ws => ws.deliveryToolName === newWs.deliveryToolName);\n                if (index >= 0) {\n                  updated[index] = newWs;\n                }\n              }\n            });\n            return updated;\n          });\n        } else {\n          setWorkstreams(workstreamsData);\n        }\n        \n        // Update cache\n        setCachedWorkstreams(workstreamsData);\n        setCacheTimestamp(Date.now());\n        setDataStale(response.data.stale || false);\n        setDataAge(response.data.age || 0);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch workstreams');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch workstreams';\n      \n      // Retry logic for timeout errors\n      if ((error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) && retryCount < MAX_RETRIES) {\n        // Wait a bit before retrying\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        return fetchWorkstreams(forceRefresh, selectedTools, retryCount + 1);\n      }\n      \n      // Graceful degradation: show cached data if available\n      if (cachedWorkstreams) {\n        toast(`${errorMessage}. Showing cached data.`, { \n          duration: 5000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setWorkstreams(cachedWorkstreams);\n        setDataStale(true);\n        setDataAge(Math.round((Date.now() - cacheTimestamp) / 1000));\n      } else {\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout') || error.status === 504) {\n          toast.error('Request timed out. The server may be processing a large dataset. Please try again in a moment.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Frontend cache for contributor counts\n  const [cachedContributorCounts, setCachedContributorCounts] = useState({});\n  const [contributorCountTimestamps, setContributorCountTimestamps] = useState({});\n  const CONTRIBUTOR_COUNT_CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n  const fetchContributorProjectsCount = async (deliveryToolName, forceRefresh = false) => {\n    // Don't fetch for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check frontend cache first (unless force refresh)\n    if (!forceRefresh && cachedContributorCounts[deliveryToolName] !== undefined) {\n      const timestamp = contributorCountTimestamps[deliveryToolName];\n      if (timestamp) {\n        const age = Date.now() - timestamp;\n        if (age < CONTRIBUTOR_COUNT_CACHE_TTL) {\n          setContributorProjectsCounts(prev => ({\n            ...prev,\n            [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n          }));\n          return;\n        }\n      }\n    }\n\n    // If already loaded and not expired, don't fetch again\n    if (contributorProjectsCounts[deliveryToolName] !== undefined && !forceRefresh) {\n      return;\n    }\n\n    // Set loading state for this specific delivery tool\n    setLoadingContributorCounts(prev => ({ ...prev, [deliveryToolName]: true }));\n\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const refreshParam = forceRefresh ? '?refresh=true' : '';\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-count/${encodedDeliveryTool}${refreshParam}`, {\n        timeout: 300000 // 5 minutes timeout to match download endpoint and allow for large datasets\n      });\n      \n      if (response.data.success) {\n        const count = response.data.contributorProjectsCount || 0;\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        \n        // Update frontend cache\n        setCachedContributorCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: count\n        }));\n        setContributorCountTimestamps(prev => ({\n          ...prev,\n          [deliveryToolName]: Date.now()\n        }));\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor project count');\n        // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor project count';\n      \n      // Graceful degradation: use cached count if available\n      if (cachedContributorCounts[deliveryToolName] !== undefined) {\n        toast(`${errorMessage}. Using cached count.`, { \n          duration: 3000,\n          icon: '⚠️',\n          style: {\n            background: '#fef3c7',\n            color: '#92400e',\n          }\n        });\n        setContributorProjectsCounts(prev => ({\n          ...prev,\n          [deliveryToolName]: cachedContributorCounts[deliveryToolName]\n        }));\n      } else {\n        // Show specific error message for timeout\n        if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n          toast.error('Request timed out. Please try again.');\n        } else {\n          toast.error(errorMessage);\n        }\n      }\n      \n      // Don't set count to 0 on error - keep \"Get Count\" button visible for retry\n    } finally {\n      setLoadingContributorCounts(prev => {\n        const newState = { ...prev };\n        delete newState[deliveryToolName];\n        return newState;\n      });\n    }\n  };\n\n  const handleRefresh = async (selectedOnly = false, e = null) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    setRefreshing(true);\n    try {\n      if (selectedOnly && selectedDeliveryTools.size > 0) {\n        // Selective refresh: only refresh selected delivery tools\n        await fetchWorkstreams(true, selectedDeliveryTools);\n        // Clear selection after refresh\n        setSelectedDeliveryTools(new Set());\n        toast.success(`Refreshed ${selectedDeliveryTools.size} delivery tool(s)`);\n      } else {\n        // Full refresh\n        await fetchWorkstreams(true);\n        // Clear contributor project counts on full refresh\n        setContributorProjectsCounts({});\n        setCachedContributorCounts({});\n        setContributorCountTimestamps({});\n        toast.success('All data refreshed');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to refresh workstreams');\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const handleSelectDeliveryTool = (deliveryToolName, isSelected) => {\n    setSelectedDeliveryTools(prev => {\n      const newSet = new Set(prev);\n      if (isSelected) {\n        newSet.add(deliveryToolName);\n      } else {\n        newSet.delete(deliveryToolName);\n      }\n      return newSet;\n    });\n  };\n\n  const handleDeliveryToolClick = async (deliveryToolName) => {\n    // Don't allow clicking on \"Unassigned\" category\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams cannot be clicked. They have no delivery tool name.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    setSelectedDeliveryTool(deliveryToolName);\n    setShowProjectObjectivesModal(true);\n    setProjectObjectives([]);\n    setProjectObjectivesOffset(0);\n    setProjectObjectivesHasMore(false);\n    setProjectObjectivesTotal(0);\n\n    // Fetch first page (loading state handled in fetchProjectObjectives)\n    await fetchProjectObjectives(deliveryToolName, 0);\n  };\n\n  const fetchProjectObjectives = async (deliveryToolName, offset = 0, append = false) => {\n    if (!append) {\n      setLoadingProjectObjectives(true);\n    }\n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/project-objectives/${encodedDeliveryTool}?limit=50&offset=${offset}`);\n      if (response.data.success) {\n        const newObjectives = response.data.projectObjectives || [];\n        if (append) {\n          setProjectObjectives(prev => [...prev, ...newObjectives]);\n        } else {\n          setProjectObjectives(newObjectives);\n        }\n        setProjectObjectivesHasMore(response.data.hasMore || false);\n        setProjectObjectivesTotal(response.data.total || 0);\n        setProjectObjectivesOffset(offset + newObjectives.length);\n        \n      } else {\n        toast.error(response.data.error || 'Failed to fetch project objectives');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch project objectives';\n      toast.error(errorMessage);\n    } finally {\n      setLoadingProjectObjectives(false);\n      setLoadingMoreProjectObjectives(false);\n    }\n  };\n\n  const loadMoreProjectObjectives = useCallback(async () => {\n    if (!selectedDeliveryTool || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n    setLoadingMoreProjectObjectives(true);\n    await fetchProjectObjectives(selectedDeliveryTool, projectObjectivesOffset, true);\n  }, [selectedDeliveryTool, projectObjectivesHasMore, loadingMoreProjectObjectives, projectObjectivesOffset]);\n\n  // Set up IntersectionObserver for infinite scroll\n  useEffect(() => {\n    const element = infiniteScrollRef.current;\n    if (!element || !projectObjectivesHasMore || loadingMoreProjectObjectives) {\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          loadMoreProjectObjectives();\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    observer.observe(element);\n\n    // Cleanup on unmount\n    return () => {\n      observer.disconnect();\n    };\n  }, [projectObjectivesHasMore, loadingMoreProjectObjectives, loadMoreProjectObjectives]);\n\n  const handleViewContributorProjects = async (projectObjective, append = false) => {\n    if (!append) {\n      setSelectedProjectObjective(projectObjective);\n      setShowContributorProjectsModal(true);\n      setLoadingContributorProjects(true);\n      setContributorProjects([]);\n      setContributorProjectsHasMore(false);\n    } else {\n      setLoadingMoreContributorProjects(true);\n    }\n\n    try {\n      const offset = append ? contributorProjects.length : 0;\n      const limit = 1000;\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects/${projectObjective.id}`, {\n        params: { offset, limit }\n      });\n      if (response.data.success) {\n        if (append) {\n          setContributorProjects(prev => [...prev, ...(response.data.contributorProjects || [])]);\n        } else {\n          setContributorProjects(response.data.contributorProjects || []);\n        }\n        setContributorProjectsHasMore(response.data.hasMore || false);\n      } else {\n        toast.error(response.data.error || 'Failed to fetch contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to fetch contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      if (append) {\n        setLoadingMoreContributorProjects(false);\n      } else {\n        setLoadingContributorProjects(false);\n      }\n    }\n  };\n\n  const handleLoadMoreContributorProjects = () => {\n    if (selectedProjectObjective && contributorProjectsHasMore && !loadingMoreContributorProjects) {\n      handleViewContributorProjects(selectedProjectObjective, true);\n    }\n  };\n\n  // Download contributor projects for a specific delivery tool\n  const handleDownloadContributorProjects = async (deliveryToolName) => {\n    // Don't download for Unassigned\n    if (deliveryToolName === 'Unassigned') {\n      toast('Unassigned workstreams have no contributor projects.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Check if count is available\n    const expectedCount = contributorProjectsCounts[deliveryToolName];\n    if (expectedCount === undefined) {\n      toast.error('Please get the count first before downloading.');\n      return;\n    }\n\n    if (expectedCount === 0) {\n      toast('No contributor projects to download.', {\n        icon: 'ℹ️',\n        style: {\n          background: '#dbeafe',\n          color: '#1e40af',\n        }\n      });\n      return;\n    }\n\n    // Set downloading state\n    setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: true }));\n    \n    try {\n      const encodedDeliveryTool = encodeURIComponent(deliveryToolName);\n      const response = await apiClient.get(`/workstream-reporting/contributor-projects-by-tool/${encodedDeliveryTool}`, {\n        timeout: 300000 // 5 minutes timeout for large datasets\n      });\n\n      if (response.data.success) {\n        const contributorProjects = response.data.contributorProjects || [];\n        const actualCount = contributorProjects.length;\n        \n        // Verify count matches\n        if (actualCount !== expectedCount) {\n          toast(`Downloaded ${actualCount} records, but table shows ${expectedCount}. Some records may be missing due to limits.`, { \n            duration: 5000,\n            icon: '⚠️',\n            style: {\n              background: '#fef3c7',\n              color: '#92400e',\n            }\n          });\n        }\n\n        if (contributorProjects.length === 0) {\n          toast('No contributor projects found to download.', {\n            icon: 'ℹ️',\n            style: {\n              background: '#dbeafe',\n              color: '#1e40af',\n            }\n          });\n          return;\n        }\n\n        // Prepare data for export - only Contributor Project, Project Objective, Status\n        const headers = [\n          { key: 'name', label: 'Contributor Project' },\n          { key: 'projectObjectiveName', label: 'Project Objective' },\n          { key: 'status', label: 'Status' }\n        ];\n\n        // Sanitize delivery tool name for filename\n        const sanitizedDeliveryTool = deliveryToolName.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n        const filename = `Contributor_Projects_${sanitizedDeliveryTool}_${new Date().toISOString().split('T')[0]}.xlsx`;\n        \n        exportToExcel(contributorProjects, headers, filename);\n        toast.success(`Downloaded ${actualCount} contributor project${actualCount !== 1 ? 's' : ''} for ${deliveryToolName}`);\n      } else {\n        toast.error(response.data.error || 'Failed to download contributor projects');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Failed to download contributor projects';\n      toast.error(errorMessage);\n    } finally {\n      setDownloadingContributorProjects(prev => ({ ...prev, [deliveryToolName]: false }));\n    }\n  };\n\n  // Export functions\n  const exportToExcel = (data, headers, filename) => {\n    try {\n      // Prepare data for Excel - header row with labels\n      const headerLabels = headers.map(h => h.label);\n      const worksheetData = [\n        headerLabels, // Header row with labels\n        ...data.map(row => headers.map(header => {\n          const value = row[header.key];\n          // Handle null/undefined values - show empty string for Excel\n          // For contributor project count, if not retrieved (undefined), show empty string\n          if (value === null || value === undefined) {\n            return '';\n          }\n          // For contributor project count that is 0, show 0 (not empty)\n          return value;\n        }))\n      ];\n\n      // Create workbook and worksheet\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');\n\n      // Set column widths (auto-size based on content)\n      const columnWidths = headers.map(() => ({ wch: 25 }));\n      worksheet['!cols'] = columnWidths;\n\n      // Generate Excel file and download\n      XLSX.writeFile(workbook, filename);\n      toast.success('Excel file downloaded successfully');\n    } catch (error) {\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n  const handleExportSummary = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'deliveryToolName', label: 'Delivery Tool Name' },\n      { key: 'projectObjectivesCount', label: 'No. of Project Objectives' },\n      { key: 'projectsCount', label: 'No. of Projects' },\n      { key: 'contributorProjectsCount', label: 'Total Contributor Projects' }\n    ];\n\n    // Add contributor project counts to workstreams data for export\n    // If count is not retrieved (undefined), keep it as undefined (will show as empty in Excel)\n    // If count is retrieved, use the actual count (including 0)\n    const workstreamsWithCounts = workstreams.map(ws => ({\n      ...ws,\n      contributorProjectsCount: contributorProjectsCounts[ws.deliveryToolName] !== undefined \n        ? contributorProjectsCounts[ws.deliveryToolName] \n        : null // Use null for undefined counts so Excel shows empty cell\n    }));\n\n    exportToExcel(workstreamsWithCounts, headers, `WorkStream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`);\n  };\n\n  const handleExportProjectObjectives = () => {\n    if (projectObjectives.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Project Objective' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'workstreamName', label: 'Associated WorkStream' },\n      { key: 'deliveryToolName', label: 'Delivery Tool Name' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedToolName = (selectedDeliveryTool || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Project_Objectives_${sanitizedToolName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(projectObjectives, headers, filename);\n  };\n\n  const handleExportContributorProjects = () => {\n    if (contributorProjects.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    const headers = [\n      { key: 'name', label: 'Contributor Project Name' },\n      { key: 'projectName', label: 'Project' },\n      { key: 'status', label: 'Status' }\n    ];\n\n    // Sanitize filename - remove invalid characters\n    const sanitizedObjectiveName = (selectedProjectObjective?.name || 'Unknown').replace(/[^a-zA-Z0-9_-]/g, '_');\n    const filename = `Contributor_Projects_${sanitizedObjectiveName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    exportToExcel(contributorProjects, headers, filename);\n  };\n\n  const fetchAnalytics = async () => {\n    setLoadingAnalytics(true);\n    try {\n      const response = await apiClient.get(`/workstream-reporting/analytics?days=${analyticsDays}`);\n      if (response.data.success) {\n        const trends = response.data.trends || {};\n        setAnalyticsData(trends);\n        // Initialize or update selected tools\n        const availableTools = Object.keys(trends);\n        if (availableTools.length > 0) {\n          if (selectedTools.size === 0) {\n            // First time: select all tools\n            setSelectedTools(new Set(availableTools));\n          } else {\n            // Update selection: keep existing selections if tools still exist, add new ones\n            const newSelection = new Set();\n            availableTools.forEach(tool => {\n              if (selectedTools.has(tool)) {\n                newSelection.add(tool);\n              }\n            });\n            // If no tools were kept, select all (user might have deselected everything)\n            if (newSelection.size === 0) {\n              setSelectedTools(new Set(availableTools));\n            } else {\n              setSelectedTools(newSelection);\n            }\n          }\n        }\n      } else {\n        toast.error(response.data.error || 'Failed to fetch analytics');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || error.message || 'Failed to fetch analytics');\n    } finally {\n      setLoadingAnalytics(false);\n    }\n  };\n\n  useEffect(() => {\n    if (showAnalytics) {\n      fetchAnalytics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAnalytics, analyticsDays]);\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n  };\n\n  // Generate unique colors for all tools\n  const generateUniqueColors = (count) => {\n    const baseColors = [\n      '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', \n      '#06b6d4', '#ec4899', '#84cc16', '#f97316', '#6366f1',\n      '#14b8a6', '#eab308', '#a855f7', '#f43f5e', '#22c55e',\n      '#0ea5e9', '#d946ef', '#64748b', '#fb923c', '#34d399'\n    ];\n    \n    if (count <= baseColors.length) {\n      return baseColors.slice(0, count);\n    }\n    \n    // Generate additional colors if needed\n    const colors = [...baseColors];\n    for (let i = baseColors.length; i < count; i++) {\n      const hue = (i * 137.508) % 360; // Golden angle approximation for color distribution\n      const saturation = 60 + (i % 3) * 10; // Vary saturation\n      const lightness = 45 + (i % 2) * 10; // Vary lightness\n      colors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);\n    }\n    \n    return colors;\n  };\n\n  // Prepare chart data from analytics (include all tools, but style based on selection)\n  const prepareChartData = () => {\n    const allDates = new Set();\n    // Process all tools to get all dates\n    Object.values(analyticsData).forEach(trend => {\n      trend.forEach(point => allDates.add(point.date));\n    });\n    \n    const sortedDates = Array.from(allDates).sort();\n    const chartData = sortedDates.map(date => {\n      const dataPoint = { date: formatDate(date) };\n      // Include all tools in data\n      Object.keys(analyticsData).forEach(toolName => {\n        const trend = analyticsData[toolName];\n        const point = trend.find(p => p.date === date);\n        dataPoint[toolName] = point ? point.count : 0;\n      });\n      return dataPoint;\n    });\n    \n    return chartData;\n  };\n\n  // Handle tool selection toggle\n  const handleToolToggle = (toolName) => {\n    setSelectedTools(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(toolName)) {\n        newSet.delete(toolName);\n      } else {\n        newSet.add(toolName);\n      }\n      return newSet;\n    });\n  };\n\n  // Select all tools\n  const handleSelectAllTools = () => {\n    setSelectedTools(new Set(Object.keys(analyticsData)));\n  };\n\n  // Deselect all tools\n  const handleDeselectAllTools = () => {\n    setSelectedTools(new Set());\n  };\n\n  const handleExportToExcel = () => {\n    if (workstreams.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    try {\n      // Prepare data for export - only table columns (excluding checkbox)\n      const exportData = workstreams.map(ws => ({\n        'Delivery Tool Name': ws.deliveryToolName || 'N/A',\n        'No. of Project Objectives': ws.projectObjectivesCount || 0,\n        'No. of Projects': ws.projectsCount || 0,\n        'Total Contributor Projects': contributorProjectsCounts[ws.deliveryToolName] !== undefined \n          ? contributorProjectsCounts[ws.deliveryToolName] \n          : 'N/A'\n      }));\n\n      // Create workbook and worksheet\n      const ws = XLSX.utils.json_to_sheet(exportData);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Workstream Summary');\n\n      // Generate filename with timestamp\n      const filename = `Workstream_Summary_${new Date().toISOString().split('T')[0]}.xlsx`;\n\n      // Write and download\n      XLSX.writeFile(wb, filename);\n      toast.success(`Exported ${exportData.length} records to Excel`);\n    } catch (error) {\n      console.error('Error exporting to Excel:', error);\n      toast.error('Failed to export to Excel');\n    }\n  };\n\n  const content = (\n    <>\n      <div className=\"workstream-reporting-content\">\n          {/* Stale Data Warning */}\n          {dataStale && (\n            <div style={{\n              padding: '12px 16px',\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffc107',\n              borderRadius: '4px',\n              marginBottom: '16px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              color: '#856404'\n            }}>\n              <span>⚠️</span>\n              <span>\n                Showing cached data (age: {dataAge}s). Data may be outdated. \n                <button \n                  onClick={() => fetchWorkstreams(true)} \n                  style={{ \n                    marginLeft: '8px', \n                    color: '#856404', \n                    textDecoration: 'underline',\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Refresh now\n                </button>\n              </span>\n            </div>\n          )}\n          \n          <div className=\"content-header\">\n            <h2>WorkStream Summary</h2>\n            <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n              {selectedDeliveryTools.size > 0 && (\n                <button\n                  className=\"btn btn-secondary\"\n                  onClick={(e) => handleRefresh(true, e)}\n                  disabled={refreshing}\n                  style={{ marginRight: '8px' }}\n                >\n                  <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                  Refresh Selected ({selectedDeliveryTools.size})\n                </button>\n              )}\n              <button\n                className=\"btn-secondary\"\n                onClick={() => setShowAnalytics(!showAnalytics)}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"View Analytics\"\n              >\n                <TrendingUp size={16} />\n                {showAnalytics ? 'Hide' : 'Show'} Analytics\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={handleExportSummary}\n                disabled={workstreams.length === 0}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Export to Excel\"\n              >\n                <Download size={16} />\n                Export\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={(e) => handleRefresh(false, e)}\n                disabled={refreshing}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n              >\n                <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\n                Refresh\n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={handleExportToExcel}\n                disabled={workstreams.length === 0}\n                style={{ display: 'flex', alignItems: 'center', gap: '6px' }}\n                title=\"Export table data to Excel\"\n              >\n                <Download size={16} />\n                Export to Excel\n              </button>\n            </div>\n          </div>\n\n          {loading && workstreams.length === 0 ? (\n            <div className=\"loading-container\" style={{ minHeight: 'calc(100vh - 200px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n              <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n              <p>Loading workstreams...</p>\n            </div>\n          ) : (\n            <div className=\"summary-table-container\">\n              <table className=\"summary-table\">\n                <thead>\n                      <tr>\n                        <th style={{ width: '40px' }}>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.size === workstreams.length && workstreams.length > 0}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setSelectedDeliveryTools(new Set(workstreams.map(ws => ws.deliveryToolName)));\n                              } else {\n                                setSelectedDeliveryTools(new Set());\n                              }\n                            }}\n                          />\n                        </th>\n                        <th>Delivery Tool Name</th>\n                        <th>No. of Project Objectives</th>\n                        <th>No. of Projects</th>\n                        <th>Total Contributor Projects</th>\n                      </tr>\n                </thead>\n                <tbody>\n                  {workstreams.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"5\" className=\"no-data\">\n                        {loading ? 'Loading workstreams...' : 'No delivery tools found'}\n                      </td>\n                    </tr>\n                  ) : (\n                    workstreams.map((ws, index) => (\n                      <tr key={ws.deliveryToolName || index}>\n                        <td>\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedDeliveryTools.has(ws.deliveryToolName)}\n                            onChange={(e) => handleSelectDeliveryTool(ws.deliveryToolName, e.target.checked)}\n                          />\n                        </td>\n                        <td>\n                          {ws.deliveryToolName === 'Unassigned' ? (\n                            <span style={{ color: '#706e6b', fontStyle: 'italic' }}>\n                              {ws.deliveryToolName}\n                            </span>\n                          ) : (\n                            <span \n                              className=\"delivery-tool-link\" \n                              onClick={() => handleDeliveryToolClick(ws.deliveryToolName)}\n                              style={{ color: '#0176d3', cursor: 'pointer', textDecoration: 'underline' }}\n                            >\n                              {ws.deliveryToolName || '--'}\n                            </span>\n                          )}\n                        </td>\n                        <td>{ws.projectObjectivesCount || 0}</td>\n                        <td>{ws.projectsCount || 0}</td>\n                        <td>\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                            {loadingContributorCounts[ws.deliveryToolName] ? (\n                              <Loader className=\"spinning\" size={14} style={{ display: 'inline-block' }} />\n                            ) : contributorProjectsCounts[ws.deliveryToolName] !== undefined ? (\n                              <>\n                                <span>{contributorProjectsCounts[ws.deliveryToolName]}</span>\n                                {contributorProjectsCounts[ws.deliveryToolName] > 0 && (\n                                  <button\n                                    onClick={() => handleDownloadContributorProjects(ws.deliveryToolName)}\n                                    disabled={downloadingContributorProjects[ws.deliveryToolName]}\n                                    style={{\n                                      background: 'none',\n                                      border: 'none',\n                                      color: downloadingContributorProjects[ws.deliveryToolName] ? '#706e6b' : '#0176d3',\n                                      cursor: downloadingContributorProjects[ws.deliveryToolName] ? 'not-allowed' : 'pointer',\n                                      display: 'inline-flex',\n                                      alignItems: 'center',\n                                      padding: '2px 4px',\n                                      fontSize: '12px',\n                                      opacity: downloadingContributorProjects[ws.deliveryToolName] ? 0.6 : 1\n                                    }}\n                                    title={downloadingContributorProjects[ws.deliveryToolName] ? 'Downloading...' : 'Download Contributor Projects List'}\n                                  >\n                                    {downloadingContributorProjects[ws.deliveryToolName] ? (\n                                      <Loader className=\"spinning\" size={14} />\n                                    ) : (\n                                      <Download size={14} />\n                                    )}\n                                  </button>\n                                )}\n                              </>\n                            ) : (\n                              <button\n                                onClick={() => fetchContributorProjectsCount(ws.deliveryToolName)}\n                                style={{\n                                  background: 'none',\n                                  border: 'none',\n                                  color: '#0176d3',\n                                  cursor: 'pointer',\n                                  display: 'inline-flex',\n                                  alignItems: 'center',\n                                  gap: '4px',\n                                  padding: '4px 8px',\n                                  fontSize: '13px'\n                                }}\n                                title=\"Get Contributor Project Count\"\n                              >\n                                <Search size={14} />\n                                Get Count\n                              </button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {/* Analytics Section - Below Summary Table */}\n          {showAnalytics && (\n            <div style={{\n              marginTop: '24px',\n              padding: '20px',\n              backgroundColor: '#fff',\n              borderRadius: '8px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                <h3 style={{ margin: 0, fontSize: '18px', fontWeight: '600' }}>\n                  <BarChart3 size={20} style={{ display: 'inline-block', marginRight: '8px', verticalAlign: 'middle' }} />\n                  Trend Analysis - Project Objectives by Delivery Tool\n                </h3>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <label style={{ fontSize: '14px' }}>Days:</label>\n                  <select\n                    value={analyticsDays}\n                    onChange={(e) => setAnalyticsDays(parseInt(e.target.value))}\n                    style={{\n                      padding: '6px 12px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      fontSize: '14px'\n                    }}\n                  >\n                    <option value={7}>7 Days</option>\n                    <option value={14}>14 Days</option>\n                    <option value={30}>30 Days</option>\n                    <option value={60}>60 Days</option>\n                    <option value={90}>90 Days</option>\n                  </select>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={fetchAnalytics}\n                    disabled={loadingAnalytics}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px' }}\n                  >\n                    <RefreshCw size={14} className={loadingAnalytics ? 'spinning' : ''} />\n                    Refresh\n                  </button>\n                </div>\n              </div>\n              \n              {loadingAnalytics ? (\n                <div className=\"loading-container\" style={{ minHeight: 'calc(100vh - 200px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                  <Loader className=\"spinning\" size={24} style={{ color: '#08979C' }} />\n                  <p>Loading analytics...</p>\n                </div>\n              ) : Object.keys(analyticsData).length === 0 ? (\n                <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n                  <p>No analytics data available. Data will be collected as snapshots are created.</p>\n                </div>\n              ) : (\n                <div style={{ width: '100%', height: '400px' }}>\n                  <ResponsiveContainer>\n                    <AreaChart data={prepareChartData()} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                      <defs>\n                        {Object.keys(analyticsData).map((toolName, index) => {\n                          const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                          const color = colors[index];\n                          const isSelected = selectedTools.has(toolName);\n                          return (\n                            <linearGradient key={toolName} id={`color${toolName}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                              <stop offset=\"5%\" stopColor={color} stopOpacity={isSelected ? 0.8 : 0.2}/>\n                              <stop offset=\"95%\" stopColor={color} stopOpacity={isSelected ? 0.1 : 0.05}/>\n                            </linearGradient>\n                          );\n                        })}\n                      </defs>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis \n                        dataKey=\"date\" \n                        angle={-45}\n                        textAnchor=\"end\"\n                        height={80}\n                        style={{ fontSize: '12px' }}\n                      />\n                      <YAxis style={{ fontSize: '12px' }} />\n                      <Tooltip \n                        contentStyle={{ backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px' }}\n                        labelStyle={{ fontWeight: 'bold', marginBottom: '4px' }}\n                        content={({ active, payload, label }) => {\n                          if (!active || !payload || payload.length === 0) return null;\n                          \n                          // Filter to show only selected tools\n                          const selectedPayload = payload.filter(item => selectedTools.has(item.dataKey));\n                          \n                          if (selectedPayload.length === 0) {\n                            return (\n                              <div style={{ padding: '8px', fontSize: '12px', color: '#666' }}>\n                                No selected tools\n                              </div>\n                            );\n                          }\n                          \n                          return (\n                            <div style={{ padding: '10px', backgroundColor: '#fff', border: '1px solid #ddd', borderRadius: '4px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n                              <p style={{ margin: '0 0 8px 0', fontWeight: 'bold', fontSize: '13px', color: '#333' }}>\n                                {label}\n                              </p>\n                              {selectedPayload.map((entry, index) => {\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const toolIndex = Object.keys(analyticsData).indexOf(entry.dataKey);\n                                const color = colors[toolIndex];\n                                return (\n                                  <div key={index} style={{ \n                                    display: 'flex', \n                                    alignItems: 'center', \n                                    gap: '8px',\n                                    marginBottom: '4px',\n                                    fontSize: '12px'\n                                  }}>\n                                    <span style={{\n                                      display: 'inline-block',\n                                      width: '12px',\n                                      height: '12px',\n                                      backgroundColor: color,\n                                      borderRadius: '2px'\n                                    }} />\n                                    <span style={{ color: '#666', minWidth: '150px' }}>{entry.dataKey}:</span>\n                                    <span style={{ fontWeight: '600', color: '#333' }}>{entry.value}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      <Legend \n                        wrapperStyle={{ paddingTop: '20px' }}\n                        content={({ payload }) => {\n                          if (!payload || payload.length === 0) return null;\n                          return (\n                            <div style={{ \n                              display: 'flex', \n                              flexWrap: 'wrap', \n                              gap: '12px',\n                              padding: '10px',\n                              justifyContent: 'center',\n                              alignItems: 'center'\n                            }}>\n                              <div style={{ \n                                display: 'flex', \n                                gap: '8px', \n                                alignItems: 'center',\n                                marginRight: '16px',\n                                padding: '4px 8px',\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                backgroundColor: '#f9f9f9'\n                              }}>\n                                <button\n                                  onClick={handleSelectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer',\n                                    marginRight: '4px'\n                                  }}\n                                >\n                                  Select All\n                                </button>\n                                <button\n                                  onClick={handleDeselectAllTools}\n                                  style={{\n                                    padding: '4px 8px',\n                                    fontSize: '12px',\n                                    border: '1px solid #ddd',\n                                    borderRadius: '4px',\n                                    background: '#fff',\n                                    cursor: 'pointer'\n                                  }}\n                                >\n                                  Deselect All\n                                </button>\n                              </div>\n                              {Object.keys(analyticsData).map((toolName, index) => {\n                                const isSelected = selectedTools.has(toolName);\n                                const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                                const color = colors[index];\n                                return (\n                                  <div\n                                    key={toolName}\n                                    onClick={() => handleToolToggle(toolName)}\n                                    style={{\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      gap: '6px',\n                                      cursor: 'pointer',\n                                      padding: '6px 10px',\n                                      borderRadius: '4px',\n                                      backgroundColor: isSelected ? '#f0f7ff' : '#f9f9f9',\n                                      border: `1px solid ${isSelected ? color : '#e0e0e0'}`,\n                                      opacity: isSelected ? 1 : 0.6,\n                                      transition: 'all 0.2s'\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#e0f0ff' : '#f0f0f0';\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      e.currentTarget.style.backgroundColor = isSelected ? '#f0f7ff' : '#f9f9f9';\n                                    }}\n                                  >\n                                    <input\n                                      type=\"checkbox\"\n                                      checked={isSelected}\n                                      onChange={() => handleToolToggle(toolName)}\n                                      onClick={(e) => e.stopPropagation()}\n                                      style={{\n                                        cursor: 'pointer',\n                                        marginRight: '4px',\n                                        width: '16px',\n                                        height: '16px'\n                                      }}\n                                    />\n                                    <span\n                                      style={{\n                                        display: 'inline-block',\n                                        width: '14px',\n                                        height: '14px',\n                                        backgroundColor: color,\n                                        borderRadius: '2px',\n                                        marginRight: '4px',\n                                        flexShrink: 0\n                                      }}\n                                    />\n                                    <span style={{ fontSize: '13px', fontWeight: isSelected ? '500' : '400' }}>{toolName}</span>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      />\n                      {Object.keys(analyticsData).map((toolName, index) => {\n                        const colors = generateUniqueColors(Object.keys(analyticsData).length);\n                        const color = colors[index];\n                        const isSelected = selectedTools.has(toolName);\n                        return (\n                          <Area\n                            key={toolName}\n                            type=\"monotone\"\n                            dataKey={toolName}\n                            stroke={color}\n                            fill={`url(#color${toolName})`}\n                            strokeWidth={isSelected ? 2 : 1}\n                            strokeDasharray={isSelected ? '0' : '5 5'}\n                            opacity={isSelected ? 1 : 0.4}\n                            name={toolName}\n                          />\n                        );\n                      })}\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              )}\n            </div>\n          )}\n      </div>\n\n      {/* Project Objectives Modal */}\n        {showProjectObjectivesModal && (\n          <div className=\"modal-overlay\" onClick={() => setShowProjectObjectivesModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setProjectObjectivesModalCollapsed(!projectObjectivesModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {projectObjectivesModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedDeliveryTool}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportProjectObjectives}\n                    disabled={projectObjectives.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowProjectObjectivesModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!projectObjectivesModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingProjectObjectives && projectObjectives.length === 0 ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading project objectives...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container\" style={{ maxHeight: '60vh', overflowY: 'auto', overflowX: 'auto', width: '100%' }}>\n                    <table className=\"project-objectives-table\">\n                      <thead>\n                        <tr>\n                          <th>Project Objective</th>\n                          <th>Project</th>\n                          <th>Associated WorkStream</th>\n                          <th>Delivery Tool Name</th>\n                          <th>Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {projectObjectives.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"5\" className=\"no-data\">\n                              No project objectives found for this delivery tool\n                            </td>\n                          </tr>\n                        ) : (\n                          <>\n                            {projectObjectives.map((po, index) => (\n                              <tr key={po.id || index}>\n                                <td>{po.name || '--'}</td>\n                                <td>{po.projectName || '--'}</td>\n                                <td>{po.workstreamName || '--'}</td>\n                                <td>{po.deliveryToolName || '--'}</td>\n                                <td>\n                                  <button\n                                    className=\"btn-link\"\n                                    onClick={() => handleViewContributorProjects(po)}\n                                  >\n                                    <Eye size={14} />\n                                    View Contributor Projects\n                                  </button>\n                                </td>\n                              </tr>\n                            ))}\n                            {projectObjectivesHasMore && (\n                              <tr>\n                                <td colSpan=\"5\" style={{ textAlign: 'center', padding: '16px' }}>\n                                  {loadingMoreProjectObjectives ? (\n                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\n                                      <Loader className=\"spinning\" size={16} />\n                                      <span>Loading more...</span>\n                                    </div>\n                                  ) : (\n                                    <button\n                                      className=\"btn-secondary\"\n                                      onClick={loadMoreProjectObjectives}\n                                      style={{ padding: '8px 16px' }}\n                                    >\n                                      Load More ({projectObjectivesTotal - projectObjectives.length} remaining)\n                                    </button>\n                                  )}\n                                </td>\n                              </tr>\n                            )}\n                          </>\n                        )}\n                      </tbody>\n                    </table>\n                    {/* Infinite scroll trigger */}\n                    {projectObjectivesHasMore && !loadingMoreProjectObjectives && (\n                      <div\n                        ref={infiniteScrollRef}\n                        style={{ height: '20px', width: '100%' }}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowProjectObjectivesModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Contributor Projects Modal */}\n        {showContributorProjectsModal && selectedProjectObjective && (\n          <div className=\"modal-overlay\" onClick={() => setShowContributorProjectsModal(false)}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\" style={{ padding: '12px 16px', cursor: 'pointer' }} onClick={() => setContributorProjectsModalCollapsed(!contributorProjectsModalCollapsed)}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1, minWidth: 0 }}>\n                  {contributorProjectsModalCollapsed ? (\n                    <ChevronDown size={16} style={{ flexShrink: 0 }} />\n                  ) : (\n                    <ChevronUp size={16} style={{ flexShrink: 0 }} />\n                  )}\n                  <h2 style={{ margin: 0, fontSize: '16px', fontWeight: 600, color: '#16325c', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', flex: 1, minWidth: 0 }}>\n                    {selectedProjectObjective.name}\n                  </h2>\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexShrink: 0 }} onClick={(e) => e.stopPropagation()}>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={handleExportContributorProjects}\n                    disabled={contributorProjects.length === 0}\n                    style={{ display: 'flex', alignItems: 'center', gap: '6px', padding: '6px 12px', fontSize: '13px' }}\n                    title=\"Export to Excel\"\n                  >\n                    <Download size={14} />\n                    Export\n                  </button>\n                  <button className=\"modal-close\" onClick={() => setShowContributorProjectsModal(false)}>\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n              {!contributorProjectsModalCollapsed && (\n              <div className=\"modal-body\">\n                {loadingContributorProjects ? (\n                  <div className=\"loading-container\" style={{ minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n                    <Loader className=\"spinner\" size={24} style={{ color: '#08979C' }} />\n                    <p>Loading contributor projects...</p>\n                  </div>\n                ) : (\n                  <div className=\"project-objectives-table-container contributor-projects-table\" style={{ overflowX: 'visible', width: '100%', maxWidth: '100%' }}>\n                    <table className=\"project-objectives-table contributor-projects-table\" style={{ width: '100%', tableLayout: 'fixed' }}>\n                      <thead>\n                        <tr>\n                          <th>Contributor Project Name</th>\n                          <th>Project</th>\n                          <th>Status</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {contributorProjects.length === 0 ? (\n                          <tr>\n                            <td colSpan=\"3\" className=\"no-data\">\n                              No contributor projects found for this project objective\n                            </td>\n                          </tr>\n                        ) : (\n                          contributorProjects.map((cp, index) => (\n                            <tr key={cp.id || index}>\n                              <td>{cp.name || '--'}</td>\n                              <td>{cp.projectName || '--'}</td>\n                              <td>{cp.status || '--'}</td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                    {contributorProjectsHasMore && (\n                      <div style={{ textAlign: 'center', padding: '16px', borderTop: '1px solid #e2e8f0' }}>\n                        <button\n                          onClick={handleLoadMoreContributorProjects}\n                          disabled={loadingMoreContributorProjects}\n                          style={{\n                            padding: '10px 20px',\n                            backgroundColor: loadingMoreContributorProjects ? '#cbd5e1' : '#08979C',\n                            color: '#ffffff',\n                            border: 'none',\n                            borderRadius: '6px',\n                            cursor: loadingMoreContributorProjects ? 'not-allowed' : 'pointer',\n                            fontSize: '14px',\n                            fontWeight: '500',\n                            display: 'inline-flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          }}\n                        >\n                          {loadingMoreContributorProjects ? (\n                            <>\n                              <Loader className=\"spinner\" size={16} />\n                              Loading...\n                            </>\n                          ) : (\n                            'Show More'\n                          )}\n                        </button>\n                        <div style={{ marginTop: '8px', fontSize: '12px', color: '#64748b' }}>\n                          Showing {contributorProjects.length} entries. Click to load more.\n                        </div>\n                      </div>\n                    )}\n                    {contributorProjects.length > 0 && (\n                      <div style={{ marginTop: '12px', fontSize: '13px', color: '#706e6b' }}>\n                        Total: {contributorProjects.length} contributor project{contributorProjects.length !== 1 ? 's' : ''}\n                        {!contributorProjectsHasMore && contributorProjects.length >= 1000 && ' (all entries loaded)'}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n              )}\n              <div className=\"modal-footer\">\n                <button className=\"btn-secondary\" onClick={() => setShowContributorProjectsModal(false)}>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n    </>\n  );\n\n  if (hideHeader) {\n    return <div className=\"workstream-reporting-content-wrapper\">{content}</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      <div className=\"workstream-reporting\" style={{ marginLeft: sidebarOpen ? '320px' : '80px', minHeight: '100vh' }}>\n        <div className=\"workstream-reporting-container\">\n          <div className=\"workstream-reporting-header\">\n            <div className=\"header-content\">\n              <div className=\"header-left\">\n                <button\n                  className=\"header-menu-toggle\"\n                  onClick={() => setSidebarOpen(!sidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div>\n                  <h1 className=\"page-title\">\n                    WorkStream Reporting\n                  </h1>\n                  <p className=\"page-subtitle\">\n                    View workstream summary and associated project objectives\n                  </p>\n                </div>\n              </div>\n              <div className=\"header-user-profile\">\n                <div className=\"user-profile\">\n                  <div className=\"user-avatar\">\n                    {(user?.email || 'U').charAt(0).toUpperCase()}\n                  </div>\n                  <span className=\"user-name\">{user?.email || 'User'}</span>\n                </div>\n                <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                  <LogOut size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkStreamReporting;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}