{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Documents/GitHub/project-tools/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import Sidebar from'../components/Sidebar';import useSidebarWidth from'../hooks/useSidebarWidth';import{Menu,LogOut,Clock,Plus,Edit,Trash2,Play,Pause,Calendar,Mail,Save,X,RefreshCw}from'lucide-react';import apiClient from'../config/api';import toast from'react-hot-toast';import DeleteConfirmModal from'../components/ReportBuilder/DeleteConfirmModal';import ScheduleReportModal from'../components/ReportBuilder/ScheduleReportModal';import EnhancedScheduleOptions from'../components/ReportBuilder/EnhancedScheduleOptions';import ReportConfiguration from'../components/ReportBuilder/ReportConfiguration';import FilterBuilder from'../components/ReportBuilder/FilterBuilder';import FieldSelector from'../components/ReportBuilder/FieldSelector';import'../styles/Sidebar.css';import'../styles/GlobalHeader.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ScheduledReports=()=>{var _formData$fields;const{user,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const sidebarWidth=useSidebarWidth(sidebarOpen);const[reports,setReports]=useState([]);const[loading,setLoading]=useState(false);const[showForm,setShowForm]=useState(false);const[editingReport,setEditingReport]=useState(null);const[availableObjects,setAvailableObjects]=useState([]);const[availableFields,setAvailableFields]=useState([]);const[filterOptions,setFilterOptions]=useState({});const[formData,setFormData]=useState({name:'',objectType:'',fields:[],filters:{},schedule:'daily',recipients:[],limit:10000,groupBy:null,sortBy:null,sortOrder:'ASC'});const[savedReportConfigs,setSavedReportConfigs]=useState([]);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[reportToDelete,setReportToDelete]=useState(null);const[showScheduleModal,setShowScheduleModal]=useState(false);const[formMode,setFormMode]=useState(null);// 'schedule-existing' or 'create-new'\nconst[scheduleConfig,setScheduleConfig]=useState({time:'09:00',timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,daysOfWeek:[],dayOfMonth:1});const[loadingFields,setLoadingFields]=useState(false);useEffect(()=>{loadReports();loadAvailableObjects();loadSavedReportConfigs();},[]);const loadSavedReportConfigs=()=>{try{const saved=localStorage.getItem('saved_reports');if(saved){setSavedReportConfigs(JSON.parse(saved));}}catch(error){console.error('Error loading saved report configs:',error);}};useEffect(()=>{if(formData.objectType){loadFieldsForObject(formData.objectType);loadFilterOptions(formData.objectType);}else{setAvailableFields([]);setFilterOptions({});}},[formData.objectType]);const loadReports=async()=>{setLoading(true);try{const response=await apiClient.get('/scheduled-reports');if(response.data.success){setReports(response.data.reports||[]);}}catch(error){toast.error('Failed to load scheduled reports');}finally{setLoading(false);}};const loadAvailableObjects=async()=>{try{const response=await apiClient.get('/update-object-fields/objects');if(response.data.success){setAvailableObjects(response.data.objects||[]);}}catch(error){console.error('Error loading objects:',error);}};const loadFieldsForObject=async objectType=>{setLoadingFields(true);try{// Add forReporting=true query parameter to include read-only fields\nconst response=await apiClient.get(\"/update-object-fields/fields/\".concat(encodeURIComponent(objectType),\"?forReporting=true\"));if(response.data.success){setAvailableFields(response.data.fields||[]);}else{toast.error(response.data.error||'Failed to load fields');}}catch(error){var _error$response,_error$response$data;console.error('Error loading fields:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to load fields');setAvailableFields([]);}finally{setLoadingFields(false);}};const loadFilterOptions=async objectType=>{try{const response=await apiClient.get(\"/update-object-fields/filter-options/\".concat(encodeURIComponent(objectType)));if(response.data.success){setFilterOptions(response.data.filterOptions||{});}}catch(error){console.error('Error loading filter options:',error);}};const handleSchedule=async()=>{if(!formData.name||!formData.objectType){toast.error('Name and object type are required');return;}if(formData.fields.length===0){toast.error('Please select at least one field');return;}// Validate schedule config based on schedule type\nif(formData.schedule==='weekly'&&(!scheduleConfig.daysOfWeek||scheduleConfig.daysOfWeek.length===0)){toast.error('Please select at least one day of the week');return;}const payload=_objectSpread(_objectSpread({},formData),{},{scheduleConfig:scheduleConfig});try{const response=editingReport?await apiClient.put(\"/scheduled-reports/\".concat(editingReport.id),payload):await apiClient.post('/scheduled-reports',payload);if(response.data.success){toast.success(\"Scheduled report \".concat(editingReport?'updated':'created'));setShowForm(false);setEditingReport(null);resetForm();loadReports();}}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||\"Failed to \".concat(editingReport?'update':'create',\" scheduled report\"));}};const handleFieldToggle=fieldName=>{if(formData.fields.includes(fieldName)){setFormData(_objectSpread(_objectSpread({},formData),{},{fields:formData.fields.filter(f=>f!==fieldName)}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{fields:[...formData.fields,fieldName]}));}};const updateFilter=newFilters=>{setFormData(_objectSpread(_objectSpread({},formData),{},{filters:newFilters}));};const handleDelete=id=>{setReportToDelete(id);setShowDeleteConfirm(true);};const confirmDelete=async()=>{if(!reportToDelete)return;try{const response=await apiClient.delete(\"/scheduled-reports/\".concat(reportToDelete));if(response.data.success){toast.success('Scheduled report deleted');loadReports();}}catch(error){toast.error('Failed to delete scheduled report');}finally{setShowDeleteConfirm(false);setReportToDelete(null);}};const handleToggle=async report=>{try{const response=await apiClient.put(\"/scheduled-reports/\".concat(report.id),{enabled:!report.enabled});if(response.data.success){toast.success(\"Report \".concat(report.enabled?'disabled':'enabled'));loadReports();}}catch(error){toast.error('Failed to toggle report');}};const resetForm=()=>{setFormData({name:'',objectType:'',fields:[],filters:{},schedule:'daily',recipients:[],limit:10000,groupBy:null,sortBy:null,sortOrder:'ASC'});setScheduleConfig({time:'09:00',timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,daysOfWeek:[],dayOfMonth:1});setFormMode(null);};const startEdit=report=>{setEditingReport(report);setFormData({name:report.name,objectType:report.objectType,fields:report.fields||[],filters:report.filters||{},schedule:report.schedule||'daily',recipients:report.recipients||[],limit:report.limit||10000,groupBy:report.groupBy||null,sortBy:report.sortBy||null,sortOrder:report.sortOrder||'ASC'});// Load schedule config if available\nif(report.scheduleConfig){setScheduleConfig(report.scheduleConfig);}setFormMode('create-new');setShowForm(true);};const handleScheduleExistingReport=report=>{setFormData({name:report.name,objectType:report.objectType,fields:report.fields||[],filters:report.filters||{},schedule:'daily',recipients:[],limit:report.limit||10000,groupBy:report.groupBy||null,sortBy:report.sortBy||null,sortOrder:report.sortOrder||'ASC'});setScheduleConfig({time:'09:00',timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,daysOfWeek:[],dayOfMonth:1});setFormMode('schedule-existing');setShowForm(true);setShowScheduleModal(false);// Load fields and filters for the selected report\nif(report.objectType){loadFieldsForObject(report.objectType);loadFilterOptions(report.objectType);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,toggleSidebar:()=>setSidebarOpen(!sidebarOpen)}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"\".concat(sidebarWidth,\"px\"),width:\"calc(100% - \".concat(sidebarWidth,\"px)\"),transition:'margin-left 0.2s ease, width 0.2s ease',transition:'margin-left 0.3s ease',width:sidebarOpen?'calc(100% - 320px)':'calc(100% - 80px)'},children:[/*#__PURE__*/_jsx(\"header\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"header-menu-toggle\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle sidebar\",children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Scheduled Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Create and manage automated reports\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-user-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:((user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.email)||'User'}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:18})})]})})]})}),/*#__PURE__*/_jsxs(\"main\",{style:{padding:'24px',background:'#f5f5f5',minHeight:'calc(100vh - 80px)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'20px',fontWeight:'600',margin:0,display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Clock,{size:24,color:\"#08979C\"}),\"Scheduled Reports\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[savedReportConfigs.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowScheduleModal(true),style:{padding:'8px 16px',background:'#08979C',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'6px',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.opacity='0.9',onMouseLeave:e=>e.target.style.opacity='1',children:[/*#__PURE__*/_jsx(Clock,{size:16}),\"Schedule Existing Report\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setEditingReport(null);resetForm();setFormMode('create-new');setShowForm(true);},style:{padding:'8px 16px',background:'#08979C',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'6px',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.opacity='0.9',onMouseLeave:e=>e.target.style.opacity='1',children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Create New Scheduled Report\"]})]})]}),showForm&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px',padding:'24px',background:'#fff',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'16px',fontWeight:'600',margin:0},children:formMode==='schedule-existing'?'Schedule Existing Report':editingReport?'Edit Scheduled Report':'Create New Scheduled Report'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowForm(false);setEditingReport(null);resetForm();},style:{background:'none',border:'none',cursor:'pointer',padding:'4px'},children:/*#__PURE__*/_jsx(X,{size:18})})]}),formMode==='schedule-existing'?/*#__PURE__*/// Schedule Existing Report - Only show schedule options\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px',padding:'12px',background:'#f0fdfa',borderRadius:'6px',border:'1px solid #08979C'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',fontWeight:'600',marginBottom:'4px'},children:formData.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[formData.objectType,\" \\u2022 \",((_formData$fields=formData.fields)===null||_formData$fields===void 0?void 0:_formData$fields.length)||0,\" field(s)\"]})]}),/*#__PURE__*/_jsx(EnhancedScheduleOptions,{schedule:formData.schedule,scheduleConfig:scheduleConfig,onScheduleChange:schedule=>setFormData(_objectSpread(_objectSpread({},formData),{},{schedule})),onConfigChange:setScheduleConfig}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSchedule,style:{padding:'8px 16px',background:'#08979C',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'6px',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.opacity='0.9',onMouseLeave:e=>e.target.style.opacity='1',children:[/*#__PURE__*/_jsx(Clock,{size:16}),\"Schedule\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowForm(false);setEditingReport(null);resetForm();},style:{padding:'8px 16px',background:'#fff',color:'#666',border:'1px solid #d9d9d9',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.background='#f5f5f5',onMouseLeave:e=>e.target.style.background='#fff',children:\"Cancel\"})]})]}):/*#__PURE__*/// Create New Scheduled Report - Show ReportBuilder components + schedule options\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:'12px',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Report Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),placeholder:\"Enter report name\",style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Record Limit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.limit,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{limit:parseInt(e.target.value)||10000})),min:\"1\",max:\"10000\",style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Object Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.objectType,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{objectType:e.target.value,fields:[],filters:{}})),style:{width:'100%',padding:'6px 10px',border:'1px solid #d9d9d9',borderRadius:'4px',fontSize:'12px',background:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Object Type\"}),availableObjects.map(obj=>/*#__PURE__*/_jsx(\"option\",{value:obj.value,children:obj.label},obj.value))]})]}),formData.objectType&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Fields * (Select at least one)\"}),/*#__PURE__*/_jsx(FieldSelector,{availableFields:availableFields,selectedFields:formData.fields,onFieldToggle:handleFieldToggle})]}),filterOptions&&Object.keys(filterOptions).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',fontWeight:'500',marginBottom:'4px'},children:\"Filters (Optional)\"}),/*#__PURE__*/_jsx(FilterBuilder,{availableFields:availableFields,filterOptions:filterOptions,filters:formData.filters,onFiltersChange:updateFilter})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:'1px solid #e5e7eb',paddingTop:'20px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'14px',fontWeight:'600',marginBottom:'16px'},children:\"Schedule Options\"}),/*#__PURE__*/_jsx(EnhancedScheduleOptions,{schedule:formData.schedule,scheduleConfig:scheduleConfig,onScheduleChange:schedule=>setFormData(_objectSpread(_objectSpread({},formData),{},{schedule})),onConfigChange:setScheduleConfig})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSchedule,style:{padding:'8px 16px',background:'#08979C',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',display:'flex',alignItems:'center',gap:'6px',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.opacity='0.9',onMouseLeave:e=>e.target.style.opacity='1',children:[/*#__PURE__*/_jsx(Clock,{size:16}),\"Schedule\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowForm(false);setEditingReport(null);resetForm();},style:{padding:'8px 16px',background:'#fff',color:'#666',border:'1px solid #d9d9d9',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'600',fontFamily:'Poppins',transition:'all 0.2s'},onMouseEnter:e=>e.target.style.background='#f5f5f5',onMouseLeave:e=>e.target.style.background='#fff',children:\"Cancel\"})]})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:32,className:\"spinner\",style:{marginBottom:'12px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]}):reports.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666',background:'#fff',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(Clock,{size:32,style:{marginBottom:'12px',opacity:0.5}}),/*#__PURE__*/_jsx(\"p\",{children:\"No scheduled reports. Create one to get started.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:reports.map(report=>{var _report$fields;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',background:'#fff',border:'1px solid #e5e7eb',borderRadius:'6px',display:'flex',justifyContent:'space-between',alignItems:'center',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'14px',fontWeight:'600',margin:0},children:report.name}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 8px',background:report.enabled?'#d1fae5':'#fee2e2',color:report.enabled?'#065f46':'#991b1b',borderRadius:'4px',fontSize:'11px',fontWeight:'500'},children:report.enabled?'Active':'Paused'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666',display:'flex',gap:'16px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(Calendar,{size:12}),report.schedule]}),/*#__PURE__*/_jsx(\"span\",{children:report.objectType}),/*#__PURE__*/_jsxs(\"span\",{children:[((_report$fields=report.fields)===null||_report$fields===void 0?void 0:_report$fields.length)||0,\" field(s)\"]}),report.lastRunAt&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Last run: \",new Date(report.lastRunAt).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleToggle(report),style:{padding:'6px 12px',background:report.enabled?'#fef3c7':'#d1fae5',color:report.enabled?'#92400e':'#065f46',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',display:'flex',alignItems:'center',gap:'4px'},children:[report.enabled?/*#__PURE__*/_jsx(Pause,{size:14}):/*#__PURE__*/_jsx(Play,{size:14}),report.enabled?'Pause':'Resume']}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>startEdit(report),style:{padding:'6px 12px',background:'#e0e7ff',color:'#3730a3',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(Edit,{size:14}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDelete(report.id),style:{padding:'6px 12px',background:'#fee2e2',color:'#991b1b',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(Trash2,{size:14}),\"Delete\"]})]})]},report.id);})})]})]}),/*#__PURE__*/_jsx(DeleteConfirmModal,{show:showDeleteConfirm,onConfirm:confirmDelete,onCancel:()=>{setShowDeleteConfirm(false);setReportToDelete(null);}}),/*#__PURE__*/_jsx(ScheduleReportModal,{show:showScheduleModal,savedReports:savedReportConfigs,onClose:()=>setShowScheduleModal(false),onSelect:handleScheduleExistingReport})]});};export default ScheduledReports;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Sidebar","useSidebarWidth","Menu","LogOut","Clock","Plus","Edit","Trash2","Play","Pause","Calendar","Mail","Save","X","RefreshCw","apiClient","toast","DeleteConfirmModal","ScheduleReportModal","EnhancedScheduleOptions","ReportConfiguration","FilterBuilder","FieldSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScheduledReports","_formData$fields","user","logout","sidebarOpen","setSidebarOpen","sidebarWidth","reports","setReports","loading","setLoading","showForm","setShowForm","editingReport","setEditingReport","availableObjects","setAvailableObjects","availableFields","setAvailableFields","filterOptions","setFilterOptions","formData","setFormData","name","objectType","fields","filters","schedule","recipients","limit","groupBy","sortBy","sortOrder","savedReportConfigs","setSavedReportConfigs","showDeleteConfirm","setShowDeleteConfirm","reportToDelete","setReportToDelete","showScheduleModal","setShowScheduleModal","formMode","setFormMode","scheduleConfig","setScheduleConfig","time","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","daysOfWeek","dayOfMonth","loadingFields","setLoadingFields","loadReports","loadAvailableObjects","loadSavedReportConfigs","saved","localStorage","getItem","JSON","parse","error","console","loadFieldsForObject","loadFilterOptions","response","get","data","success","objects","concat","encodeURIComponent","_error$response","_error$response$data","handleSchedule","length","payload","_objectSpread","put","id","post","resetForm","_error$response2","_error$response2$data","handleFieldToggle","fieldName","includes","filter","f","updateFilter","newFilters","handleDelete","confirmDelete","delete","handleToggle","report","enabled","startEdit","handleScheduleExistingReport","className","children","isOpen","toggleSidebar","style","marginLeft","width","transition","onClick","size","email","charAt","toUpperCase","title","padding","background","minHeight","display","justifyContent","alignItems","marginBottom","fontSize","fontWeight","margin","gap","color","border","borderRadius","cursor","fontFamily","onMouseEnter","e","target","opacity","onMouseLeave","boxShadow","onScheduleChange","onConfigChange","marginTop","gridTemplateColumns","type","value","onChange","placeholder","parseInt","min","max","map","obj","label","selectedFields","onFieldToggle","Object","keys","onFiltersChange","borderTop","paddingTop","textAlign","_report$fields","flex","flexWrap","lastRunAt","Date","toLocaleDateString","show","onConfirm","onCancel","savedReports","onClose","onSelect"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/pages/ScheduledReports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Sidebar from '../components/Sidebar';\nimport useSidebarWidth from '../hooks/useSidebarWidth';\nimport { Menu, LogOut, Clock, Plus, Edit, Trash2, Play, Pause, Calendar, Mail, Save, X, RefreshCw } from 'lucide-react';\nimport apiClient from '../config/api';\nimport toast from 'react-hot-toast';\nimport DeleteConfirmModal from '../components/ReportBuilder/DeleteConfirmModal';\nimport ScheduleReportModal from '../components/ReportBuilder/ScheduleReportModal';\nimport EnhancedScheduleOptions from '../components/ReportBuilder/EnhancedScheduleOptions';\nimport ReportConfiguration from '../components/ReportBuilder/ReportConfiguration';\nimport FilterBuilder from '../components/ReportBuilder/FilterBuilder';\nimport FieldSelector from '../components/ReportBuilder/FieldSelector';\nimport '../styles/Sidebar.css';\nimport '../styles/GlobalHeader.css';\n\nconst ScheduledReports = () => {\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const sidebarWidth = useSidebarWidth(sidebarOpen);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showForm, setShowForm] = useState(false);\n  const [editingReport, setEditingReport] = useState(null);\n  const [availableObjects, setAvailableObjects] = useState([]);\n  const [availableFields, setAvailableFields] = useState([]);\n  const [filterOptions, setFilterOptions] = useState({});\n  const [formData, setFormData] = useState({\n    name: '',\n    objectType: '',\n    fields: [],\n    filters: {},\n    schedule: 'daily',\n    recipients: [],\n    limit: 10000,\n    groupBy: null,\n    sortBy: null,\n    sortOrder: 'ASC'\n  });\n  const [savedReportConfigs, setSavedReportConfigs] = useState([]);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [reportToDelete, setReportToDelete] = useState(null);\n  const [showScheduleModal, setShowScheduleModal] = useState(false);\n  const [formMode, setFormMode] = useState(null); // 'schedule-existing' or 'create-new'\n  const [scheduleConfig, setScheduleConfig] = useState({\n    time: '09:00',\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    daysOfWeek: [],\n    dayOfMonth: 1\n  });\n  const [loadingFields, setLoadingFields] = useState(false);\n\n  useEffect(() => {\n    loadReports();\n    loadAvailableObjects();\n    loadSavedReportConfigs();\n  }, []);\n\n  const loadSavedReportConfigs = () => {\n    try {\n      const saved = localStorage.getItem('saved_reports');\n      if (saved) {\n        setSavedReportConfigs(JSON.parse(saved));\n      }\n    } catch (error) {\n      console.error('Error loading saved report configs:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (formData.objectType) {\n      loadFieldsForObject(formData.objectType);\n      loadFilterOptions(formData.objectType);\n    } else {\n      setAvailableFields([]);\n      setFilterOptions({});\n    }\n  }, [formData.objectType]);\n\n  const loadReports = async () => {\n    setLoading(true);\n    try {\n      const response = await apiClient.get('/scheduled-reports');\n      if (response.data.success) {\n        setReports(response.data.reports || []);\n      }\n    } catch (error) {\n      toast.error('Failed to load scheduled reports');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadAvailableObjects = async () => {\n    try {\n      const response = await apiClient.get('/update-object-fields/objects');\n      if (response.data.success) {\n        setAvailableObjects(response.data.objects || []);\n      }\n    } catch (error) {\n      console.error('Error loading objects:', error);\n    }\n  };\n\n  const loadFieldsForObject = async (objectType) => {\n    setLoadingFields(true);\n    try {\n      // Add forReporting=true query parameter to include read-only fields\n      const response = await apiClient.get(`/update-object-fields/fields/${encodeURIComponent(objectType)}?forReporting=true`);\n      if (response.data.success) {\n        setAvailableFields(response.data.fields || []);\n      } else {\n        toast.error(response.data.error || 'Failed to load fields');\n      }\n    } catch (error) {\n      console.error('Error loading fields:', error);\n      toast.error(error.response?.data?.error || 'Failed to load fields');\n      setAvailableFields([]);\n    } finally {\n      setLoadingFields(false);\n    }\n  };\n\n  const loadFilterOptions = async (objectType) => {\n    try {\n      const response = await apiClient.get(`/update-object-fields/filter-options/${encodeURIComponent(objectType)}`);\n      if (response.data.success) {\n        setFilterOptions(response.data.filterOptions || {});\n      }\n    } catch (error) {\n      console.error('Error loading filter options:', error);\n    }\n  };\n\n  const handleSchedule = async () => {\n    if (!formData.name || !formData.objectType) {\n      toast.error('Name and object type are required');\n      return;\n    }\n    if (formData.fields.length === 0) {\n      toast.error('Please select at least one field');\n      return;\n    }\n    \n    // Validate schedule config based on schedule type\n    if (formData.schedule === 'weekly' && (!scheduleConfig.daysOfWeek || scheduleConfig.daysOfWeek.length === 0)) {\n      toast.error('Please select at least one day of the week');\n      return;\n    }\n\n    const payload = {\n      ...formData,\n      scheduleConfig: scheduleConfig\n    };\n\n    try {\n      const response = editingReport\n        ? await apiClient.put(`/scheduled-reports/${editingReport.id}`, payload)\n        : await apiClient.post('/scheduled-reports', payload);\n      \n      if (response.data.success) {\n        toast.success(`Scheduled report ${editingReport ? 'updated' : 'created'}`);\n        setShowForm(false);\n        setEditingReport(null);\n        resetForm();\n        loadReports();\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || `Failed to ${editingReport ? 'update' : 'create'} scheduled report`);\n    }\n  };\n\n  const handleFieldToggle = (fieldName) => {\n    if (formData.fields.includes(fieldName)) {\n      setFormData({\n        ...formData,\n        fields: formData.fields.filter(f => f !== fieldName)\n      });\n    } else {\n      setFormData({\n        ...formData,\n        fields: [...formData.fields, fieldName]\n      });\n    }\n  };\n\n  const updateFilter = (newFilters) => {\n    setFormData({\n      ...formData,\n      filters: newFilters\n    });\n  };\n\n  const handleDelete = (id) => {\n    setReportToDelete(id);\n    setShowDeleteConfirm(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!reportToDelete) return;\n\n    try {\n      const response = await apiClient.delete(`/scheduled-reports/${reportToDelete}`);\n      if (response.data.success) {\n        toast.success('Scheduled report deleted');\n        loadReports();\n      }\n    } catch (error) {\n      toast.error('Failed to delete scheduled report');\n    } finally {\n      setShowDeleteConfirm(false);\n      setReportToDelete(null);\n    }\n  };\n\n  const handleToggle = async (report) => {\n    try {\n      const response = await apiClient.put(`/scheduled-reports/${report.id}`, {\n        enabled: !report.enabled\n      });\n      if (response.data.success) {\n        toast.success(`Report ${report.enabled ? 'disabled' : 'enabled'}`);\n        loadReports();\n      }\n    } catch (error) {\n      toast.error('Failed to toggle report');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      objectType: '',\n      fields: [],\n      filters: {},\n      schedule: 'daily',\n      recipients: [],\n      limit: 10000,\n      groupBy: null,\n      sortBy: null,\n      sortOrder: 'ASC'\n    });\n    setScheduleConfig({\n      time: '09:00',\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      daysOfWeek: [],\n      dayOfMonth: 1\n    });\n    setFormMode(null);\n  };\n\n  const startEdit = (report) => {\n    setEditingReport(report);\n    setFormData({\n      name: report.name,\n      objectType: report.objectType,\n      fields: report.fields || [],\n      filters: report.filters || {},\n      schedule: report.schedule || 'daily',\n      recipients: report.recipients || [],\n      limit: report.limit || 10000,\n      groupBy: report.groupBy || null,\n      sortBy: report.sortBy || null,\n      sortOrder: report.sortOrder || 'ASC'\n    });\n    // Load schedule config if available\n    if (report.scheduleConfig) {\n      setScheduleConfig(report.scheduleConfig);\n    }\n    setFormMode('create-new');\n    setShowForm(true);\n  };\n\n  const handleScheduleExistingReport = (report) => {\n    setFormData({\n      name: report.name,\n      objectType: report.objectType,\n      fields: report.fields || [],\n      filters: report.filters || {},\n      schedule: 'daily',\n      recipients: [],\n      limit: report.limit || 10000,\n      groupBy: report.groupBy || null,\n      sortBy: report.sortBy || null,\n      sortOrder: report.sortOrder || 'ASC'\n    });\n    setScheduleConfig({\n      time: '09:00',\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      daysOfWeek: [],\n      dayOfMonth: 1\n    });\n    setFormMode('schedule-existing');\n    setShowForm(true);\n    setShowScheduleModal(false);\n    // Load fields and filters for the selected report\n    if (report.objectType) {\n      loadFieldsForObject(report.objectType);\n      loadFilterOptions(report.objectType);\n    }\n  };\n\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar isOpen={sidebarOpen} toggleSidebar={() => setSidebarOpen(!sidebarOpen)} />\n      \n      <div style={{ marginLeft: `${sidebarWidth}px`, width: `calc(100% - ${sidebarWidth}px)`, transition: 'margin-left 0.2s ease, width 0.2s ease', transition: 'margin-left 0.3s ease', width: sidebarOpen ? 'calc(100% - 320px)' : 'calc(100% - 80px)' }}>\n        <header className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <div className=\"header-left\">\n              <button \n                className=\"header-menu-toggle\"\n                onClick={() => setSidebarOpen(!sidebarOpen)}\n                aria-label=\"Toggle sidebar\"\n              >\n                <Menu size={20} />\n              </button>\n              <div>\n                <h1 className=\"page-title\">Scheduled Reports</h1>\n                <p className=\"page-subtitle\">Create and manage automated reports</p>\n              </div>\n            </div>\n            <div className=\"header-user-profile\">\n              <div className=\"user-profile\">\n                <div className=\"user-avatar\">\n                  {(user?.email || 'U').charAt(0).toUpperCase()}\n                </div>\n                <span className=\"user-name\">{user?.email || 'User'}</span>\n                <button className=\"logout-btn\" onClick={logout} title=\"Logout\">\n                  <LogOut size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <main style={{ padding: '24px', background: '#f5f5f5', minHeight: 'calc(100vh - 80px)' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n            <h2 style={{ fontSize: '20px', fontWeight: '600', margin: 0, display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <Clock size={24} color=\"#08979C\" />\n              Scheduled Reports\n            </h2>\n            <div style={{ display: 'flex', gap: '8px' }}>\n              {savedReportConfigs.length > 0 && (\n                <button\n                  onClick={() => setShowScheduleModal(true)}\n                  style={{\n                    padding: '8px 16px',\n                    background: '#08979C',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    fontSize: '13px',\n                    fontWeight: '600',\n                    fontFamily: 'Poppins',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    transition: 'all 0.2s'\n                  }}\n                  onMouseEnter={(e) => e.target.style.opacity = '0.9'}\n                  onMouseLeave={(e) => e.target.style.opacity = '1'}\n                >\n                  <Clock size={16} />\n                  Schedule Existing Report\n                </button>\n              )}\n              <button\n                onClick={() => {\n                  setEditingReport(null);\n                  resetForm();\n                  setFormMode('create-new');\n                  setShowForm(true);\n                }}\n                style={{\n                  padding: '8px 16px',\n                  background: '#08979C',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  fontSize: '13px',\n                  fontWeight: '600',\n                  fontFamily: 'Poppins',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => e.target.style.opacity = '0.9'}\n                onMouseLeave={(e) => e.target.style.opacity = '1'}\n              >\n                <Plus size={16} />\n                Create New Scheduled Report\n              </button>\n            </div>\n          </div>\n\n          {showForm && (\n            <div style={{ marginBottom: '24px', padding: '24px', background: '#fff', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n                <h3 style={{ fontSize: '16px', fontWeight: '600', margin: 0 }}>\n                  {formMode === 'schedule-existing' ? 'Schedule Existing Report' : editingReport ? 'Edit Scheduled Report' : 'Create New Scheduled Report'}\n                </h3>\n                <button\n                  onClick={() => {\n                    setShowForm(false);\n                    setEditingReport(null);\n                    resetForm();\n                  }}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    padding: '4px'\n                  }}\n                >\n                  <X size={18} />\n                </button>\n              </div>\n\n              {formMode === 'schedule-existing' ? (\n                // Schedule Existing Report - Only show schedule options\n                <div>\n                  <div style={{ marginBottom: '16px', padding: '12px', background: '#f0fdfa', borderRadius: '6px', border: '1px solid #08979C' }}>\n                    <div style={{ fontSize: '13px', fontWeight: '600', marginBottom: '4px' }}>{formData.name}</div>\n                    <div style={{ fontSize: '12px', color: '#666' }}>\n                      {formData.objectType} â€¢ {formData.fields?.length || 0} field(s)\n                    </div>\n                  </div>\n                  \n                  <EnhancedScheduleOptions\n                    schedule={formData.schedule}\n                    scheduleConfig={scheduleConfig}\n                    onScheduleChange={(schedule) => setFormData({ ...formData, schedule })}\n                    onConfigChange={setScheduleConfig}\n                  />\n\n                  <div style={{ display: 'flex', gap: '8px', marginTop: '20px' }}>\n                    <button\n                      onClick={handleSchedule}\n                      style={{\n                        padding: '8px 16px',\n                        background: '#08979C',\n                        color: '#fff',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        fontWeight: '600',\n                        fontFamily: 'Poppins',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '6px',\n                        transition: 'all 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.target.style.opacity = '0.9'}\n                      onMouseLeave={(e) => e.target.style.opacity = '1'}\n                    >\n                      <Clock size={16} />\n                      Schedule\n                    </button>\n                    <button\n                      onClick={() => {\n                        setShowForm(false);\n                        setEditingReport(null);\n                        resetForm();\n                      }}\n                      style={{\n                        padding: '8px 16px',\n                        background: '#fff',\n                        color: '#666',\n                        border: '1px solid #d9d9d9',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        fontWeight: '600',\n                        fontFamily: 'Poppins',\n                        transition: 'all 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n                      onMouseLeave={(e) => e.target.style.background = '#fff'}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                // Create New Scheduled Report - Show ReportBuilder components + schedule options\n                <div>\n                  {/* Report Configuration using ReportBuilder components */}\n                  <div style={{ marginBottom: '24px' }}>\n                    <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '12px', marginBottom: '12px' }}>\n                      <div>\n                        <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                          Report Name *\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={formData.name}\n                          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                          placeholder=\"Enter report name\"\n                          style={{\n                            width: '100%',\n                            padding: '6px 10px',\n                            border: '1px solid #d9d9d9',\n                            borderRadius: '4px',\n                            fontSize: '12px'\n                          }}\n                        />\n                      </div>\n                      <div>\n                        <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                          Record Limit\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={formData.limit}\n                          onChange={(e) => setFormData({ ...formData, limit: parseInt(e.target.value) || 10000 })}\n                          min=\"1\"\n                          max=\"10000\"\n                          style={{\n                            width: '100%',\n                            padding: '6px 10px',\n                            border: '1px solid #d9d9d9',\n                            borderRadius: '4px',\n                            fontSize: '12px'\n                          }}\n                        />\n                      </div>\n                    </div>\n\n                    <div style={{ marginBottom: '12px' }}>\n                      <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                        Object Type *\n                      </label>\n                      <select\n                        value={formData.objectType}\n                        onChange={(e) => setFormData({ ...formData, objectType: e.target.value, fields: [], filters: {} })}\n                        style={{\n                          width: '100%',\n                          padding: '6px 10px',\n                          border: '1px solid #d9d9d9',\n                          borderRadius: '4px',\n                          fontSize: '12px',\n                          background: '#fff'\n                        }}\n                      >\n                        <option value=\"\">Select Object Type</option>\n                        {availableObjects.map(obj => (\n                          <option key={obj.value} value={obj.value}>{obj.label}</option>\n                        ))}\n                      </select>\n                    </div>\n\n                    {formData.objectType && (\n                      <>\n                        <div style={{ marginBottom: '12px' }}>\n                          <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                            Fields * (Select at least one)\n                          </label>\n                          <FieldSelector\n                            availableFields={availableFields}\n                            selectedFields={formData.fields}\n                            onFieldToggle={handleFieldToggle}\n                          />\n                        </div>\n\n                        {filterOptions && Object.keys(filterOptions).length > 0 && (\n                          <div style={{ marginBottom: '12px' }}>\n                            <label style={{ display: 'block', fontSize: '12px', fontWeight: '500', marginBottom: '4px' }}>\n                              Filters (Optional)\n                            </label>\n                            <FilterBuilder\n                              availableFields={availableFields}\n                              filterOptions={filterOptions}\n                              filters={formData.filters}\n                              onFiltersChange={updateFilter}\n                            />\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n\n                  {/* Schedule Options */}\n                  <div style={{ borderTop: '1px solid #e5e7eb', paddingTop: '20px', marginTop: '20px' }}>\n                    <h4 style={{ fontSize: '14px', fontWeight: '600', marginBottom: '16px' }}>Schedule Options</h4>\n                    <EnhancedScheduleOptions\n                      schedule={formData.schedule}\n                      scheduleConfig={scheduleConfig}\n                      onScheduleChange={(schedule) => setFormData({ ...formData, schedule })}\n                      onConfigChange={setScheduleConfig}\n                    />\n                  </div>\n\n                  <div style={{ display: 'flex', gap: '8px', marginTop: '20px' }}>\n                    <button\n                      onClick={handleSchedule}\n                      style={{\n                        padding: '8px 16px',\n                        background: '#08979C',\n                        color: '#fff',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        fontWeight: '600',\n                        fontFamily: 'Poppins',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '6px',\n                        transition: 'all 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.target.style.opacity = '0.9'}\n                      onMouseLeave={(e) => e.target.style.opacity = '1'}\n                    >\n                      <Clock size={16} />\n                      Schedule\n                    </button>\n                    <button\n                      onClick={() => {\n                        setShowForm(false);\n                        setEditingReport(null);\n                        resetForm();\n                      }}\n                      style={{\n                        padding: '8px 16px',\n                        background: '#fff',\n                        color: '#666',\n                        border: '1px solid #d9d9d9',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '13px',\n                        fontWeight: '600',\n                        fontFamily: 'Poppins',\n                        transition: 'all 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n                      onMouseLeave={(e) => e.target.style.background = '#fff'}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {loading ? (\n            <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n              <RefreshCw size={32} className=\"spinner\" style={{ marginBottom: '12px' }} />\n              <p>Loading...</p>\n            </div>\n          ) : reports.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '40px', color: '#666', background: '#fff', borderRadius: '8px' }}>\n              <Clock size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n              <p>No scheduled reports. Create one to get started.</p>\n            </div>\n          ) : (\n            <div style={{ display: 'grid', gap: '12px' }}>\n              {reports.map(report => (\n                <div\n                  key={report.id}\n                  style={{\n                    padding: '16px',\n                    background: '#fff',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '6px',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                  }}\n                >\n                  <div style={{ flex: 1 }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\n                      <h4 style={{ fontSize: '14px', fontWeight: '600', margin: 0 }}>{report.name}</h4>\n                      <span\n                        style={{\n                          padding: '2px 8px',\n                          background: report.enabled ? '#d1fae5' : '#fee2e2',\n                          color: report.enabled ? '#065f46' : '#991b1b',\n                          borderRadius: '4px',\n                          fontSize: '11px',\n                          fontWeight: '500'\n                        }}\n                      >\n                        {report.enabled ? 'Active' : 'Paused'}\n                      </span>\n                    </div>\n                    <div style={{ fontSize: '12px', color: '#666', display: 'flex', gap: '16px', flexWrap: 'wrap' }}>\n                      <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <Calendar size={12} />\n                        {report.schedule}\n                      </span>\n                      <span>{report.objectType}</span>\n                      <span>{report.fields?.length || 0} field(s)</span>\n                      {report.lastRunAt && (\n                        <span>Last run: {new Date(report.lastRunAt).toLocaleDateString()}</span>\n                      )}\n                    </div>\n                  </div>\n                  <div style={{ display: 'flex', gap: '8px' }}>\n                    <button\n                      onClick={() => handleToggle(report)}\n                      style={{\n                        padding: '6px 12px',\n                        background: report.enabled ? '#fef3c7' : '#d1fae5',\n                        color: report.enabled ? '#92400e' : '#065f46',\n                        border: 'none',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px'\n                      }}\n                    >\n                      {report.enabled ? <Pause size={14} /> : <Play size={14} />}\n                      {report.enabled ? 'Pause' : 'Resume'}\n                    </button>\n                    <button\n                      onClick={() => startEdit(report)}\n                      style={{\n                        padding: '6px 12px',\n                        background: '#e0e7ff',\n                        color: '#3730a3',\n                        border: 'none',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px'\n                      }}\n                    >\n                      <Edit size={14} />\n                      Edit\n                    </button>\n                    <button\n                      onClick={() => handleDelete(report.id)}\n                      style={{\n                        padding: '6px 12px',\n                        background: '#fee2e2',\n                        color: '#991b1b',\n                        border: 'none',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px'\n                      }}\n                    >\n                      <Trash2 size={14} />\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </main>\n      </div>\n      <DeleteConfirmModal\n        show={showDeleteConfirm}\n        onConfirm={confirmDelete}\n        onCancel={() => {\n          setShowDeleteConfirm(false);\n          setReportToDelete(null);\n        }}\n      />\n      <ScheduleReportModal\n        show={showScheduleModal}\n        savedReports={savedReportConfigs}\n        onClose={() => setShowScheduleModal(false)}\n        onSelect={handleScheduleExistingReport}\n      />\n    </div>\n  );\n};\n\nexport default ScheduledReports;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}