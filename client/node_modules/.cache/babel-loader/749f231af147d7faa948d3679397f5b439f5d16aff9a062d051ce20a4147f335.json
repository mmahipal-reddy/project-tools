{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/components/ReportBuilder/ReportViewPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { X, Edit2, Download, BarChart3, RefreshCw, FileSpreadsheet, FileText, File } from 'lucide-react';\nimport { exportData } from '../../utils/crossFeature/exportService';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportViewPanel = ({\n  previewData,\n  fieldLabelMap,\n  reportName,\n  onEdit,\n  onClose,\n  onLoadMore,\n  hasMore,\n  totalCount,\n  canEdit = true\n}) => {\n  _s();\n  const [showExportMenu, setShowExportMenu] = useState(false);\n  const exportMenuRef = useRef(null);\n  const [displayedData, setDisplayedData] = useState([]);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const initialLoadSize = 100;\n  useEffect(() => {\n    if (previewData && previewData.length > 0) {\n      // Filter out attributes column and show all data\n      const filteredData = previewData.map(record => {\n        const cleaned = {\n          ...record\n        };\n        delete cleaned.attributes;\n        return cleaned;\n      });\n      setDisplayedData(filteredData); // Show all records, not just first 100\n    } else {\n      setDisplayedData([]);\n    }\n  }, [previewData]);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (exportMenuRef.current && !exportMenuRef.current.contains(event.target)) {\n        setShowExportMenu(false);\n      }\n    };\n    if (showExportMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showExportMenu]);\n  const handleExport = format => {\n    if (!displayedData || displayedData.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    // Prepare data with field labels (same format as displayed in view)\n    const exportDataWithLabels = displayedData.filter(row => !row._isGroupHeader) // Exclude group headers from export\n    .map(row => {\n      const mappedRow = {};\n      Object.keys(row).forEach(key => {\n        if (key !== 'attributes' && !key.startsWith('_')) {\n          const label = fieldLabelMap[key] || key;\n          // Handle relationship fields\n          const value = row[key];\n          if (value && typeof value === 'object' && value.Name) {\n            mappedRow[label] = value.Name;\n          } else if (key.endsWith('__c') && !key.includes('__r')) {\n            // Check for relationship field - try different patterns\n            const baseField = key.replace('__c', '');\n            const possibleRelationshipFields = [`${baseField}__r.Name`, `${baseField}.Name`, `${baseField}__r.name`, `${baseField}.name`];\n\n            // Find the first matching relationship field\n            let foundRelField = null;\n            for (const relField of possibleRelationshipFields) {\n              if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                foundRelField = row[relField];\n                break;\n              }\n            }\n\n            // Also check all keys for any relationship field that might match\n            if (!foundRelField) {\n              const matchingRelField = Object.keys(row).find(k => {\n                if (k === key || k.startsWith('_')) return false;\n                const lowerK = k.toLowerCase();\n                const lowerBase = baseField.toLowerCase();\n                return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n              });\n              if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                foundRelField = row[matchingRelField];\n              }\n            }\n            mappedRow[label] = foundRelField || (value !== null && value !== undefined ? value : '');\n          } else {\n            mappedRow[label] = value !== null && value !== undefined ? value : '';\n          }\n        }\n      });\n      return mappedRow;\n    });\n    const result = exportData(exportDataWithLabels, reportName || 'report', format);\n    if (result.success) {\n      toast.success(`Exported to ${result.filename}`);\n    } else {\n      toast.error(result.error || 'Export failed');\n    }\n    setShowExportMenu(false);\n  };\n  const handleScroll = () => {\n    if (!scrollContainerRef.current || loadingMore || !hasMore) return;\n    const container = scrollContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n\n    // Load more when user scrolls to within 200px of bottom\n    // Only needed if we have more data from server (hasMore) and onLoadMore callback\n    if (scrollTop + clientHeight >= scrollHeight - 200) {\n      if (onLoadMore && hasMore && displayedData.length >= previewData.length) {\n        // Fetch more data from server\n        setLoadingMore(true);\n        onLoadMore(displayedData.length).finally(() => {\n          setLoadingMore(false);\n        });\n      }\n    }\n  };\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [displayedData.length, hasMore, loadingMore]);\n  const getFieldLabel = fieldName => {\n    // Special handling for common fields\n    if (fieldName === 'Id') return 'Record ID';\n    if (fieldName === 'Name') return 'Name';\n\n    // Try exact match first\n    if (fieldLabelMap && fieldLabelMap[fieldName]) {\n      return fieldLabelMap[fieldName];\n    }\n    // Try alternative naming convention (__c vs _c__c)\n    // Check if field ends with _c__c first (more specific)\n    let altName = null;\n    if (fieldName.endsWith('_c__c')) {\n      // Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\n      altName = fieldName.replace(/_c__c$/, '__c');\n    } else if (fieldName.endsWith('__c')) {\n      // Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\n      altName = fieldName.replace(/__c$/, '_c__c');\n    }\n    if (altName && fieldLabelMap && fieldLabelMap[altName]) {\n      return fieldLabelMap[altName];\n    }\n    // Fallback: try to create a readable label from the field name\n    if (fieldName.includes('Active_Contributors')) return 'Active Contributors';\n    if (fieldName.includes('Applied_Contributors')) return 'Applied Contributors';\n    if (fieldName.includes('Qualified_Contributors')) return 'Qualified Contributors';\n    if (fieldName.includes('Removed')) return 'Removed';\n    // Default: return the field name\n    return fieldName;\n  };\n\n  // Filter out attributes and internal metadata from column headers\n  const getColumns = () => {\n    if (displayedData.length === 0) return [];\n    // Get columns from first non-header row\n    const firstDataRow = displayedData.find(row => !row._isGroupHeader);\n    if (!firstDataRow) return [];\n    const allKeys = Object.keys(firstDataRow);\n    return allKeys.filter(key => {\n      // Exclude internal metadata fields\n      if (key === 'attributes' || key.startsWith('_')) return false;\n\n      // Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n      // Relationship objects end with __r and don't contain a dot\n      if (key.endsWith('__r') && !key.includes('.')) {\n        const value = firstDataRow[key];\n        // Always exclude relationship objects (they are nested objects, not displayable values)\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n          return false;\n        }\n        // Also exclude if it's null/undefined or any other type - we want the base field instead\n        return false;\n      }\n\n      // Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n      // This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\n      if (key.includes('__r.') || key.includes('__r.Name') || key.includes('__r.name')) {\n        // Extract the base field name (e.g., Account__r.Name -> Account__c)\n        const baseFieldMatch = key.match(/^(.+?)__r\\./);\n        if (baseFieldMatch) {\n          const baseField = `${baseFieldMatch[1]}__c`;\n          // If the base lookup field exists, exclude the relationship field\n          if (allKeys.includes(baseField)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  };\n  const columns = getColumns();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: '#fff',\n      borderRadius: '8px',\n      padding: '24px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      width: '100%',\n      height: 'calc(100vh - 200px)',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '16px',\n            fontWeight: '600',\n            margin: 0,\n            marginBottom: '4px'\n          },\n          children: \"Report View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#666'\n          },\n          children: [\"Showing \", displayedData.length, \" of \", totalCount || previewData.length, \" \", totalCount || previewData.length === 1 ? 'entry' : 'entries']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'center',\n          position: 'relative'\n        },\n        children: [canEdit && onEdit && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          style: {\n            padding: '6px 12px',\n            background: '#08979C',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '12px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Edit2, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: exportMenuRef,\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowExportMenu(!showExportMenu),\n            style: {\n              padding: '6px 12px',\n              background: '#059669',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), \"Export\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), showExportMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '100%',\n              right: 0,\n              marginTop: '4px',\n              background: '#fff',\n              border: '1px solid #d9d9d9',\n              borderRadius: '6px',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              zIndex: 1000,\n              minWidth: '150px',\n              overflow: 'hidden'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleExport('excel'),\n              style: {\n                width: '100%',\n                padding: '8px 12px',\n                background: 'transparent',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: '12px',\n                textAlign: 'left',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                color: '#002329'\n              },\n              onMouseEnter: e => e.target.style.background = '#f5f5f5',\n              onMouseLeave: e => e.target.style.background = 'transparent',\n              children: [/*#__PURE__*/_jsxDEV(FileSpreadsheet, {\n                size: 14,\n                color: \"#08979C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), \"Export as Excel (XLSX)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleExport('csv'),\n              style: {\n                width: '100%',\n                padding: '8px 12px',\n                background: 'transparent',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: '12px',\n                textAlign: 'left',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                color: '#002329',\n                borderTop: '1px solid #f0f0f0'\n              },\n              onMouseEnter: e => e.target.style.background = '#f5f5f5',\n              onMouseLeave: e => e.target.style.background = 'transparent',\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                size: 14,\n                color: \"#08979C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), \"Export as CSV\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleExport('pdf'),\n              style: {\n                width: '100%',\n                padding: '8px 12px',\n                background: 'transparent',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: '12px',\n                textAlign: 'left',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                color: '#002329',\n                borderTop: '1px solid #f0f0f0'\n              },\n              onMouseEnter: e => e.target.style.background = '#f5f5f5',\n              onMouseLeave: e => e.target.style.background = 'transparent',\n              children: [/*#__PURE__*/_jsxDEV(File, {\n                size: 14,\n                color: \"#08979C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), \"Export as PDF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            padding: '4px'\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), displayedData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: scrollContainerRef,\n      style: {\n        border: '1px solid #e5e7eb',\n        borderRadius: '6px',\n        overflow: 'auto',\n        flex: 1,\n        minHeight: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          fontSize: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          style: {\n            background: '#f9fafb',\n            position: 'sticky',\n            top: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: columns.map(key => /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '8px 12px',\n                textAlign: 'left',\n                borderBottom: '1px solid #e5e7eb',\n                fontWeight: '600'\n              },\n              children: getFieldLabel(key)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: displayedData.map((row, idx) => {\n            // Check if this is a group header row\n            if (row._isGroupHeader) {\n              const groupLabel = fieldLabelMap[row._groupByField] || row._groupByField || 'Group';\n              // Prioritize _groupKey which should have the display value (name), not the ID\n              let groupValue = row._groupKey || '(No Value)';\n\n              // If _groupKey is an ID (18 characters), try to find the relationship field\n              if (typeof groupValue === 'string' && groupValue.length === 18 && row._groupByField && row._groupByField.endsWith('__c')) {\n                const baseField = row._groupByField.replace('__c', '');\n                const possibleRelFields = [`${baseField}__r.Name`, `${baseField}.Name`, `${baseField}__r.name`, `${baseField}.name`];\n                for (const relField of possibleRelFields) {\n                  if (row[relField]) {\n                    groupValue = row[relField];\n                    break;\n                  }\n                }\n                // Also check for nested relationship object\n                if (groupValue.length === 18 && row[`${baseField}__r`] && row[`${baseField}__r`].Name) {\n                  groupValue = row[`${baseField}__r`].Name;\n                }\n              }\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  background: '#f0f9ff',\n                  borderTop: '2px solid #08979C',\n                  borderBottom: '2px solid #08979C'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: columns.length,\n                  style: {\n                    padding: '12px 16px',\n                    fontWeight: '600',\n                    fontSize: '13px',\n                    color: '#08979C'\n                  },\n                  children: [groupLabel, \": \", groupValue]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this)\n              }, `group-${idx}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this);\n            }\n\n            // Regular data row\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid #f3f4f6'\n              },\n              children: columns.map((key, vIdx) => {\n                const value = row[key];\n\n                // Debug: Log Account field data for first row\n                if (idx === 0 && key === 'Account__c') {\n                  console.log('[ReportViewPanel] Account field data:', {\n                    key,\n                    value,\n                    rowKeys: Object.keys(row),\n                    accountFields: Object.keys(row).filter(k => k.toLowerCase().includes('account'))\n                  });\n                }\n\n                // Handle relationship fields (e.g., Account__r.Name)\n                if (value && typeof value === 'object' && value.Name) {\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '8px 12px'\n                    },\n                    children: value.Name\n                  }, vIdx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 27\n                  }, this);\n                }\n                // Handle lookup fields - check for relationship Name fields\n                // The relationship field could be Account__r.Name or Account.Name depending on metadata\n                if (key.endsWith('__c') && !key.includes('__r')) {\n                  // First check if value is an ID (18 character Salesforce ID)\n                  const isId = typeof value === 'string' && value.length === 18;\n\n                  // Try different relationship field patterns\n                  const baseField = key.replace('__c', '');\n                  const possibleRelationshipFields = [`${baseField}__r.Name`,\n                  // Standard pattern: Account__c -> Account__r.Name\n                  `${baseField}.Name`,\n                  // Alternative: Account__c -> Account.Name\n                  `${baseField}__r.name`,\n                  // Lowercase variant\n                  `${baseField}.name` // Lowercase variant\n                  ];\n\n                  // Find the first matching relationship field\n                  for (const relField of possibleRelationshipFields) {\n                    if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                      return /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 12px'\n                        },\n                        children: row[relField]\n                      }, vIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 31\n                      }, this);\n                    }\n                  }\n\n                  // Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\n                  const relObjKey = `${baseField}__r`;\n                  if (row[relObjKey] && typeof row[relObjKey] === 'object' && row[relObjKey].Name) {\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '8px 12px'\n                      },\n                      children: row[relObjKey].Name\n                    }, vIdx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 29\n                    }, this);\n                  }\n\n                  // Also try without __r suffix\n                  const relObjKey2 = baseField;\n                  if (row[relObjKey2] && typeof row[relObjKey2] === 'object' && row[relObjKey2].Name) {\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '8px 12px'\n                      },\n                      children: row[relObjKey2].Name\n                    }, vIdx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 29\n                    }, this);\n                  }\n\n                  // Also check all keys for any relationship field that might match\n                  // Look for fields that contain the base field name and end with .Name or __r.Name\n                  const matchingRelField = Object.keys(row).find(k => {\n                    if (k === key || k.startsWith('_')) return false;\n                    const lowerK = k.toLowerCase();\n                    const lowerBase = baseField.toLowerCase();\n                    return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                  });\n                  if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '8px 12px'\n                      },\n                      children: row[matchingRelField]\n                    }, vIdx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 512,\n                      columnNumber: 29\n                    }, this);\n                  }\n\n                  // If it's an ID and we couldn't find the relationship field, show the ID\n                  // (This means the relationship field wasn't queried or doesn't exist)\n                  if (isId) {\n                    // Try to find any field that contains the base field name and has Name\n                    const anyRelField = Object.keys(row).find(k => {\n                      if (k === key || k.startsWith('_')) return false;\n                      const lowerK = k.toLowerCase();\n                      const lowerBase = baseField.toLowerCase();\n                      return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && (k.includes('Name') || k.includes('name'));\n                    });\n                    if (anyRelField && row[anyRelField] !== undefined && row[anyRelField] !== null && row[anyRelField] !== '') {\n                      return /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 12px'\n                        },\n                        children: row[anyRelField]\n                      }, vIdx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 31\n                      }, this);\n                    }\n                  }\n                }\n                // Handle count fields - ensure they display as numbers\n                if (key.includes('Contributors') && (typeof value === 'number' || value === 0)) {\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '8px 12px',\n                      fontWeight: '500'\n                    },\n                    children: value\n                  }, vIdx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 27\n                  }, this);\n                }\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '8px 12px'\n                  },\n                  children: value !== null && value !== undefined ? String(value) : '--'\n                }, vIdx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 25\n                }, this);\n              })\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), loadingMore && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '12px',\n          textAlign: 'center',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 16,\n          className: \"spinning\",\n          style: {\n            display: 'inline-block',\n            marginRight: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 15\n        }, this), \"Loading more records...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 13\n      }, this), !hasMore && displayedData.length >= (totalCount || previewData.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '12px',\n          textAlign: 'center',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: [\"All \", totalCount || previewData.length, \" records loaded\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center',\n        color: '#666'\n      },\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        size: 32,\n        style: {\n          marginBottom: '12px',\n          opacity: 0.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data to preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportViewPanel, \"9gvz1uIutn49t5XCWlmsAxyYjz4=\");\n_c = ReportViewPanel;\nexport default ReportViewPanel;\nvar _c;\n$RefreshReg$(_c, \"ReportViewPanel\");","map":{"version":3,"names":["React","useState","useEffect","useRef","X","Edit2","Download","BarChart3","RefreshCw","FileSpreadsheet","FileText","File","exportData","toast","jsxDEV","_jsxDEV","ReportViewPanel","previewData","fieldLabelMap","reportName","onEdit","onClose","onLoadMore","hasMore","totalCount","canEdit","_s","showExportMenu","setShowExportMenu","exportMenuRef","displayedData","setDisplayedData","loadingMore","setLoadingMore","scrollContainerRef","initialLoadSize","length","filteredData","map","record","cleaned","attributes","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleExport","format","error","exportDataWithLabels","filter","row","_isGroupHeader","mappedRow","Object","keys","forEach","key","startsWith","label","value","Name","endsWith","includes","baseField","replace","possibleRelationshipFields","foundRelField","relField","undefined","matchingRelField","find","k","lowerK","toLowerCase","lowerBase","result","success","filename","handleScroll","container","scrollTop","scrollHeight","clientHeight","finally","getFieldLabel","fieldName","altName","getColumns","firstDataRow","allKeys","Array","isArray","baseFieldMatch","match","columns","style","background","borderRadius","padding","boxShadow","width","height","display","flexDirection","children","justifyContent","alignItems","marginBottom","fontSize","fontWeight","margin","fileName","_jsxFileName","lineNumber","columnNumber","color","gap","position","onClick","border","cursor","size","ref","top","right","marginTop","zIndex","minWidth","overflow","textAlign","onMouseEnter","e","onMouseLeave","borderTop","flex","minHeight","borderCollapse","borderBottom","idx","groupLabel","_groupByField","groupValue","_groupKey","possibleRelFields","colSpan","vIdx","console","log","rowKeys","accountFields","isId","relObjKey","relObjKey2","anyRelField","String","className","marginRight","opacity","_c","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/ReportBuilder/ReportViewPanel.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { X, Edit2, Download, BarChart3, RefreshCw, FileSpreadsheet, FileText, File } from 'lucide-react';\nimport { exportData } from '../../utils/crossFeature/exportService';\nimport toast from 'react-hot-toast';\n\nconst ReportViewPanel = ({\n  previewData,\n  fieldLabelMap,\n  reportName,\n  onEdit,\n  onClose,\n  onLoadMore,\n  hasMore,\n  totalCount,\n  canEdit = true\n}) => {\n  const [showExportMenu, setShowExportMenu] = useState(false);\n  const exportMenuRef = useRef(null);\n  const [displayedData, setDisplayedData] = useState([]);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const scrollContainerRef = useRef(null);\n  const initialLoadSize = 100;\n\n  useEffect(() => {\n    if (previewData && previewData.length > 0) {\n      // Filter out attributes column and show all data\n      const filteredData = previewData.map(record => {\n        const cleaned = { ...record };\n        delete cleaned.attributes;\n        return cleaned;\n      });\n      setDisplayedData(filteredData); // Show all records, not just first 100\n    } else {\n      setDisplayedData([]);\n    }\n  }, [previewData]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (exportMenuRef.current && !exportMenuRef.current.contains(event.target)) {\n        setShowExportMenu(false);\n      }\n    };\n\n    if (showExportMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showExportMenu]);\n\n  const handleExport = (format) => {\n    if (!displayedData || displayedData.length === 0) {\n      toast.error('No data to export');\n      return;\n    }\n\n    // Prepare data with field labels (same format as displayed in view)\n    const exportDataWithLabels = displayedData\n      .filter(row => !row._isGroupHeader) // Exclude group headers from export\n      .map(row => {\n        const mappedRow = {};\n        Object.keys(row).forEach(key => {\n          if (key !== 'attributes' && !key.startsWith('_')) {\n            const label = fieldLabelMap[key] || key;\n            // Handle relationship fields\n            const value = row[key];\n            if (value && typeof value === 'object' && value.Name) {\n              mappedRow[label] = value.Name;\n            } else if (key.endsWith('__c') && !key.includes('__r')) {\n              // Check for relationship field - try different patterns\n              const baseField = key.replace('__c', '');\n              const possibleRelationshipFields = [\n                `${baseField}__r.Name`,\n                `${baseField}.Name`,\n                `${baseField}__r.name`,\n                `${baseField}.name`\n              ];\n              \n              // Find the first matching relationship field\n              let foundRelField = null;\n              for (const relField of possibleRelationshipFields) {\n                if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                  foundRelField = row[relField];\n                  break;\n                }\n              }\n              \n              // Also check all keys for any relationship field that might match\n              if (!foundRelField) {\n                const matchingRelField = Object.keys(row).find(k => {\n                  if (k === key || k.startsWith('_')) return false;\n                  const lowerK = k.toLowerCase();\n                  const lowerBase = baseField.toLowerCase();\n                  return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                         (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                });\n                if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                  foundRelField = row[matchingRelField];\n                }\n              }\n              \n              mappedRow[label] = foundRelField || (value !== null && value !== undefined ? value : '');\n            } else {\n              mappedRow[label] = value !== null && value !== undefined ? value : '';\n            }\n          }\n        });\n        return mappedRow;\n      });\n\n    const result = exportData(exportDataWithLabels, reportName || 'report', format);\n    if (result.success) {\n      toast.success(`Exported to ${result.filename}`);\n    } else {\n      toast.error(result.error || 'Export failed');\n    }\n    setShowExportMenu(false);\n  };\n\n  const handleScroll = () => {\n    if (!scrollContainerRef.current || loadingMore || !hasMore) return;\n\n    const container = scrollContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n\n    // Load more when user scrolls to within 200px of bottom\n    // Only needed if we have more data from server (hasMore) and onLoadMore callback\n    if (scrollTop + clientHeight >= scrollHeight - 200) {\n      if (onLoadMore && hasMore && displayedData.length >= previewData.length) {\n        // Fetch more data from server\n        setLoadingMore(true);\n        onLoadMore(displayedData.length).finally(() => {\n          setLoadingMore(false);\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, [displayedData.length, hasMore, loadingMore]);\n\n  const getFieldLabel = (fieldName) => {\n    // Special handling for common fields\n    if (fieldName === 'Id') return 'Record ID';\n    if (fieldName === 'Name') return 'Name';\n    \n    // Try exact match first\n    if (fieldLabelMap && fieldLabelMap[fieldName]) {\n      return fieldLabelMap[fieldName];\n    }\n    // Try alternative naming convention (__c vs _c__c)\n    // Check if field ends with _c__c first (more specific)\n    let altName = null;\n    if (fieldName.endsWith('_c__c')) {\n      // Convert _c__c to __c (e.g., Active_Contributors_c__c -> Active_Contributors__c)\n      altName = fieldName.replace(/_c__c$/, '__c');\n    } else if (fieldName.endsWith('__c')) {\n      // Convert __c to _c__c (e.g., Active_Contributors__c -> Active_Contributors_c__c)\n      altName = fieldName.replace(/__c$/, '_c__c');\n    }\n    if (altName && fieldLabelMap && fieldLabelMap[altName]) {\n      return fieldLabelMap[altName];\n    }\n    // Fallback: try to create a readable label from the field name\n    if (fieldName.includes('Active_Contributors')) return 'Active Contributors';\n    if (fieldName.includes('Applied_Contributors')) return 'Applied Contributors';\n    if (fieldName.includes('Qualified_Contributors')) return 'Qualified Contributors';\n    if (fieldName.includes('Removed')) return 'Removed';\n    // Default: return the field name\n    return fieldName;\n  };\n\n  // Filter out attributes and internal metadata from column headers\n  const getColumns = () => {\n    if (displayedData.length === 0) return [];\n    // Get columns from first non-header row\n    const firstDataRow = displayedData.find(row => !row._isGroupHeader);\n    if (!firstDataRow) return [];\n    const allKeys = Object.keys(firstDataRow);\n    return allKeys.filter(key => {\n      // Exclude internal metadata fields\n      if (key === 'attributes' || key.startsWith('_')) return false;\n      \n      // Exclude nested relationship objects (e.g., Account__r) - always exclude these as they are objects\n      // Relationship objects end with __r and don't contain a dot\n      if (key.endsWith('__r') && !key.includes('.')) {\n        const value = firstDataRow[key];\n        // Always exclude relationship objects (they are nested objects, not displayable values)\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n          return false;\n        }\n        // Also exclude if it's null/undefined or any other type - we want the base field instead\n        return false;\n      }\n      \n      // Exclude relationship fields (e.g., Account__r.Name) if the base lookup field (e.g., Account__c) exists\n      // This prevents showing both \"Account\" (from Account__c) and \"Account__r.Name\" columns\n      if (key.includes('__r.') || key.includes('__r.Name') || key.includes('__r.name')) {\n        // Extract the base field name (e.g., Account__r.Name -> Account__c)\n        const baseFieldMatch = key.match(/^(.+?)__r\\./);\n        if (baseFieldMatch) {\n          const baseField = `${baseFieldMatch[1]}__c`;\n          // If the base lookup field exists, exclude the relationship field\n          if (allKeys.includes(baseField)) {\n            return false;\n          }\n        }\n      }\n      \n      return true;\n    });\n  };\n\n  const columns = getColumns();\n\n  return (\n    <div style={{ background: '#fff', borderRadius: '8px', padding: '24px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', width: '100%', height: 'calc(100vh - 200px)', display: 'flex', flexDirection: 'column' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n        <div>\n          <h3 style={{ fontSize: '16px', fontWeight: '600', margin: 0, marginBottom: '4px' }}>\n            Report View\n          </h3>\n          <div style={{ fontSize: '12px', color: '#666' }}>\n            Showing {displayedData.length} of {totalCount || previewData.length} {totalCount || previewData.length === 1 ? 'entry' : 'entries'}\n          </div>\n        </div>\n        <div style={{ display: 'flex', gap: '8px', alignItems: 'center', position: 'relative' }}>\n          {canEdit && onEdit && (\n            <button\n              onClick={onEdit}\n              style={{\n                padding: '6px 12px',\n                background: '#08979C',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '12px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px'\n              }}\n            >\n              <Edit2 size={14} />\n              Edit\n            </button>\n          )}\n          <div ref={exportMenuRef} style={{ position: 'relative' }}>\n            <button\n              onClick={() => setShowExportMenu(!showExportMenu)}\n              style={{\n                padding: '6px 12px',\n                background: '#059669',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '12px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px'\n              }}\n            >\n              <Download size={14} />\n              Export\n            </button>\n            {showExportMenu && (\n              <div style={{\n                position: 'absolute',\n                top: '100%',\n                right: 0,\n                marginTop: '4px',\n                background: '#fff',\n                border: '1px solid #d9d9d9',\n                borderRadius: '6px',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                zIndex: 1000,\n                minWidth: '150px',\n                overflow: 'hidden'\n              }}>\n                <button\n                  onClick={() => handleExport('excel')}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    background: 'transparent',\n                    border: 'none',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    textAlign: 'left',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    color: '#002329'\n                  }}\n                  onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n                  onMouseLeave={(e) => e.target.style.background = 'transparent'}\n                >\n                  <FileSpreadsheet size={14} color=\"#08979C\" />\n                  Export as Excel (XLSX)\n                </button>\n                <button\n                  onClick={() => handleExport('csv')}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    background: 'transparent',\n                    border: 'none',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    textAlign: 'left',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    color: '#002329',\n                    borderTop: '1px solid #f0f0f0'\n                  }}\n                  onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n                  onMouseLeave={(e) => e.target.style.background = 'transparent'}\n                >\n                  <FileText size={14} color=\"#08979C\" />\n                  Export as CSV\n                </button>\n                <button\n                  onClick={() => handleExport('pdf')}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    background: 'transparent',\n                    border: 'none',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    textAlign: 'left',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    color: '#002329',\n                    borderTop: '1px solid #f0f0f0'\n                  }}\n                  onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n                  onMouseLeave={(e) => e.target.style.background = 'transparent'}\n                >\n                  <File size={14} color=\"#08979C\" />\n                  Export as PDF\n                </button>\n              </div>\n            )}\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '4px'\n            }}\n          >\n            <X size={18} />\n          </button>\n        </div>\n      </div>\n      {displayedData.length > 0 ? (\n        <div \n          ref={scrollContainerRef}\n          style={{ \n            border: '1px solid #e5e7eb', \n            borderRadius: '6px', \n            overflow: 'auto', \n            flex: 1,\n            minHeight: 0\n          }}\n        >\n          <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n            <thead style={{ background: '#f9fafb', position: 'sticky', top: 0 }}>\n              <tr>\n                {columns.map(key => (\n                  <th key={key} style={{ padding: '8px 12px', textAlign: 'left', borderBottom: '1px solid #e5e7eb', fontWeight: '600' }}>\n                    {getFieldLabel(key)}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {displayedData.map((row, idx) => {\n                // Check if this is a group header row\n                if (row._isGroupHeader) {\n                  const groupLabel = fieldLabelMap[row._groupByField] || row._groupByField || 'Group';\n                  // Prioritize _groupKey which should have the display value (name), not the ID\n                  let groupValue = row._groupKey || '(No Value)';\n                  \n                  // If _groupKey is an ID (18 characters), try to find the relationship field\n                  if (typeof groupValue === 'string' && groupValue.length === 18 && row._groupByField && row._groupByField.endsWith('__c')) {\n                    const baseField = row._groupByField.replace('__c', '');\n                    const possibleRelFields = [\n                      `${baseField}__r.Name`,\n                      `${baseField}.Name`,\n                      `${baseField}__r.name`,\n                      `${baseField}.name`\n                    ];\n                    for (const relField of possibleRelFields) {\n                      if (row[relField]) {\n                        groupValue = row[relField];\n                        break;\n                      }\n                    }\n                    // Also check for nested relationship object\n                    if (groupValue.length === 18 && row[`${baseField}__r`] && row[`${baseField}__r`].Name) {\n                      groupValue = row[`${baseField}__r`].Name;\n                    }\n                  }\n                  \n                  return (\n                    <tr key={`group-${idx}`} style={{ background: '#f0f9ff', borderTop: '2px solid #08979C', borderBottom: '2px solid #08979C' }}>\n                      <td colSpan={columns.length} style={{ padding: '12px 16px', fontWeight: '600', fontSize: '13px', color: '#08979C' }}>\n                        {groupLabel}: {groupValue}\n                      </td>\n                    </tr>\n                  );\n                }\n                \n                // Regular data row\n                return (\n                  <tr key={idx} style={{ borderBottom: '1px solid #f3f4f6' }}>\n                    {columns.map((key, vIdx) => {\n                      const value = row[key];\n                      \n                      // Debug: Log Account field data for first row\n                      if (idx === 0 && key === 'Account__c') {\n                        console.log('[ReportViewPanel] Account field data:', {\n                          key,\n                          value,\n                          rowKeys: Object.keys(row),\n                          accountFields: Object.keys(row).filter(k => k.toLowerCase().includes('account'))\n                        });\n                      }\n                      \n                      // Handle relationship fields (e.g., Account__r.Name)\n                      if (value && typeof value === 'object' && value.Name) {\n                        return (\n                          <td key={vIdx} style={{ padding: '8px 12px' }}>\n                            {value.Name}\n                          </td>\n                        );\n                      }\n                      // Handle lookup fields - check for relationship Name fields\n                      // The relationship field could be Account__r.Name or Account.Name depending on metadata\n                      if (key.endsWith('__c') && !key.includes('__r')) {\n                        // First check if value is an ID (18 character Salesforce ID)\n                        const isId = typeof value === 'string' && value.length === 18;\n                        \n                        // Try different relationship field patterns\n                        const baseField = key.replace('__c', '');\n                        const possibleRelationshipFields = [\n                          `${baseField}__r.Name`,  // Standard pattern: Account__c -> Account__r.Name\n                          `${baseField}.Name`,     // Alternative: Account__c -> Account.Name\n                          `${baseField}__r.name`,  // Lowercase variant\n                          `${baseField}.name`      // Lowercase variant\n                        ];\n                        \n                        // Find the first matching relationship field\n                        for (const relField of possibleRelationshipFields) {\n                          if (row[relField] !== undefined && row[relField] !== null && row[relField] !== '') {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[relField]}\n                              </td>\n                            );\n                          }\n                        }\n                        \n                        // Check if there's a nested relationship object (e.g., Account__r: { Name: \"Meta\" })\n                        const relObjKey = `${baseField}__r`;\n                        if (row[relObjKey] && typeof row[relObjKey] === 'object' && row[relObjKey].Name) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px' }}>\n                              {row[relObjKey].Name}\n                            </td>\n                          );\n                        }\n                        \n                        // Also try without __r suffix\n                        const relObjKey2 = baseField;\n                        if (row[relObjKey2] && typeof row[relObjKey2] === 'object' && row[relObjKey2].Name) {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px' }}>\n                              {row[relObjKey2].Name}\n                            </td>\n                          );\n                        }\n                        \n                        // Also check all keys for any relationship field that might match\n                        // Look for fields that contain the base field name and end with .Name or __r.Name\n                        const matchingRelField = Object.keys(row).find(k => {\n                          if (k === key || k.startsWith('_')) return false;\n                          const lowerK = k.toLowerCase();\n                          const lowerBase = baseField.toLowerCase();\n                          return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                 (k.endsWith('.Name') || k.endsWith('.name') || k.endsWith('__r.Name') || k.endsWith('__r.name'));\n                        });\n                        if (matchingRelField && row[matchingRelField] !== undefined && row[matchingRelField] !== null && row[matchingRelField] !== '') {\n                          return (\n                            <td key={vIdx} style={{ padding: '8px 12px' }}>\n                              {row[matchingRelField]}\n                            </td>\n                          );\n                        }\n                        \n                        // If it's an ID and we couldn't find the relationship field, show the ID\n                        // (This means the relationship field wasn't queried or doesn't exist)\n                        if (isId) {\n                          // Try to find any field that contains the base field name and has Name\n                          const anyRelField = Object.keys(row).find(k => {\n                            if (k === key || k.startsWith('_')) return false;\n                            const lowerK = k.toLowerCase();\n                            const lowerBase = baseField.toLowerCase();\n                            return (lowerK.includes(lowerBase) || lowerK.includes(lowerBase.replace('_', ''))) && \n                                   (k.includes('Name') || k.includes('name'));\n                          });\n                          if (anyRelField && row[anyRelField] !== undefined && row[anyRelField] !== null && row[anyRelField] !== '') {\n                            return (\n                              <td key={vIdx} style={{ padding: '8px 12px' }}>\n                                {row[anyRelField]}\n                              </td>\n                            );\n                          }\n                        }\n                      }\n                      // Handle count fields - ensure they display as numbers\n                      if (key.includes('Contributors') && (typeof value === 'number' || value === 0)) {\n                        return (\n                          <td key={vIdx} style={{ padding: '8px 12px', fontWeight: '500' }}>\n                            {value}\n                          </td>\n                        );\n                      }\n                      return (\n                        <td key={vIdx} style={{ padding: '8px 12px' }}>\n                          {value !== null && value !== undefined ? String(value) : '--'}\n                        </td>\n                      );\n                    })}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          {loadingMore && (\n            <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n              <RefreshCw size={16} className=\"spinning\" style={{ display: 'inline-block', marginRight: '8px' }} />\n              Loading more records...\n            </div>\n          )}\n          {!hasMore && displayedData.length >= (totalCount || previewData.length) && (\n            <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n              All {totalCount || previewData.length} records loaded\n            </div>\n          )}\n        </div>\n      ) : (\n        <div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\n          <BarChart3 size={32} style={{ marginBottom: '12px', opacity: 0.5 }} />\n          <p>No data to preview</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReportViewPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}