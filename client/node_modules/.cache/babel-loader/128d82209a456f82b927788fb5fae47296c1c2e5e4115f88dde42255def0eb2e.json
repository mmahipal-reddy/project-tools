{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = text => {\n  _s();\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    const rafId = requestAnimationFrame(() => {\n      checkTruncation();\n      // Also check after a small delay to catch any async updates\n      setTimeout(checkTruncation, 100);\n    });\n\n    // Recheck on window resize\n    const handleResize = () => {\n      requestAnimationFrame(() => {\n        checkTruncation();\n      });\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    if (ref.current) {\n      observer = new MutationObserver(() => {\n        checkTruncation();\n      });\n      observer.observe(ref.current, {\n        childList: true,\n        subtree: true,\n        characterData: true,\n        attributes: true,\n        attributeFilter: ['style', 'class']\n      });\n    }\n    return () => {\n      cancelAnimationFrame(rafId);\n      window.removeEventListener('resize', handleResize);\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [text]);\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n_s(useTruncatedTooltip, \"ytTCSDLmhVtQddEvMNkK3x3pees=\");","map":{"version":3,"names":["useState","useRef","useEffect","useTruncatedTooltip","text","_s","isTruncated","setIsTruncated","showTooltip","setShowTooltip","ref","checkTruncation","current","element","isTextTruncated","scrollWidth","clientWidth","scrollHeight","clientHeight","rafId","requestAnimationFrame","setTimeout","handleResize","window","addEventListener","observer","MutationObserver","observe","childList","subtree","characterData","attributes","attributeFilter","cancelAnimationFrame","removeEventListener","disconnect","handleMouseEnter","handleMouseLeave"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/useTruncatedTooltip.js"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\n\n/**\n * Hook that detects if text is truncated and provides tooltip functionality\n * Returns: { ref, isTruncated, showTooltip, handleMouseEnter, handleMouseLeave }\n */\nexport const useTruncatedTooltip = (text) => {\n  const [isTruncated, setIsTruncated] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const checkTruncation = () => {\n      if (ref.current) {\n        const element = ref.current;\n        // Check if text is truncated (scrollWidth > clientWidth for horizontal, scrollHeight > clientHeight for vertical)\n        const isTextTruncated = element.scrollWidth > element.clientWidth || \n                                element.scrollHeight > element.clientHeight;\n        setIsTruncated(isTextTruncated);\n      }\n    };\n\n    // Use requestAnimationFrame to ensure DOM is fully rendered\n    const rafId = requestAnimationFrame(() => {\n      checkTruncation();\n      // Also check after a small delay to catch any async updates\n      setTimeout(checkTruncation, 100);\n    });\n    \n    // Recheck on window resize\n    const handleResize = () => {\n      requestAnimationFrame(() => {\n        checkTruncation();\n      });\n    };\n    \n    window.addEventListener('resize', handleResize);\n    \n    // Also use MutationObserver to detect content changes\n    let observer = null;\n    if (ref.current) {\n      observer = new MutationObserver(() => {\n        checkTruncation();\n      });\n      observer.observe(ref.current, {\n        childList: true,\n        subtree: true,\n        characterData: true,\n        attributes: true,\n        attributeFilter: ['style', 'class']\n      });\n    }\n    \n    return () => {\n      cancelAnimationFrame(rafId);\n      window.removeEventListener('resize', handleResize);\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [text]);\n\n  const handleMouseEnter = () => {\n    if (isTruncated) {\n      setShowTooltip(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n\n  return {\n    ref,\n    isTruncated,\n    showTooltip,\n    setShowTooltip,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;;AAEnD;AACA;AACA;AACA;AACA,OAAO,MAAMC,mBAAmB,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMU,GAAG,GAAGT,MAAM,CAAC,IAAI,CAAC;EAExBC,SAAS,CAAC,MAAM;IACd,MAAMS,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAID,GAAG,CAACE,OAAO,EAAE;QACf,MAAMC,OAAO,GAAGH,GAAG,CAACE,OAAO;QAC3B;QACA,MAAME,eAAe,GAAGD,OAAO,CAACE,WAAW,GAAGF,OAAO,CAACG,WAAW,IACzCH,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACK,YAAY;QACnEX,cAAc,CAACO,eAAe,CAAC;MACjC;IACF,CAAC;;IAED;IACA,MAAMK,KAAK,GAAGC,qBAAqB,CAAC,MAAM;MACxCT,eAAe,CAAC,CAAC;MACjB;MACAU,UAAU,CAACV,eAAe,EAAE,GAAG,CAAC;IAClC,CAAC,CAAC;;IAEF;IACA,MAAMW,YAAY,GAAGA,CAAA,KAAM;MACzBF,qBAAqB,CAAC,MAAM;QAC1BT,eAAe,CAAC,CAAC;MACnB,CAAC,CAAC;IACJ,CAAC;IAEDY,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,YAAY,CAAC;;IAE/C;IACA,IAAIG,QAAQ,GAAG,IAAI;IACnB,IAAIf,GAAG,CAACE,OAAO,EAAE;MACfa,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,MAAM;QACpCf,eAAe,CAAC,CAAC;MACnB,CAAC,CAAC;MACFc,QAAQ,CAACE,OAAO,CAACjB,GAAG,CAACE,OAAO,EAAE;QAC5BgB,SAAS,EAAE,IAAI;QACfC,OAAO,EAAE,IAAI;QACbC,aAAa,EAAE,IAAI;QACnBC,UAAU,EAAE,IAAI;QAChBC,eAAe,EAAE,CAAC,OAAO,EAAE,OAAO;MACpC,CAAC,CAAC;IACJ;IAEA,OAAO,MAAM;MACXC,oBAAoB,CAACd,KAAK,CAAC;MAC3BI,MAAM,CAACW,mBAAmB,CAAC,QAAQ,EAAEZ,YAAY,CAAC;MAClD,IAAIG,QAAQ,EAAE;QACZA,QAAQ,CAACU,UAAU,CAAC,CAAC;MACvB;IACF,CAAC;EACH,CAAC,EAAE,CAAC/B,IAAI,CAAC,CAAC;EAEV,MAAMgC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI9B,WAAW,EAAE;MACfG,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC;EAED,MAAM4B,gBAAgB,GAAGA,CAAA,KAAM;IAC7B5B,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,OAAO;IACLC,GAAG;IACHJ,WAAW;IACXE,WAAW;IACXC,cAAc;IACd2B,gBAAgB;IAChBC;EACF,CAAC;AACH,CAAC;AAAChC,EAAA,CA1EWF,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}