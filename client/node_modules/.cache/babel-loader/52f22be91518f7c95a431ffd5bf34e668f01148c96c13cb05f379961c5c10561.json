{"ast":null,"code":"// SingleFieldUpdate component - Handles single field update form\nimport React from'react';import FieldValueInput from'./FieldValueInput';import{UPDATE_MODES}from'../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SingleFieldUpdate=_ref=>{let{selectedObject,fields,loadingFields,selectedField,setSelectedField,updateMode,setUpdateMode,currentValue,setCurrentValue,newValue,setNewValue,selectedFieldInfo,picklistValues,// Reference search props for new value\nreferenceSearchTerm,setReferenceSearchTerm,referenceSearchResults,searchingReference,showReferenceDropdown,setShowReferenceDropdown,// Reference search props for current value\ncurrentValueReferenceSearchTerm,setCurrentValueReferenceSearchTerm,currentValueReferenceSearchResults,searchingCurrentValueReference,showCurrentValueReferenceDropdown,setShowCurrentValueReferenceDropdown}=_ref;const handleFieldChange=fieldName=>{setSelectedField(fieldName);setNewValue('');setCurrentValue('');};const handleNewValueReferenceSelect=record=>{setNewValue(record.id||record.Id);setReferenceSearchTerm(record.name||record.Name);setShowReferenceDropdown(false);};const handleCurrentValueReferenceSelect=record=>{setCurrentValue(record.id||record.Id);setCurrentValueReferenceSearchTerm(record.name||record.Name);setShowCurrentValueReferenceDropdown(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid compact-grid single-field-update-grid\",style:{gridTemplateColumns:updateMode===UPDATE_MODES.SPECIFIC?'1fr 1fr 1fr 1fr':'1fr 1fr 1fr',gap:'10px',display:'grid',width:'100%',minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Field *\"}),loadingFields?/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px',fontSize:'12px',color:'#666'},children:\"Loading fields...\"}):/*#__PURE__*/_jsxs(\"select\",{value:selectedField,onChange:e=>handleFieldChange(e.target.value),disabled:!selectedObject||fields.length===0,style:{fontSize:'12px',padding:'6px 10px',height:'32px',width:'100%',border:'1px solid #d1d5db',borderRadius:'4px',backgroundColor:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select Field--\"}),fields.map(field=>/*#__PURE__*/_jsxs(\"option\",{value:field.name,children:[field.label,\" (\",field.type,\")\"]},field.name))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Update Mode *\"}),/*#__PURE__*/_jsxs(\"select\",{value:updateMode,onChange:e=>{setUpdateMode(e.target.value);setCurrentValue('');},style:{fontSize:'12px',padding:'6px 10px',height:'32px',width:'100%',border:'1px solid #d1d5db',borderRadius:'4px',backgroundColor:'#fff'},children:[/*#__PURE__*/_jsx(\"option\",{value:UPDATE_MODES.ALL,children:\"Update All Records\"}),/*#__PURE__*/_jsx(\"option\",{value:UPDATE_MODES.SPECIFIC,children:\"Update Only Records with Specific Value\"})]})]}),updateMode===UPDATE_MODES.SPECIFIC&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Current Value *\"}),/*#__PURE__*/_jsx(FieldValueInput,{value:currentValue,onChange:setCurrentValue,fieldInfo:selectedFieldInfo,picklistValues:picklistValues,placeholder:\"Enter current value to update\",disabled:!selectedField,isCurrentValue:true,currentValueReferenceSearchTerm:currentValueReferenceSearchTerm,setCurrentValueReferenceSearchTerm:setCurrentValueReferenceSearchTerm,currentValueReferenceSearchResults:currentValueReferenceSearchResults,searchingCurrentValueReference:searchingCurrentValueReference,showCurrentValueReferenceDropdown:showCurrentValueReferenceDropdown,setShowCurrentValueReferenceDropdown:setShowCurrentValueReferenceDropdown,onCurrentValueReferenceSelect:handleCurrentValueReferenceSelect})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"New Value *\",selectedFieldInfo&&selectedFieldInfo.required&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\" *\"})]}),/*#__PURE__*/_jsx(FieldValueInput,{value:newValue,onChange:setNewValue,fieldInfo:selectedFieldInfo,picklistValues:picklistValues,placeholder:selectedFieldInfo?\"Enter new value for \".concat(selectedFieldInfo.label):'Enter new value',disabled:!selectedField,referenceSearchTerm:referenceSearchTerm,setReferenceSearchTerm:setReferenceSearchTerm,referenceSearchResults:referenceSearchResults,searchingReference:searchingReference,showReferenceDropdown:showReferenceDropdown,setShowReferenceDropdown:setShowReferenceDropdown,onReferenceSelect:handleNewValueReferenceSelect})]})]},\"single-field-grid-\".concat(updateMode))});};export default SingleFieldUpdate;","map":{"version":3,"names":["React","FieldValueInput","UPDATE_MODES","jsx","_jsx","jsxs","_jsxs","SingleFieldUpdate","_ref","selectedObject","fields","loadingFields","selectedField","setSelectedField","updateMode","setUpdateMode","currentValue","setCurrentValue","newValue","setNewValue","selectedFieldInfo","picklistValues","referenceSearchTerm","setReferenceSearchTerm","referenceSearchResults","searchingReference","showReferenceDropdown","setShowReferenceDropdown","currentValueReferenceSearchTerm","setCurrentValueReferenceSearchTerm","currentValueReferenceSearchResults","searchingCurrentValueReference","showCurrentValueReferenceDropdown","setShowCurrentValueReferenceDropdown","handleFieldChange","fieldName","handleNewValueReferenceSelect","record","id","Id","name","Name","handleCurrentValueReferenceSelect","children","className","style","gridTemplateColumns","SPECIFIC","gap","display","width","minWidth","padding","fontSize","color","value","onChange","e","target","disabled","length","height","border","borderRadius","backgroundColor","map","field","label","type","ALL","fieldInfo","placeholder","isCurrentValue","onCurrentValueReferenceSelect","required","concat","onReferenceSelect"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/UpdateObjectFields/components/SingleFieldUpdate.js"],"sourcesContent":["// SingleFieldUpdate component - Handles single field update form\n\nimport React from 'react';\nimport FieldValueInput from './FieldValueInput';\nimport { UPDATE_MODES } from '../constants';\n\nconst SingleFieldUpdate = ({\n  selectedObject,\n  fields,\n  loadingFields,\n  selectedField,\n  setSelectedField,\n  updateMode,\n  setUpdateMode,\n  currentValue,\n  setCurrentValue,\n  newValue,\n  setNewValue,\n  selectedFieldInfo,\n  picklistValues,\n  // Reference search props for new value\n  referenceSearchTerm,\n  setReferenceSearchTerm,\n  referenceSearchResults,\n  searchingReference,\n  showReferenceDropdown,\n  setShowReferenceDropdown,\n  // Reference search props for current value\n  currentValueReferenceSearchTerm,\n  setCurrentValueReferenceSearchTerm,\n  currentValueReferenceSearchResults,\n  searchingCurrentValueReference,\n  showCurrentValueReferenceDropdown,\n  setShowCurrentValueReferenceDropdown\n}) => {\n  const handleFieldChange = (fieldName) => {\n    setSelectedField(fieldName);\n    setNewValue('');\n    setCurrentValue('');\n  };\n\n  const handleNewValueReferenceSelect = (record) => {\n    setNewValue(record.id || record.Id);\n    setReferenceSearchTerm(record.name || record.Name);\n    setShowReferenceDropdown(false);\n  };\n\n  const handleCurrentValueReferenceSelect = (record) => {\n    setCurrentValue(record.id || record.Id);\n    setCurrentValueReferenceSearchTerm(record.name || record.Name);\n    setShowCurrentValueReferenceDropdown(false);\n  };\n\n  return (\n    <div>\n      <div \n        key={`single-field-grid-${updateMode}`}\n        className=\"form-grid compact-grid single-field-update-grid\" \n        style={{ \n          gridTemplateColumns: updateMode === UPDATE_MODES.SPECIFIC ? '1fr 1fr 1fr 1fr' : '1fr 1fr 1fr', \n          gap: '10px',\n          display: 'grid',\n          width: '100%',\n          minWidth: 0\n        }}\n      >\n        <div className=\"form-group\">\n          <label>Field *</label>\n          {loadingFields ? (\n            <div style={{ padding: '6px', fontSize: '12px', color: '#666' }}>Loading fields...</div>\n          ) : (\n            <select\n              value={selectedField}\n              onChange={(e) => handleFieldChange(e.target.value)}\n              disabled={!selectedObject || fields.length === 0}\n              style={{ fontSize: '12px', padding: '6px 10px', height: '32px', width: '100%', border: '1px solid #d1d5db', borderRadius: '4px', backgroundColor: '#fff' }}\n            >\n              <option value=\"\">--Select Field--</option>\n              {fields.map((field) => (\n                <option key={field.name} value={field.name}>\n                  {field.label} ({field.type})\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Update Mode *</label>\n          <select\n            value={updateMode}\n            onChange={(e) => {\n              setUpdateMode(e.target.value);\n              setCurrentValue('');\n            }}\n            style={{ fontSize: '12px', padding: '6px 10px', height: '32px', width: '100%', border: '1px solid #d1d5db', borderRadius: '4px', backgroundColor: '#fff' }}\n          >\n            <option value={UPDATE_MODES.ALL}>Update All Records</option>\n            <option value={UPDATE_MODES.SPECIFIC}>Update Only Records with Specific Value</option>\n          </select>\n        </div>\n\n        {updateMode === UPDATE_MODES.SPECIFIC && (\n          <div className=\"form-group\">\n            <label>Current Value *</label>\n            <FieldValueInput\n              value={currentValue}\n              onChange={setCurrentValue}\n              fieldInfo={selectedFieldInfo}\n              picklistValues={picklistValues}\n              placeholder=\"Enter current value to update\"\n              disabled={!selectedField}\n              isCurrentValue={true}\n              currentValueReferenceSearchTerm={currentValueReferenceSearchTerm}\n              setCurrentValueReferenceSearchTerm={setCurrentValueReferenceSearchTerm}\n              currentValueReferenceSearchResults={currentValueReferenceSearchResults}\n              searchingCurrentValueReference={searchingCurrentValueReference}\n              showCurrentValueReferenceDropdown={showCurrentValueReferenceDropdown}\n              setShowCurrentValueReferenceDropdown={setShowCurrentValueReferenceDropdown}\n              onCurrentValueReferenceSelect={handleCurrentValueReferenceSelect}\n            />\n          </div>\n        )}\n\n        <div className=\"form-group\">\n          <label>\n            New Value *\n            {selectedFieldInfo && selectedFieldInfo.required && <span style={{ color: 'red' }}> *</span>}\n          </label>\n          <FieldValueInput\n            value={newValue}\n            onChange={setNewValue}\n            fieldInfo={selectedFieldInfo}\n            picklistValues={picklistValues}\n            placeholder={selectedFieldInfo ? `Enter new value for ${selectedFieldInfo.label}` : 'Enter new value'}\n            disabled={!selectedField}\n            referenceSearchTerm={referenceSearchTerm}\n            setReferenceSearchTerm={setReferenceSearchTerm}\n            referenceSearchResults={referenceSearchResults}\n            searchingReference={searchingReference}\n            showReferenceDropdown={showReferenceDropdown}\n            setShowReferenceDropdown={setShowReferenceDropdown}\n            onReferenceSelect={handleNewValueReferenceSelect}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SingleFieldUpdate;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}