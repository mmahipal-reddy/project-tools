{"ast":null,"code":"var _jsxFileName = \"/Users/mmoola/Cursor/ProjectSetup/client/src/components/AdvancedReportBuilder/AdvancedBuilderCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport ObjectPanel from './ObjectPanel/ObjectPanel';\nimport QueryCanvas from './QueryCanvas/QueryCanvas';\nimport PreviewPanel from './PreviewPanel/PreviewPanel';\nimport { useQueryBuilder } from './hooks/useQueryBuilder';\nimport { usePreview } from './hooks/usePreview';\nimport '../../styles/AdvancedBuilderCanvas.css';\nimport InfoModal from './InfoModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdvancedBuilderCanvas = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  reportToLoad,\n  onReportLoaded\n}, ref) => {\n  var _reportConfig$objects;\n  _s();\n  const {\n    reportConfig,\n    updateConfig,\n    loadReport,\n    // Legacy single-object methods\n    addField,\n    removeField,\n    addRelationship,\n    removeRelationship,\n    addSubquery,\n    removeSubquery,\n    addFilter,\n    removeFilter,\n    updateSort,\n    updateGroupBy,\n    // New multi-object methods\n    addObject,\n    removeObject,\n    addFieldToObject,\n    removeFieldFromObject,\n    reorderFieldsInObject,\n    addRelationshipToObject,\n    removeRelationshipFromObject,\n    addSubqueryToObject,\n    removeSubqueryFromObject,\n    addFilterToObject,\n    removeFilterFromObject\n  } = useQueryBuilder();\n  const {\n    previewData,\n    loading,\n    error,\n    generatePreview\n  } = usePreview();\n  const [showPreview, setShowPreview] = useState(false);\n  const [leftPanelWidth, setLeftPanelWidth] = useState(280);\n  const [isResizing, setIsResizing] = useState(false);\n\n  // Load report when reportToLoad prop changes\n  useEffect(() => {\n    if (reportToLoad) {\n      console.log('Loading report into builder:', reportToLoad);\n      loadReport(reportToLoad);\n      if (onReportLoaded) {\n        onReportLoaded();\n      }\n    }\n  }, [reportToLoad, loadReport, onReportLoaded]);\n\n  // Handle panel resizing\n  useEffect(() => {\n    const handleMouseMove = e => {\n      if (!isResizing) return;\n      e.preventDefault();\n      const canvasLayout = document.querySelector('.canvas-layout');\n      if (!canvasLayout) return;\n      const rect = canvasLayout.getBoundingClientRect();\n      const newWidth = e.clientX - rect.left;\n\n      // Constrain width between min and max\n      if (newWidth >= 200 && newWidth <= 600) {\n        setLeftPanelWidth(newWidth);\n      } else if (newWidth < 200) {\n        setLeftPanelWidth(200);\n      } else if (newWidth > 600) {\n        setLeftPanelWidth(600);\n      }\n    };\n    const handleMouseUp = () => {\n      setIsResizing(false);\n    };\n    if (isResizing) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      document.body.style.cursor = 'col-resize';\n      document.body.style.userSelect = 'none';\n      document.body.style.pointerEvents = 'none';\n    } else {\n      document.body.style.cursor = '';\n      document.body.style.userSelect = '';\n      document.body.style.pointerEvents = '';\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n      document.body.style.cursor = '';\n      document.body.style.userSelect = '';\n      document.body.style.pointerEvents = '';\n    };\n  }, [isResizing]);\n\n  // Expose reportConfig, loadReport, and showPreview via ref\n  useImperativeHandle(ref, () => ({\n    getReportConfig: () => reportConfig,\n    loadReport: report => loadReport(report),\n    showPreview: () => {\n      // Generate preview if not already loaded\n      if (!previewData || previewData.length === 0) {\n        generatePreview(reportConfig).then(() => {\n          setShowPreview(true);\n        }).catch(err => {\n          console.error('Preview generation error:', err);\n        });\n      } else {\n        setShowPreview(true);\n      }\n    }\n  }));\n\n  // Auto-preview when config changes (debounced)\n  useEffect(() => {\n    if (!reportConfig) {\n      return;\n    }\n\n    // Check if we have objects with fields (multi-object mode) or legacy single-object mode\n    const isMultiObjectMode = reportConfig.objects && reportConfig.objects.length > 0;\n    let shouldGeneratePreview = false;\n    if (isMultiObjectMode) {\n      // Multi-object mode: only preview if at least one object has fields\n      shouldGeneratePreview = reportConfig.objects.some(obj => obj && obj.objectType && obj.fields && obj.fields.length > 0);\n    } else {\n      // Legacy single-object mode: only preview if objectType and fields exist\n      shouldGeneratePreview = reportConfig.objectType && reportConfig.fields && Array.isArray(reportConfig.fields) && reportConfig.fields.length > 0;\n    }\n    if (shouldGeneratePreview) {\n      const timer = setTimeout(() => {\n        generatePreview(reportConfig).catch(err => {\n          // Silently handle errors - toast already shown in usePreview\n          console.error('Preview generation error:', err);\n        });\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n    // Don't generate preview if no valid data - usePreview hook will handle clearing\n  }, [reportConfig, generatePreview]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"advanced-builder-canvas\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-left-panel\",\n        style: {\n          width: `${leftPanelWidth}px`,\n          minWidth: `${leftPanelWidth}px`\n        },\n        children: /*#__PURE__*/_jsxDEV(ObjectPanel, {\n          selectedObject: reportConfig.objectType,\n          selectedObjects: ((_reportConfig$objects = reportConfig.objects) === null || _reportConfig$objects === void 0 ? void 0 : _reportConfig$objects.map(obj => obj.objectType)) || [],\n          onObjectSelect: objectType => {\n            // Legacy: single object mode\n            updateConfig({\n              objectType\n            });\n          },\n          onObjectAdd: objectType => {\n            addObject(objectType);\n          },\n          onObjectRemove: objectType => {\n            removeObject(objectType);\n          },\n          onFieldDrag: (field, sourceObjectType) => {\n            // In multi-object mode, add to the object that matches the source\n            // The sourceObjectType is passed from ObjectBrowser when dragging\n            if (reportConfig.objects && reportConfig.objects.length > 0) {\n              // If sourceObjectType is provided, add to that object\n              // Otherwise, add to the first object (legacy behavior)\n              const targetObject = sourceObjectType || reportConfig.objects[0].objectType;\n              addFieldToObject(targetObject, field);\n            } else {\n              addField(field);\n            }\n          },\n          onRelationshipDrag: relationship => {\n            if (reportConfig.objects && reportConfig.objects.length > 0) {\n              addRelationshipToObject(reportConfig.objects[0].objectType, relationship);\n            } else {\n              addRelationship(relationship);\n            }\n          },\n          onSubqueryDrag: subquery => {\n            if (reportConfig.objects && reportConfig.objects.length > 0) {\n              addSubqueryToObject(reportConfig.objects[0].objectType, subquery);\n            } else {\n              addSubquery(subquery);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resize-handle\",\n        onMouseDown: e => {\n          e.preventDefault();\n          setIsResizing(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-center-panel\",\n        children: /*#__PURE__*/_jsxDEV(QueryCanvas, {\n          reportConfig: reportConfig\n          // Legacy single-object methods\n          ,\n          onFieldAdd: addField,\n          onFieldRemove: removeField,\n          onRelationshipAdd: addRelationship,\n          onRelationshipRemove: removeRelationship,\n          onSubqueryAdd: addSubquery,\n          onSubqueryRemove: removeSubquery,\n          onFilterAdd: addFilter,\n          onFilterRemove: removeFilter,\n          onSortUpdate: updateSort,\n          onGroupByUpdate: updateGroupBy,\n          onConfigUpdate: updateConfig\n          // New multi-object methods\n          ,\n          onObjectAdd: addObject,\n          onObjectRemove: removeObject,\n          onFieldAddToObject: addFieldToObject,\n          onFieldRemoveFromObject: removeFieldFromObject,\n          onFieldReorderInObject: reorderFieldsInObject,\n          onRelationshipAddToObject: addRelationshipToObject,\n          onRelationshipRemoveFromObject: removeRelationshipFromObject,\n          onSubqueryAddToObject: addSubqueryToObject,\n          onSubqueryRemoveFromObject: removeSubqueryFromObject,\n          onFilterAddToObject: addFilterToObject,\n          onFilterRemoveFromObject: removeFilterFromObject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), showPreview && /*#__PURE__*/_jsxDEV(InfoModal, {\n      show: showPreview,\n      onClose: () => setShowPreview(false),\n      title: \"Report Preview\",\n      size: \"large\",\n      children: /*#__PURE__*/_jsxDEV(PreviewPanel, {\n        data: previewData,\n        loading: loading,\n        error: error,\n        expanded: true,\n        onToggle: () => {},\n        reportName: reportConfig.name,\n        reportConfig: reportConfig\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}, \"EsARV70q2Mbdrsg1q+ZUtZJQDK8=\", false, function () {\n  return [useQueryBuilder, usePreview];\n})), \"EsARV70q2Mbdrsg1q+ZUtZJQDK8=\", false, function () {\n  return [useQueryBuilder, usePreview];\n});\n_c2 = AdvancedBuilderCanvas;\nAdvancedBuilderCanvas.displayName = 'AdvancedBuilderCanvas';\nexport default AdvancedBuilderCanvas;\nvar _c, _c2;\n$RefreshReg$(_c, \"AdvancedBuilderCanvas$forwardRef\");\n$RefreshReg$(_c2, \"AdvancedBuilderCanvas\");","map":{"version":3,"names":["React","useState","useEffect","useImperativeHandle","forwardRef","ObjectPanel","QueryCanvas","PreviewPanel","useQueryBuilder","usePreview","InfoModal","jsxDEV","_jsxDEV","AdvancedBuilderCanvas","_s","_c","reportToLoad","onReportLoaded","ref","_reportConfig$objects","reportConfig","updateConfig","loadReport","addField","removeField","addRelationship","removeRelationship","addSubquery","removeSubquery","addFilter","removeFilter","updateSort","updateGroupBy","addObject","removeObject","addFieldToObject","removeFieldFromObject","reorderFieldsInObject","addRelationshipToObject","removeRelationshipFromObject","addSubqueryToObject","removeSubqueryFromObject","addFilterToObject","removeFilterFromObject","previewData","loading","error","generatePreview","showPreview","setShowPreview","leftPanelWidth","setLeftPanelWidth","isResizing","setIsResizing","console","log","handleMouseMove","e","preventDefault","canvasLayout","document","querySelector","rect","getBoundingClientRect","newWidth","clientX","left","handleMouseUp","addEventListener","body","style","cursor","userSelect","pointerEvents","removeEventListener","getReportConfig","report","length","then","catch","err","isMultiObjectMode","objects","shouldGeneratePreview","some","obj","objectType","fields","Array","isArray","timer","setTimeout","clearTimeout","className","children","width","minWidth","selectedObject","selectedObjects","map","onObjectSelect","onObjectAdd","onObjectRemove","onFieldDrag","field","sourceObjectType","targetObject","onRelationshipDrag","relationship","onSubqueryDrag","subquery","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","onFieldAdd","onFieldRemove","onRelationshipAdd","onRelationshipRemove","onSubqueryAdd","onSubqueryRemove","onFilterAdd","onFilterRemove","onSortUpdate","onGroupByUpdate","onConfigUpdate","onFieldAddToObject","onFieldRemoveFromObject","onFieldReorderInObject","onRelationshipAddToObject","onRelationshipRemoveFromObject","onSubqueryAddToObject","onSubqueryRemoveFromObject","onFilterAddToObject","onFilterRemoveFromObject","show","onClose","title","size","data","expanded","onToggle","reportName","name","_c2","displayName","$RefreshReg$"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/components/AdvancedReportBuilder/AdvancedBuilderCanvas.js"],"sourcesContent":["import React, { useState, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport ObjectPanel from './ObjectPanel/ObjectPanel';\nimport QueryCanvas from './QueryCanvas/QueryCanvas';\nimport PreviewPanel from './PreviewPanel/PreviewPanel';\nimport { useQueryBuilder } from './hooks/useQueryBuilder';\nimport { usePreview } from './hooks/usePreview';\nimport '../../styles/AdvancedBuilderCanvas.css';\nimport InfoModal from './InfoModal';\n\nconst AdvancedBuilderCanvas = forwardRef(({ reportToLoad, onReportLoaded }, ref) => {\n  const {\n    reportConfig,\n    updateConfig,\n    loadReport,\n    // Legacy single-object methods\n    addField,\n    removeField,\n    addRelationship,\n    removeRelationship,\n    addSubquery,\n    removeSubquery,\n    addFilter,\n    removeFilter,\n    updateSort,\n    updateGroupBy,\n    // New multi-object methods\n    addObject,\n    removeObject,\n    addFieldToObject,\n    removeFieldFromObject,\n    reorderFieldsInObject,\n    addRelationshipToObject,\n    removeRelationshipFromObject,\n    addSubqueryToObject,\n    removeSubqueryFromObject,\n    addFilterToObject,\n    removeFilterFromObject\n  } = useQueryBuilder();\n\n  const {\n    previewData,\n    loading,\n    error,\n    generatePreview\n  } = usePreview();\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [leftPanelWidth, setLeftPanelWidth] = useState(280);\n  const [isResizing, setIsResizing] = useState(false);\n\n  // Load report when reportToLoad prop changes\n  useEffect(() => {\n    if (reportToLoad) {\n      console.log('Loading report into builder:', reportToLoad);\n      loadReport(reportToLoad);\n      if (onReportLoaded) {\n        onReportLoaded();\n      }\n    }\n  }, [reportToLoad, loadReport, onReportLoaded]);\n\n  // Handle panel resizing\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      if (!isResizing) return;\n      e.preventDefault();\n      const canvasLayout = document.querySelector('.canvas-layout');\n      if (!canvasLayout) return;\n      \n      const rect = canvasLayout.getBoundingClientRect();\n      const newWidth = e.clientX - rect.left;\n      \n      // Constrain width between min and max\n      if (newWidth >= 200 && newWidth <= 600) {\n        setLeftPanelWidth(newWidth);\n      } else if (newWidth < 200) {\n        setLeftPanelWidth(200);\n      } else if (newWidth > 600) {\n        setLeftPanelWidth(600);\n      }\n    };\n\n    const handleMouseUp = () => {\n      setIsResizing(false);\n    };\n\n    if (isResizing) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      document.body.style.cursor = 'col-resize';\n      document.body.style.userSelect = 'none';\n      document.body.style.pointerEvents = 'none';\n    } else {\n      document.body.style.cursor = '';\n      document.body.style.userSelect = '';\n      document.body.style.pointerEvents = '';\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n      document.body.style.cursor = '';\n      document.body.style.userSelect = '';\n      document.body.style.pointerEvents = '';\n    };\n  }, [isResizing]);\n\n  // Expose reportConfig, loadReport, and showPreview via ref\n  useImperativeHandle(ref, () => ({\n    getReportConfig: () => reportConfig,\n    loadReport: (report) => loadReport(report),\n    showPreview: () => {\n      // Generate preview if not already loaded\n      if (!previewData || previewData.length === 0) {\n        generatePreview(reportConfig).then(() => {\n          setShowPreview(true);\n        }).catch(err => {\n          console.error('Preview generation error:', err);\n        });\n      } else {\n        setShowPreview(true);\n      }\n    }\n  }));\n\n  // Auto-preview when config changes (debounced)\n  useEffect(() => {\n    if (!reportConfig) {\n      return;\n    }\n\n    // Check if we have objects with fields (multi-object mode) or legacy single-object mode\n    const isMultiObjectMode = reportConfig.objects && reportConfig.objects.length > 0;\n    \n    let shouldGeneratePreview = false;\n    \n    if (isMultiObjectMode) {\n      // Multi-object mode: only preview if at least one object has fields\n      shouldGeneratePreview = reportConfig.objects.some(obj => \n        obj && obj.objectType && obj.fields && obj.fields.length > 0\n      );\n    } else {\n      // Legacy single-object mode: only preview if objectType and fields exist\n      shouldGeneratePreview = reportConfig.objectType && \n                               reportConfig.fields && \n                               Array.isArray(reportConfig.fields) &&\n                               reportConfig.fields.length > 0;\n    }\n    \n    if (shouldGeneratePreview) {\n      const timer = setTimeout(() => {\n        generatePreview(reportConfig).catch(err => {\n          // Silently handle errors - toast already shown in usePreview\n          console.error('Preview generation error:', err);\n        });\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n    // Don't generate preview if no valid data - usePreview hook will handle clearing\n  }, [reportConfig, generatePreview]);\n\n  return (\n    <div className=\"advanced-builder-canvas\">\n      <div className=\"canvas-layout\">\n        {/* Left Panel - Object Browser */}\n        <div \n          className=\"canvas-left-panel\"\n          style={{ width: `${leftPanelWidth}px`, minWidth: `${leftPanelWidth}px` }}\n        >\n          <ObjectPanel\n            selectedObject={reportConfig.objectType}\n            selectedObjects={reportConfig.objects?.map(obj => obj.objectType) || []}\n            onObjectSelect={(objectType) => {\n              // Legacy: single object mode\n              updateConfig({ objectType });\n            }}\n            onObjectAdd={(objectType) => {\n              addObject(objectType);\n            }}\n            onObjectRemove={(objectType) => {\n              removeObject(objectType);\n            }}\n            onFieldDrag={(field, sourceObjectType) => {\n              // In multi-object mode, add to the object that matches the source\n              // The sourceObjectType is passed from ObjectBrowser when dragging\n              if (reportConfig.objects && reportConfig.objects.length > 0) {\n                // If sourceObjectType is provided, add to that object\n                // Otherwise, add to the first object (legacy behavior)\n                const targetObject = sourceObjectType || reportConfig.objects[0].objectType;\n                addFieldToObject(targetObject, field);\n              } else {\n                addField(field);\n              }\n            }}\n            onRelationshipDrag={(relationship) => {\n              if (reportConfig.objects && reportConfig.objects.length > 0) {\n                addRelationshipToObject(reportConfig.objects[0].objectType, relationship);\n              } else {\n                addRelationship(relationship);\n              }\n            }}\n            onSubqueryDrag={(subquery) => {\n              if (reportConfig.objects && reportConfig.objects.length > 0) {\n                addSubqueryToObject(reportConfig.objects[0].objectType, subquery);\n              } else {\n                addSubquery(subquery);\n              }\n            }}\n          />\n        </div>\n        \n        {/* Resize Handle */}\n        <div\n          className=\"resize-handle\"\n          onMouseDown={(e) => {\n            e.preventDefault();\n            setIsResizing(true);\n          }}\n        />\n\n        {/* Center Panel - Visual Query Builder */}\n        <div className=\"canvas-center-panel\">\n          <QueryCanvas\n            reportConfig={reportConfig}\n            // Legacy single-object methods\n            onFieldAdd={addField}\n            onFieldRemove={removeField}\n            onRelationshipAdd={addRelationship}\n            onRelationshipRemove={removeRelationship}\n            onSubqueryAdd={addSubquery}\n            onSubqueryRemove={removeSubquery}\n            onFilterAdd={addFilter}\n            onFilterRemove={removeFilter}\n            onSortUpdate={updateSort}\n            onGroupByUpdate={updateGroupBy}\n            onConfigUpdate={updateConfig}\n            // New multi-object methods\n            onObjectAdd={addObject}\n            onObjectRemove={removeObject}\n            onFieldAddToObject={addFieldToObject}\n            onFieldRemoveFromObject={removeFieldFromObject}\n            onFieldReorderInObject={reorderFieldsInObject}\n            onRelationshipAddToObject={addRelationshipToObject}\n            onRelationshipRemoveFromObject={removeRelationshipFromObject}\n            onSubqueryAddToObject={addSubqueryToObject}\n            onSubqueryRemoveFromObject={removeSubqueryFromObject}\n            onFilterAddToObject={addFilterToObject}\n            onFilterRemoveFromObject={removeFilterFromObject}\n          />\n        </div>\n      </div>\n\n      {/* Preview Modal */}\n      {showPreview && (\n        <InfoModal\n          show={showPreview}\n          onClose={() => setShowPreview(false)}\n          title=\"Report Preview\"\n          size=\"large\"\n        >\n          <PreviewPanel\n            data={previewData}\n            loading={loading}\n            error={error}\n            expanded={true}\n            onToggle={() => {}}\n            reportName={reportConfig.name}\n            reportConfig={reportConfig}\n          />\n        </InfoModal>\n      )}\n    </div>\n  );\n});\n\nAdvancedBuilderCanvas.displayName = 'AdvancedBuilderCanvas';\n\nexport default AdvancedBuilderCanvas;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}