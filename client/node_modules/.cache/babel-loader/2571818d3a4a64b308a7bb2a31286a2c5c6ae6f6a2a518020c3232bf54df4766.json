{"ast":null,"code":"import _objectSpread from\"/Users/mmoola/Cursor/ProjectSetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Global Search Service - Search across all features\nimport apiClient from'../../config/api';// Searchable feature types\nconst SEARCHABLE_FEATURES={PROJECTS:'projects',PROJECT_OBJECTIVES:'project_objectives',WORKSTREAMS:'workstreams',CONTRIBUTOR_PROJECTS:'contributor_projects',CASES:'cases',CONTACTS:'contacts',ACCOUNTS:'accounts'};/**\n * Search across all features\n * @param {string} query - Search query\n * @param {Array} features - Features to search (default: all)\n * @returns {Promise<Object>} Search results grouped by feature\n */export const globalSearch=async function(query){let features=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!query||query.trim()===''){return{results:{},total:0};}const featuresToSearch=features||Object.values(SEARCHABLE_FEATURES);const results={};let total=0;try{// Search each feature in parallel\nconst searchPromises=featuresToSearch.map(async feature=>{try{let response;switch(feature){case SEARCHABLE_FEATURES.PROJECTS:response=await apiClient.get(\"/projects?searchTerm=\".concat(encodeURIComponent(query),\"&limit=10\"));break;case SEARCHABLE_FEATURES.PROJECT_OBJECTIVES:response=await apiClient.get(\"/project-objectives?searchTerm=\".concat(encodeURIComponent(query),\"&limit=10\"));break;case SEARCHABLE_FEATURES.WORKSTREAMS:response=await apiClient.get(\"/workstream?searchTerm=\".concat(encodeURIComponent(query),\"&limit=10\"));break;case SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS:response=await apiClient.get(\"/queue-status-management/contributor-projects?searchTerm=\".concat(encodeURIComponent(query),\"&limit=10\"));break;default:return{feature,items:[],count:0};}if(response.data.success){const items=response.data.projects||response.data.objectives||response.data.workstreams||[];return{feature,items:items.map(item=>_objectSpread(_objectSpread({},item),{},{type:feature,path:getPathForFeature(feature,item.id)})),count:items.length};}return{feature,items:[],count:0};}catch(error){console.error(\"Error searching \".concat(feature,\":\"),error);return{feature,items:[],count:0};}});const searchResults=await Promise.all(searchPromises);searchResults.forEach(result=>{results[result.feature]={items:result.items,count:result.count};total+=result.count;});return{results,total};}catch(error){console.error('Error in global search:',error);return{results:{},total:0,error:error.message};}};/**\n * Get path for a feature item\n * @param {string} feature - Feature type\n * @param {string} id - Item ID\n * @returns {string} Route path\n */const getPathForFeature=(feature,id)=>{const paths={[SEARCHABLE_FEATURES.PROJECTS]:\"/projects/\".concat(id),[SEARCHABLE_FEATURES.PROJECT_OBJECTIVES]:\"/project-objectives/\".concat(id),[SEARCHABLE_FEATURES.WORKSTREAMS]:\"/workstream-management\",[SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS]:\"/queue-status-management\",[SEARCHABLE_FEATURES.CASES]:\"/case-analytics\",[SEARCHABLE_FEATURES.CONTACTS]:\"/contacts/\".concat(id),[SEARCHABLE_FEATURES.ACCOUNTS]:\"/accounts/\".concat(id)};return paths[feature]||'/';};export{SEARCHABLE_FEATURES};","map":{"version":3,"names":["apiClient","SEARCHABLE_FEATURES","PROJECTS","PROJECT_OBJECTIVES","WORKSTREAMS","CONTRIBUTOR_PROJECTS","CASES","CONTACTS","ACCOUNTS","globalSearch","query","features","arguments","length","undefined","trim","results","total","featuresToSearch","Object","values","searchPromises","map","feature","response","get","concat","encodeURIComponent","items","count","data","success","projects","objectives","workstreams","item","_objectSpread","type","path","getPathForFeature","id","error","console","searchResults","Promise","all","forEach","result","message","paths"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/utils/crossFeature/globalSearch.js"],"sourcesContent":["// Global Search Service - Search across all features\n\nimport apiClient from '../../config/api';\n\n// Searchable feature types\nconst SEARCHABLE_FEATURES = {\n  PROJECTS: 'projects',\n  PROJECT_OBJECTIVES: 'project_objectives',\n  WORKSTREAMS: 'workstreams',\n  CONTRIBUTOR_PROJECTS: 'contributor_projects',\n  CASES: 'cases',\n  CONTACTS: 'contacts',\n  ACCOUNTS: 'accounts'\n};\n\n/**\n * Search across all features\n * @param {string} query - Search query\n * @param {Array} features - Features to search (default: all)\n * @returns {Promise<Object>} Search results grouped by feature\n */\nexport const globalSearch = async (query, features = null) => {\n  if (!query || query.trim() === '') {\n    return { results: {}, total: 0 };\n  }\n\n  const featuresToSearch = features || Object.values(SEARCHABLE_FEATURES);\n  const results = {};\n  let total = 0;\n\n  try {\n    // Search each feature in parallel\n    const searchPromises = featuresToSearch.map(async (feature) => {\n      try {\n        let response;\n        switch (feature) {\n          case SEARCHABLE_FEATURES.PROJECTS:\n            response = await apiClient.get(`/projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.PROJECT_OBJECTIVES:\n            response = await apiClient.get(`/project-objectives?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.WORKSTREAMS:\n            response = await apiClient.get(`/workstream?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          case SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS:\n            response = await apiClient.get(`/queue-status-management/contributor-projects?searchTerm=${encodeURIComponent(query)}&limit=10`);\n            break;\n          default:\n            return { feature, items: [], count: 0 };\n        }\n\n        if (response.data.success) {\n          const items = response.data.projects || response.data.objectives || response.data.workstreams || [];\n          return {\n            feature,\n            items: items.map(item => ({\n              ...item,\n              type: feature,\n              path: getPathForFeature(feature, item.id)\n            })),\n            count: items.length\n          };\n        }\n        return { feature, items: [], count: 0 };\n      } catch (error) {\n        console.error(`Error searching ${feature}:`, error);\n        return { feature, items: [], count: 0 };\n      }\n    });\n\n    const searchResults = await Promise.all(searchPromises);\n    \n    searchResults.forEach(result => {\n      results[result.feature] = {\n        items: result.items,\n        count: result.count\n      };\n      total += result.count;\n    });\n\n    return { results, total };\n  } catch (error) {\n    console.error('Error in global search:', error);\n    return { results: {}, total: 0, error: error.message };\n  }\n};\n\n/**\n * Get path for a feature item\n * @param {string} feature - Feature type\n * @param {string} id - Item ID\n * @returns {string} Route path\n */\nconst getPathForFeature = (feature, id) => {\n  const paths = {\n    [SEARCHABLE_FEATURES.PROJECTS]: `/projects/${id}`,\n    [SEARCHABLE_FEATURES.PROJECT_OBJECTIVES]: `/project-objectives/${id}`,\n    [SEARCHABLE_FEATURES.WORKSTREAMS]: `/workstream-management`,\n    [SEARCHABLE_FEATURES.CONTRIBUTOR_PROJECTS]: `/queue-status-management`,\n    [SEARCHABLE_FEATURES.CASES]: `/case-analytics`,\n    [SEARCHABLE_FEATURES.CONTACTS]: `/contacts/${id}`,\n    [SEARCHABLE_FEATURES.ACCOUNTS]: `/accounts/${id}`\n  };\n  return paths[feature] || '/';\n};\n\nexport { SEARCHABLE_FEATURES };\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}