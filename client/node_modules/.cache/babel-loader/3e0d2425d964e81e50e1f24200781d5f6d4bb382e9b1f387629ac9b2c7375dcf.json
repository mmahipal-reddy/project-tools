{"ast":null,"code":"/**\n * Utility functions for filter operations\n */export const getOperatorsForFieldType=fieldType=>{const type=(fieldType||'').toLowerCase();if(type==='date'||type==='datetime'){return[{value:'equals',label:'Equals'},{value:'not equals',label:'Not Equals'},{value:'greater than',label:'Greater Than'},{value:'less than',label:'Less Than'},{value:'greater or equal',label:'Greater or Equal'},{value:'less or equal',label:'Less or Equal'},{value:'between',label:'Between'}];}if(type==='int'||type==='double'||type==='currency'||type==='percent'){return[{value:'equals',label:'Equals'},{value:'not equals',label:'Not Equals'},{value:'greater than',label:'Greater Than'},{value:'less than',label:'Less Than'},{value:'greater or equal',label:'Greater or Equal'},{value:'less or equal',label:'Less or Equal'},{value:'between',label:'Between'}];}if(type==='picklist'){return[{value:'equals',label:'Equals'},{value:'not equals',label:'Not Equals'},{value:'in',label:'In (Multiple)'},{value:'not in',label:'Not In (Multiple)'}];}if(type==='boolean'){return[{value:'equals',label:'Equals'},{value:'not equals',label:'Not Equals'}];}// Default for text/string fields\nreturn[{value:'equals',label:'Equals'},{value:'not equals',label:'Not Equals'},{value:'contains',label:'Contains'},{value:'not contains',label:'Not Contains'},{value:'starts with',label:'Starts With'},{value:'ends with',label:'Ends With'}];};export const getValueInputType=fieldType=>{const type=(fieldType||'').toLowerCase();if(type==='date'||type==='datetime')return'date';if(type==='int'||type==='double'||type==='currency'||type==='percent')return'number';if(type==='picklist')return'picklist';if(type==='boolean')return'boolean';return'text';};export const buildSOQLWhereClause=filterStructure=>{if(!filterStructure||!filterStructure.groups||filterStructure.groups.length===0){return'';}const conditions=filterStructure.groups.map(group=>{if(!group.conditions||group.conditions.length===0){return null;}const groupConditions=group.conditions.filter(c=>c.field&&c.operator&&c.value!==''&&c.value!==null).map(condition=>buildConditionClause(condition)).filter(c=>c!==null);if(groupConditions.length===0){return null;}const logic=group.logic||'AND';return\"(\".concat(groupConditions.join(\" \".concat(logic,\" \")),\")\");}).filter(c=>c!==null);if(conditions.length===0){return'';}const groupLogic=filterStructure.groupLogic||'AND';return conditions.join(\" \".concat(groupLogic,\" \"));};const buildConditionClause=condition=>{const{field,operator,value}=condition;if(!field||!operator||value===''||value===null){return null;}const escapedValue=val=>{if(typeof val==='string'){return\"'\".concat(val.replace(/'/g,\"''\"),\"'\");}return val;};switch(operator){case'equals':return\"\".concat(field,\" = \").concat(escapedValue(value));case'not equals':return\"\".concat(field,\" != \").concat(escapedValue(value));case'contains':return\"\".concat(field,\" LIKE '%\").concat(String(value).replace(/'/g,\"''\"),\"%'\");case'not contains':return\"NOT (\".concat(field,\" LIKE '%\").concat(String(value).replace(/'/g,\"''\"),\"%')\");case'starts with':return\"\".concat(field,\" LIKE '\").concat(String(value).replace(/'/g,\"''\"),\"%'\");case'ends with':return\"\".concat(field,\" LIKE '%\").concat(String(value).replace(/'/g,\"''\"),\"'\");case'greater than':return\"\".concat(field,\" > \").concat(escapedValue(value));case'less than':return\"\".concat(field,\" < \").concat(escapedValue(value));case'greater or equal':return\"\".concat(field,\" >= \").concat(escapedValue(value));case'less or equal':return\"\".concat(field,\" <= \").concat(escapedValue(value));case'between':if(value&&typeof value==='object'&&value.from&&value.to){return\"\".concat(field,\" >= \").concat(escapedValue(value.from),\" AND \").concat(field,\" <= \").concat(escapedValue(value.to));}return null;case'in':if(Array.isArray(value)&&value.length>0){const values=value.map(v=>escapedValue(v)).join(', ');return\"\".concat(field,\" IN (\").concat(values,\")\");}return null;case'not in':if(Array.isArray(value)&&value.length>0){const values=value.map(v=>escapedValue(v)).join(', ');return\"\".concat(field,\" NOT IN (\").concat(values,\")\");}return null;default:return null;}};","map":{"version":3,"names":["getOperatorsForFieldType","fieldType","type","toLowerCase","value","label","getValueInputType","buildSOQLWhereClause","filterStructure","groups","length","conditions","map","group","groupConditions","filter","c","field","operator","condition","buildConditionClause","logic","concat","join","groupLogic","escapedValue","val","replace","String","from","to","Array","isArray","values","v"],"sources":["/Users/mmoola/Documents/GitHub/project-tools/client/src/components/ReportBuilder/FilterBuilder/filterUtils.js"],"sourcesContent":["/**\n * Utility functions for filter operations\n */\n\nexport const getOperatorsForFieldType = (fieldType) => {\n  const type = (fieldType || '').toLowerCase();\n  \n  if (type === 'date' || type === 'datetime') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'greater than', label: 'Greater Than' },\n      { value: 'less than', label: 'Less Than' },\n      { value: 'greater or equal', label: 'Greater or Equal' },\n      { value: 'less or equal', label: 'Less or Equal' },\n      { value: 'between', label: 'Between' }\n    ];\n  }\n\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'greater than', label: 'Greater Than' },\n      { value: 'less than', label: 'Less Than' },\n      { value: 'greater or equal', label: 'Greater or Equal' },\n      { value: 'less or equal', label: 'Less or Equal' },\n      { value: 'between', label: 'Between' }\n    ];\n  }\n\n  if (type === 'picklist') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' },\n      { value: 'in', label: 'In (Multiple)' },\n      { value: 'not in', label: 'Not In (Multiple)' }\n    ];\n  }\n\n  if (type === 'boolean') {\n    return [\n      { value: 'equals', label: 'Equals' },\n      { value: 'not equals', label: 'Not Equals' }\n    ];\n  }\n\n  // Default for text/string fields\n  return [\n    { value: 'equals', label: 'Equals' },\n    { value: 'not equals', label: 'Not Equals' },\n    { value: 'contains', label: 'Contains' },\n    { value: 'not contains', label: 'Not Contains' },\n    { value: 'starts with', label: 'Starts With' },\n    { value: 'ends with', label: 'Ends With' }\n  ];\n};\n\nexport const getValueInputType = (fieldType) => {\n  const type = (fieldType || '').toLowerCase();\n  \n  if (type === 'date' || type === 'datetime') return 'date';\n  if (type === 'int' || type === 'double' || type === 'currency' || type === 'percent') return 'number';\n  if (type === 'picklist') return 'picklist';\n  if (type === 'boolean') return 'boolean';\n  return 'text';\n};\n\nexport const buildSOQLWhereClause = (filterStructure) => {\n  if (!filterStructure || !filterStructure.groups || filterStructure.groups.length === 0) {\n    return '';\n  }\n\n  const conditions = filterStructure.groups.map(group => {\n    if (!group.conditions || group.conditions.length === 0) {\n      return null;\n    }\n\n    const groupConditions = group.conditions\n      .filter(c => c.field && c.operator && c.value !== '' && c.value !== null)\n      .map(condition => buildConditionClause(condition))\n      .filter(c => c !== null);\n\n    if (groupConditions.length === 0) {\n      return null;\n    }\n\n    const logic = group.logic || 'AND';\n    return `(${groupConditions.join(` ${logic} `)})`;\n  }).filter(c => c !== null);\n\n  if (conditions.length === 0) {\n    return '';\n  }\n\n  const groupLogic = filterStructure.groupLogic || 'AND';\n  return conditions.join(` ${groupLogic} `);\n};\n\nconst buildConditionClause = (condition) => {\n  const { field, operator, value } = condition;\n  \n  if (!field || !operator || value === '' || value === null) {\n    return null;\n  }\n\n  const escapedValue = (val) => {\n    if (typeof val === 'string') {\n      return `'${val.replace(/'/g, \"''\")}'`;\n    }\n    return val;\n  };\n\n  switch (operator) {\n    case 'equals':\n      return `${field} = ${escapedValue(value)}`;\n    \n    case 'not equals':\n      return `${field} != ${escapedValue(value)}`;\n    \n    case 'contains':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}%'`;\n    \n    case 'not contains':\n      return `NOT (${field} LIKE '%${String(value).replace(/'/g, \"''\")}%')`;\n    \n    case 'starts with':\n      return `${field} LIKE '${String(value).replace(/'/g, \"''\")}%'`;\n    \n    case 'ends with':\n      return `${field} LIKE '%${String(value).replace(/'/g, \"''\")}'`;\n    \n    case 'greater than':\n      return `${field} > ${escapedValue(value)}`;\n    \n    case 'less than':\n      return `${field} < ${escapedValue(value)}`;\n    \n    case 'greater or equal':\n      return `${field} >= ${escapedValue(value)}`;\n    \n    case 'less or equal':\n      return `${field} <= ${escapedValue(value)}`;\n    \n    case 'between':\n      if (value && typeof value === 'object' && value.from && value.to) {\n        return `${field} >= ${escapedValue(value.from)} AND ${field} <= ${escapedValue(value.to)}`;\n      }\n      return null;\n    \n    case 'in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} IN (${values})`;\n      }\n      return null;\n    \n    case 'not in':\n      if (Array.isArray(value) && value.length > 0) {\n        const values = value.map(v => escapedValue(v)).join(', ');\n        return `${field} NOT IN (${values})`;\n      }\n      return null;\n    \n    default:\n      return null;\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}