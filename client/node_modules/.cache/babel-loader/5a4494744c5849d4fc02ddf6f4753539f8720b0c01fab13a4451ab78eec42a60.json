{"ast":null,"code":"var _s = $RefreshSig$();\n// Custom hook for field mappings state management\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { DEFAULT_FIELD_MAPPING } from '../constants';\nimport { getMappingStatus, getMappingSummary, createNewMapping } from '../utils/mappingUtils';\nexport const useFieldMappings = (fields, sourceFields) => {\n  _s();\n  const [fieldMappings, setFieldMappings] = useState([createNewMapping()]);\n  const [selectedMappingId, setSelectedMappingId] = useState(null);\n  const [useHybridView, setUseHybridView] = useState(false);\n\n  // Initialize selected mapping when mappings change\n  useEffect(() => {\n    if (fieldMappings.length > 0 && useHybridView) {\n      if (!selectedMappingId || !fieldMappings.find(m => m.id === selectedMappingId)) {\n        setSelectedMappingId(fieldMappings[0].id);\n      }\n    }\n  }, [fieldMappings, useHybridView, selectedMappingId]);\n\n  // Add new mapping\n  const addMapping = useCallback(() => {\n    const newMapping = createNewMapping();\n    setFieldMappings(prev => [...prev, newMapping]);\n    if (useHybridView) {\n      setSelectedMappingId(newMapping.id);\n    }\n  }, [useHybridView]);\n\n  // Remove mapping\n  const removeMapping = useCallback(mappingId => {\n    setFieldMappings(prev => {\n      const filtered = prev.filter(m => m.id !== mappingId);\n      if (filtered.length === 0) {\n        return [createNewMapping()];\n      }\n      return filtered;\n    });\n    if (selectedMappingId === mappingId) {\n      const remaining = fieldMappings.filter(m => m.id !== mappingId);\n      setSelectedMappingId(remaining.length > 0 ? remaining[0].id : null);\n    }\n  }, [selectedMappingId, fieldMappings]);\n\n  // Update mapping\n  const updateMapping = useCallback((mappingId, updates) => {\n    setFieldMappings(prev => prev.map(m => m.id === mappingId ? {\n      ...m,\n      ...updates\n    } : m));\n  }, []);\n\n  // Get mapping status\n  const getStatus = useCallback(mapping => {\n    return getMappingStatus(mapping);\n  }, []);\n\n  // Get mapping summary\n  const getSummary = useCallback(mapping => {\n    return getMappingSummary(mapping, fields, sourceFields);\n  }, [fields, sourceFields]);\n  return {\n    fieldMappings,\n    setFieldMappings,\n    selectedMappingId,\n    setSelectedMappingId,\n    useHybridView,\n    setUseHybridView,\n    addMapping,\n    removeMapping,\n    updateMapping,\n    getStatus,\n    getSummary\n  };\n};\n_s(useFieldMappings, \"wO0q5+JA5MiHu5hZpVhAmMlRWZM=\");","map":{"version":3,"names":["useState","useEffect","useCallback","DEFAULT_FIELD_MAPPING","getMappingStatus","getMappingSummary","createNewMapping","useFieldMappings","fields","sourceFields","_s","fieldMappings","setFieldMappings","selectedMappingId","setSelectedMappingId","useHybridView","setUseHybridView","length","find","m","id","addMapping","newMapping","prev","removeMapping","mappingId","filtered","filter","remaining","updateMapping","updates","map","getStatus","mapping","getSummary"],"sources":["/Users/mmoola/Cursor/ProjectSetup/client/src/pages/UpdateObjectFields/hooks/useFieldMappings.js"],"sourcesContent":["// Custom hook for field mappings state management\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { DEFAULT_FIELD_MAPPING } from '../constants';\nimport { getMappingStatus, getMappingSummary, createNewMapping } from '../utils/mappingUtils';\n\nexport const useFieldMappings = (fields, sourceFields) => {\n  const [fieldMappings, setFieldMappings] = useState([createNewMapping()]);\n  const [selectedMappingId, setSelectedMappingId] = useState(null);\n  const [useHybridView, setUseHybridView] = useState(false);\n\n  // Initialize selected mapping when mappings change\n  useEffect(() => {\n    if (fieldMappings.length > 0 && useHybridView) {\n      if (!selectedMappingId || !fieldMappings.find(m => m.id === selectedMappingId)) {\n        setSelectedMappingId(fieldMappings[0].id);\n      }\n    }\n  }, [fieldMappings, useHybridView, selectedMappingId]);\n\n  // Add new mapping\n  const addMapping = useCallback(() => {\n    const newMapping = createNewMapping();\n    setFieldMappings(prev => [...prev, newMapping]);\n    if (useHybridView) {\n      setSelectedMappingId(newMapping.id);\n    }\n  }, [useHybridView]);\n\n  // Remove mapping\n  const removeMapping = useCallback((mappingId) => {\n    setFieldMappings(prev => {\n      const filtered = prev.filter(m => m.id !== mappingId);\n      if (filtered.length === 0) {\n        return [createNewMapping()];\n      }\n      return filtered;\n    });\n    if (selectedMappingId === mappingId) {\n      const remaining = fieldMappings.filter(m => m.id !== mappingId);\n      setSelectedMappingId(remaining.length > 0 ? remaining[0].id : null);\n    }\n  }, [selectedMappingId, fieldMappings]);\n\n  // Update mapping\n  const updateMapping = useCallback((mappingId, updates) => {\n    setFieldMappings(prev => prev.map(m => \n      m.id === mappingId ? { ...m, ...updates } : m\n    ));\n  }, []);\n\n  // Get mapping status\n  const getStatus = useCallback((mapping) => {\n    return getMappingStatus(mapping);\n  }, []);\n\n  // Get mapping summary\n  const getSummary = useCallback((mapping) => {\n    return getMappingSummary(mapping, fields, sourceFields);\n  }, [fields, sourceFields]);\n\n  return {\n    fieldMappings,\n    setFieldMappings,\n    selectedMappingId,\n    setSelectedMappingId,\n    useHybridView,\n    setUseHybridView,\n    addMapping,\n    removeMapping,\n    updateMapping,\n    getStatus,\n    getSummary\n  };\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}